{"info": {"author": "Gavin Chan", "author_email": "gavincyi@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "===============\nAuto deprecator\n===============\n\n\n.. image:: https://img.shields.io/pypi/v/auto_deprecator.svg\n        :target: https://pypi.python.org/pypi/auto-deprecator\n\n.. image:: https://travis-ci.org/auto-deprecator/auto-deprecator.svg\n        :target: https://travis-ci.org/auto-deprecator/auto-deprecator\n\n.. image:: https://readthedocs.org/projects/auto-deprecator/badge/?version=latest\n        :target: https://auto-deprecator.readthedocs.io/en/latest/?badge=latest\n        :alt: Documentation Status\n\n.. image:: https://img.shields.io/pypi/dm/auto-deprecator.svg\n\n\nDeprecation toolkit in Python\n\n* Free software: MIT license\n* Documentation: https://auto-deprecator.readthedocs.io.\n\n\nHow does it work?\n-----------------\n\nThe library provides the full cycle to deprecate a function in the following ways\n\n.. image:: docs/cycle.png\n\n1. Alert the users the deprecation time\n#######################################\n\nWhen the user calls the methods or initializes the objects which will be deprecated \nin the next version or on an expected date, the user should receive the warning of\nthe future deprecation but get the return in success.\n\n.. code-block:: python\n\n  from auto_deprecator import deprecate\n\n  @deprecate(expiry='2.0.0', current='1.9.0')\n  def old_hello_world():\n      return print(\"Hello world!\")\n\n.. code-block:: python\n\n  >>> old_hello_world()\n  Hello world!\n  DeprecationWarning: The function \"old_hello_world\" will be deprecated on version 2.0.0\n\n\n2. Test as if deprecated\n########################\n\nBefore the component is deprecated, unit / integration testing should be run\nto ensure the deprecation does not break the existing flow. Pass in the environment\nvariables in the testing to simulate that the version is deployed.\n\n.. code-block:: console\n\n  (bash) hello-world-app\n  Hello world!\n  DeprecationWarning: The function \"old_hello_world\" will be deprecated in version 2.0.0\n\n.. code-block:: console\n\n  (bash) DEPRECATED_VERSION=2.0.0 hello-world-app\n  Traceback (most recent call last):\n   ...\n  RuntimeError: The function \"old_hello_world\" is deprecated in version 2.0.0\n\n\n3. Automatic deprecation before release\n#######################################\n\nDeprecating the functions is no longer a manual work. Every time before release,\nrun the command `auto-deprecate` to remove the functions deprecated in the coming\nversion.\n\n.. code-block:: console\n\n  (bash) auto-deprecate hello_world.py --version 2.0.0\n  (bash) git diff\n\n  diff --git a/hello_world.py b/hello_world.py\n  index 201e546..ec41365 100644\n  --- a/hello_world.py\n  +++ b/hello_world.py\n  @@ -1,8 +1,2 @@\n  -from auto_deprecator import deprecate\n  -\n   def hello_world():\n       return print(\"Hello world!\")\n  -\n  -@deprecate(expiry='2.0.0')\n  -def old_hello_world():\n  -    return print(\"Hello world!\")\n\n\n\nInstallation\n------------\n\nThe library can be easily installed with pip\n\n.. code-block:: console\n\n  pip install auto-deprecator\n\n\n\nAlternative Installation\n------------------------\n\nIf the auto-deprecator is included and the functions are\nwell deprecated (following the whole cycle mentioned above),\nyour software does not need auto-deprecator anymore. For\ndevelopers who are not comfortable to include a library not\nalways in use as a dependency, they can just clone the source\ncode into your project instead.\n\nFor example, your Python project contains a module called\n\"utils\" to maintain all the utility functions.\n\n.. code-block:: console\n\n  .\n  \u251c\u2500\u2500 setup.py\n  \u2514\u2500\u2500 test_py_project\n   \u00a0\u00a0 \u251c\u2500\u2500 cli.py\n   \u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n   \u00a0\u00a0 \u251c\u2500\u2500 test_py_project.py\n   \u00a0\u00a0 \u2514\u2500\u2500 utils\n   \u00a0\u00a0     \u2514\u2500\u2500 __init__.py\n\nWith the bash command \"curl\",\n\n.. code-block:: console\n\n  curl -L https://github.com/auto-deprecator/auto-deprecator/tarball/master | tar xz -C <target_directory> --wildcards \"*/auto_deprecator\" --strip-components=1\n\n\nthe source code of auto-deprecator can be cloned into the\ntarget directory, i.e. \"test_py_project/utils\" in the example\n\n.. code-block:: console\n\n  touch test_py_project/utils/__init__.py\n  curl -L https://github.com/auto-deprecator/auto-deprecator/tarball/master | tar xz -C test_py_project/utils --wildcards \"*/auto_deprecator\" --strip-components=1\n\n\nFeatures\n--------\n\nProvide hints to users\n######################\n\nProvide the parameter \"relocate\", the warning / error message will inform the user about \nthe relocated method.\n\n.. code-block:: python\n\n  @deprecate(expiry='2.1.0', current='2.0.0', relocate='new_compute_method')\n  def compute_method():\n      return 'hello world'\n\n.. code-block:: python\n\n  >>> old_hello_world()\n  Hello world!\n  DeprecationWarning: The function \"old_hello_world\" will be deprecated on version 2.0.0..\n                      Please use method / function \"new_compute_method\".\n\n\nImport current version from module name\n#######################################\n\nInstead of importing the version (`__version__`) in the module,\n\n.. code-block:: python\n\n  from your_package import __version__\n\n  @deprecate(expiry='2.1.0', current=__version__)\n  def compute_method():\n      return 'hello world'\n\nspecifying the module name, which includes the version attribute, can\nhelp maintain the source code in a clean manner.\n\n.. code-block:: python\n\n  @deprecate(expiry='2.1.0', version_module='your_package')\n  def compute_method():\n      return 'hello world'\n\nEspecially if the function is removed by the action `auto-deprecate`,\nthe unused import will not be left in the module.\n\nCustomize the deprecation handling\n==================================\n\nBy default, the `deprecate` decorator raise `DeprecationWarning` for the future expiry and `RuntimeError` on the expiration. The behavior can be modified so as to fit in the infrastructure / production environment.\n\nFor example, the `DeprecationWarning` can be replaced by a simple print out by injecting a callable function into the parameter `warn_handler`.\n\n.. code-block:: python\n\n  @deprecate(expiry='2.1.0', current='2.0.0', warn_handler=print)\n  def compute_method():\n      return 'hello world'\n\n\nSame for injecting a callable function into the parameter `error_handler`, the behavior is replaced if the function is deprecated.\n\n\n=======\nHistory\n=======\n\n2010.1.0, 2010.1.1, 2010.1.2 (2020-01-21)\n-----------------------------------------\n\n* Support alerting the users the deprecate version\n* Support testing with environment variables\n* Support automatically deprecate the expiry source code\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/gavincyi/auto_deprecator", "keywords": "auto_deprecator", "license": "MIT license", "maintainer": "", "maintainer_email": "", "name": "auto-deprecator", "package_url": "https://pypi.org/project/auto-deprecator/", "platform": "", "project_url": "https://pypi.org/project/auto-deprecator/", "project_urls": {"Homepage": "https://github.com/gavincyi/auto_deprecator"}, "release_url": "https://pypi.org/project/auto-deprecator/2020.3.0/", "requires_dist": ["pytest (>=3) ; extra == 'test'"], "requires_python": ">=3.5", "summary": "Python decorator and command to automate deprecating components", "version": "2020.3.0"}, "last_serial": 7000171, "releases": {"2020.1.2": [{"comment_text": "", "digests": {"md5": "c246fba106aa2066841eaf15ea1101f4", "sha256": "e3909ea2b482c7475f715f9bf6815ee701d6f8609bd8c30407cc4702cdad29c5"}, "downloads": -1, "filename": "auto_deprecator-2020.1.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "c246fba106aa2066841eaf15ea1101f4", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.5", "size": 6644, "upload_time": "2020-01-20T16:17:36", "upload_time_iso_8601": "2020-01-20T16:17:36.686091Z", "url": "https://files.pythonhosted.org/packages/8b/a3/7fd8d13e1e94fb7ec92826bfbc4ef26634732669167c56ed373181bac5e7/auto_deprecator-2020.1.2-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "736f99355f83d1db40b9462b3c1cbed0", "sha256": "31717ab3cbc53a970f2b149347ee0bd5c841db37dbb70c00cb3426a1fb0afb3b"}, "downloads": -1, "filename": "auto_deprecator-2020.1.2.tar.gz", "has_sig": false, "md5_digest": "736f99355f83d1db40b9462b3c1cbed0", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 14540, "upload_time": "2020-01-20T16:17:39", "upload_time_iso_8601": "2020-01-20T16:17:39.314783Z", "url": "https://files.pythonhosted.org/packages/db/75/8593fa950c493fc0b8114599c90655c5b26755af1b7b750c365c34c04485/auto_deprecator-2020.1.2.tar.gz"}], "2020.1.3": [{"comment_text": "", "digests": {"md5": "0f002fc51367f44fe10408dc889215d8", "sha256": "f13d6d9100c28499426578bbd24cc981444695fd97c92bdc0c54fd29027b1971"}, "downloads": -1, "filename": "auto_deprecator-2020.1.3-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "0f002fc51367f44fe10408dc889215d8", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.5", "size": 7420, "upload_time": "2020-01-30T15:39:59", "upload_time_iso_8601": "2020-01-30T15:39:59.510266Z", "url": "https://files.pythonhosted.org/packages/93/e3/9bd7a2020a05293d50aa4aff399c1938b0bf3b51a9b37a144a6933c8abbe/auto_deprecator-2020.1.3-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "3f9f6cd98b564d391944efb735e48002", "sha256": "b4382cd5e18917859b9c839c9bb77ea851faa0402ecdfcc7aa83ea53c8d55272"}, "downloads": -1, "filename": "auto_deprecator-2020.1.3.tar.gz", "has_sig": false, "md5_digest": "3f9f6cd98b564d391944efb735e48002", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 16558, "upload_time": "2020-01-30T15:40:01", "upload_time_iso_8601": "2020-01-30T15:40:01.048625Z", "url": "https://files.pythonhosted.org/packages/a8/d8/214ed8ad3f8a9894708ae0e25492851a6375990744e39e140aa69ee12a6a/auto_deprecator-2020.1.3.tar.gz"}], "2020.2.0": [{"comment_text": "", "digests": {"md5": "cdd9798ff5ba1d41cd466e02b644da1a", "sha256": "0197ff0df5175155441bb1d7b613cc4142e0881c6a17d1d0ba3d846398bbad7d"}, "downloads": -1, "filename": "auto_deprecator-2020.2.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "cdd9798ff5ba1d41cd466e02b644da1a", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.5", "size": 7839, "upload_time": "2020-02-10T17:59:20", "upload_time_iso_8601": "2020-02-10T17:59:20.070382Z", "url": "https://files.pythonhosted.org/packages/8b/7c/b62331d0e4c5bc1331506a664a8aa773cf79e6e90659a18705f677cf370f/auto_deprecator-2020.2.0-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "0d1b645dd276724233732f5dc74cb9eb", "sha256": "5591de95dc2f8aff620bbe462006d98e784f1a8544ac95530d83d4865bcd228c"}, "downloads": -1, "filename": "auto_deprecator-2020.2.0.tar.gz", "has_sig": false, "md5_digest": "0d1b645dd276724233732f5dc74cb9eb", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 17308, "upload_time": "2020-02-10T17:59:22", "upload_time_iso_8601": "2020-02-10T17:59:22.087544Z", "url": "https://files.pythonhosted.org/packages/5a/c9/1d55cffdec90aa67b6de529a4f26ae6f696c5284684cd7d46dbd915aebc7/auto_deprecator-2020.2.0.tar.gz"}], "2020.3.0": [{"comment_text": "", "digests": {"md5": "5af495f73db854b3f282200751f63f36", "sha256": "9540691527992d9d7ea0e1d6fe47ad3cfe66f521b9de68d0a20968c8edfcabf4"}, "downloads": -1, "filename": "auto_deprecator-2020.3.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "5af495f73db854b3f282200751f63f36", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.5", "size": 8648, "upload_time": "2020-04-11T15:50:00", "upload_time_iso_8601": "2020-04-11T15:50:00.538606Z", "url": "https://files.pythonhosted.org/packages/bf/57/a23b237c43c55cb76a7adabefa5bf4bb7bf18db5243785be17646eabe2a0/auto_deprecator-2020.3.0-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "7555cf926b26223998c99cc927ffa68c", "sha256": "5c8c47189fe2c64d345f3d918c20546a7c122949fabea80704e29185fdf4b8e2"}, "downloads": -1, "filename": "auto_deprecator-2020.3.0.tar.gz", "has_sig": false, "md5_digest": "7555cf926b26223998c99cc927ffa68c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 52787, "upload_time": "2020-04-11T15:50:02", "upload_time_iso_8601": "2020-04-11T15:50:02.695801Z", "url": "https://files.pythonhosted.org/packages/c0/77/2cd9226250b6fb0fd046d35b906e6642789729ac9c518034713d18e52c68/auto_deprecator-2020.3.0.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "5af495f73db854b3f282200751f63f36", "sha256": "9540691527992d9d7ea0e1d6fe47ad3cfe66f521b9de68d0a20968c8edfcabf4"}, "downloads": -1, "filename": "auto_deprecator-2020.3.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "5af495f73db854b3f282200751f63f36", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.5", "size": 8648, "upload_time": "2020-04-11T15:50:00", "upload_time_iso_8601": "2020-04-11T15:50:00.538606Z", "url": "https://files.pythonhosted.org/packages/bf/57/a23b237c43c55cb76a7adabefa5bf4bb7bf18db5243785be17646eabe2a0/auto_deprecator-2020.3.0-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "7555cf926b26223998c99cc927ffa68c", "sha256": "5c8c47189fe2c64d345f3d918c20546a7c122949fabea80704e29185fdf4b8e2"}, "downloads": -1, "filename": "auto_deprecator-2020.3.0.tar.gz", "has_sig": false, "md5_digest": "7555cf926b26223998c99cc927ffa68c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 52787, "upload_time": "2020-04-11T15:50:02", "upload_time_iso_8601": "2020-04-11T15:50:02.695801Z", "url": "https://files.pythonhosted.org/packages/c0/77/2cd9226250b6fb0fd046d35b906e6642789729ac9c518034713d18e52c68/auto_deprecator-2020.3.0.tar.gz"}]}