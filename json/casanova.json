{"info": {"author": "Guillaume Plique", "author_email": "kropotkinepiotr@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "[![Build Status](https://travis-ci.org/medialab/casanova.svg)](https://travis-ci.org/medialab/casanova)\n\n# Casanova\n\nIf you often find yourself reading CSV files using python, you will quickly notice that, while being more comfortable, `csv.DictReader` remains way slower than `csv.reader`:\n\n```\n# To read a 1.5G CSV file:\ncsv.reader: 24s\ncsv.DictReader: 84s\ncasanova.reader: 25s\ncsvmonkey: 3s\ncasanova_monkey.reader: 3s\n```\n\nCasanova is therefore an attempt to stick to `csv.reader` performance while still keeping a comfortable interface, still able to consider headers etc.\n\nCasanova is thus a good fit for you if you need to:\n\n* Stream large CSV files without running out of memory\n* Enrich the same CSV files by outputing a similar file, all while adding, filtering and editing cells.\n* Have the possibility to resume said enrichment if your process exited\n* Do so in a threadsafe fashion, and be able to resume even if your output does not have the same order as the input\n\n## Installation\n\nYou can install `casanova` with pip with the following command:\n\n```\npip install casanova\n```\n\nIf you want to be able to use the faster `casanova_monkey` namespace relying on the fantastic [csvmonkey](https://github.com/dw/csvmonkey) library, you will also need to install it alongside:\n\n```\npip install csvmonkey\n```\n\nor you can also install `casanova` likewise:\n\n```\npip install casanova[monkey]\n```\n\n## Usage\n\n* [reader](#reader)\n\n## reader\n\n```python\n# For the raw python version\nimport casanova\n# Or if you want to rely on faster csvmonkey\nimport casanova_monkey as casanova\n\nwith open('./people.csv') as f:\n\n  # Creating a reader\n  reader = casanova.reader(f)\n\n  # Getting header information\n  reader.fieldnames\n  >>> ['name', 'surname']\n\n  reader.pos\n  >>> HeadersPositions(name=0, surname=1)\n\n  name_pos = reader.pos.name\n  name_pos = reader.pos['name']\n  name_pos = reader.pos[0]\n\n  'name' in reader.pos\n  >>> True\n\n  # Iterating over the rows\n  for row in reader:\n    name = row[name_pos] # it's better to cache your pos outside the loop\n    name = row[reader.pos.name] # this works, but is slower\n\n  # Intersted in a single column?\n  for name in reader.cells('name'):\n    print(name)\n\n  # Interested in several columns (handy but has a slight perf cost!)\n  for name, surname in reader.cells(['name', 'surname']):\n    print(name, surname)\n\n  # No headers? No problem.\n  reader = casanov.reader(f, no_headers=True)\n```\n\n*Arguments*\n\n* **file** *file*: file object to read.\n* **no_headers** *?bool* [`False`]: whether your CSV file is headless.\n\n*Attributes*\n\n* **fieldnames** *list<str>*: field names in order.\n* **pos** *int|namedtuple<int>*: header positions object.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/medialab/casanova", "keywords": "csv", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "casanova", "package_url": "https://pypi.org/project/casanova/", "platform": "", "project_url": "https://pypi.org/project/casanova/", "project_urls": {"Homepage": "http://github.com/medialab/casanova"}, "release_url": "https://pypi.org/project/casanova/0.2.0/", "requires_dist": ["csvmonkey (==0.0.5) ; extra == 'monkey'"], "requires_python": ">=3.5", "summary": "Specialized & performant CSV readers, writers and enrichers for python.", "version": "0.2.0"}, "last_serial": 7060296, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "c74c73d9ef79a4649caec0d48b913681", "sha256": "19c1d2378eca2c03310d21823e9d5cb7bd75a43e4af328b0f20ab86715a37e50"}, "downloads": -1, "filename": "casanova-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "c74c73d9ef79a4649caec0d48b913681", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 4592, "upload_time": "2020-04-10T15:53:12", "upload_time_iso_8601": "2020-04-10T15:53:12.236931Z", "url": "https://files.pythonhosted.org/packages/24/6e/6c3c693a6a1a824168f183e99ededd714f1db03a1be00034138aec4c37b2/casanova-0.1.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "977c865be6e3e6651bd7d90b525b362c", "sha256": "95633fe6b458e1609569f1d4e83435924a922ad52cbaaabcd6e56648a3137058"}, "downloads": -1, "filename": "casanova-0.1.0.tar.gz", "has_sig": false, "md5_digest": "977c865be6e3e6651bd7d90b525b362c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 3153, "upload_time": "2020-04-10T15:53:14", "upload_time_iso_8601": "2020-04-10T15:53:14.477111Z", "url": "https://files.pythonhosted.org/packages/08/de/85c035c08f0553d44b5d58384865d9ac751692ba34923070da431e9591e7/casanova-0.1.0.tar.gz"}], "0.2.0": [{"comment_text": "", "digests": {"md5": "0c1404bd573acfec40e8a56d2477ad58", "sha256": "f5319ed0fc0bb9049bafd92834f2aa967ebe50297f778892376dcbf8245aef37"}, "downloads": -1, "filename": "casanova-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "0c1404bd573acfec40e8a56d2477ad58", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 8610, "upload_time": "2020-04-20T14:00:33", "upload_time_iso_8601": "2020-04-20T14:00:33.879885Z", "url": "https://files.pythonhosted.org/packages/a6/e2/b542959afed0dd1954c4ee3e19d78fbe2e4f94d6289049f6123c62d25e96/casanova-0.2.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "0f16036cb763db78c7d86fec9b489954", "sha256": "0faf1ce12a9286e10460dc16cda9f59c1f8eba6c757859169ff03682a2c330e1"}, "downloads": -1, "filename": "casanova-0.2.0.tar.gz", "has_sig": false, "md5_digest": "0f16036cb763db78c7d86fec9b489954", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5825, "upload_time": "2020-04-20T14:00:35", "upload_time_iso_8601": "2020-04-20T14:00:35.019123Z", "url": "https://files.pythonhosted.org/packages/59/77/8cdfc7b9d18229a4f98c94f3a58df2835481a497a157a1a077e092019726/casanova-0.2.0.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "0c1404bd573acfec40e8a56d2477ad58", "sha256": "f5319ed0fc0bb9049bafd92834f2aa967ebe50297f778892376dcbf8245aef37"}, "downloads": -1, "filename": "casanova-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "0c1404bd573acfec40e8a56d2477ad58", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 8610, "upload_time": "2020-04-20T14:00:33", "upload_time_iso_8601": "2020-04-20T14:00:33.879885Z", "url": "https://files.pythonhosted.org/packages/a6/e2/b542959afed0dd1954c4ee3e19d78fbe2e4f94d6289049f6123c62d25e96/casanova-0.2.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "0f16036cb763db78c7d86fec9b489954", "sha256": "0faf1ce12a9286e10460dc16cda9f59c1f8eba6c757859169ff03682a2c330e1"}, "downloads": -1, "filename": "casanova-0.2.0.tar.gz", "has_sig": false, "md5_digest": "0f16036cb763db78c7d86fec9b489954", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5825, "upload_time": "2020-04-20T14:00:35", "upload_time_iso_8601": "2020-04-20T14:00:35.019123Z", "url": "https://files.pythonhosted.org/packages/59/77/8cdfc7b9d18229a4f98c94f3a58df2835481a497a157a1a077e092019726/casanova-0.2.0.tar.gz"}]}