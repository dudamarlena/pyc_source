{"info": {"author": "Avi Alkalay", "author_email": "avibrazil@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Console", "Environment :: MacOS X", "Environment :: Win32 (MS Windows)", "Intended Audience :: Developers", "Intended Audience :: End Users/Desktop", "Intended Audience :: Legal Industry", "Intended Audience :: Telecommunications Industry", "License :: OSI Approved :: GNU Library or Lesser General Public License (LGPL)", "Operating System :: iOS", "Operating System :: MacOS", "Operating System :: Microsoft :: Windows", "Operating System :: OS Independent", "Operating System :: POSIX", "Operating System :: Unix", "Programming Language :: Python :: 3", "Topic :: Database", "Topic :: Security :: Cryptography", "Topic :: Software Development :: Embedded Systems", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: System :: Archiving :: Backup", "Topic :: System :: Recovery Tools"], "description": "# iOSbackup\n\nA Pyhotn 3 class that reads and extracts files from a **password-encrypted iOS backup** created by iTunes on Mac and Windows. Compatible with iOS 13.\n\nYou will need your backup password to decrypt the backup files, this is the password iTunes asks when it is configured to do encrypted backups. This password can be found on macOS' Keychain Access app, under `login` keychain, entry `iOS Backup`. \n\nYou should always prefer encrypted backups because they are more secure and include more files from your device. Non-encrypted backups do not backup files as Health app database and other preciosities.\n\n## Installation\n\n```shell\npip3 install iOSbackup --user\n```\n\nOn macOS, get native Python 3 from Apple with command `xcode-select --install`. Read my [Apple official Python 3 distribution guide](https://avi.alkalay.net/2019/12/macos-jupyter-data-science-no-anaconda.html) for more details.\n\nIf installation fails, thats because of `pycrypto`. On macOS with Apple official Python 3 distribution, install `pycrypto` like this:\n\n```shell\nCFLAGS=\"-I/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.7/include\" \\\nLDFLAGS=\"-L/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.7/lib\" \\\npip3 install pycrypto --user\n```\n\nThen install `iOSbackup`.\n\nOther pre-requisites are `biplist` and `fastpbkdf2` that will be installed automatically by `pip`.\n\n\n## Usage\n\n### Get list of backups available on your computer\n```python\n>>> from iOSbackup import iOSbackup\n\n>>> iOSbackup.getDeviceList()\n[{'udid': '00456030-000E4412342802E',\n  'name': 'mobileavi',\n  'ios': '13.2.3',\n  'serial': 'DNPPQRS0N4RW',\n  'type': 'iPhone12,3',\n  'encrypted': True},\n{'udid': '00654030-01234412342802E',\n  'name': 'ipad',\n  'ios': '13.1.3',\n  'serial': 'DABCRS0N4RW',\n  'type': 'iPad10,1',\n  'encrypted': True}]\n```\n\n### Open a device backup\n\nWith your password (a lengthy process):\n```python\n>>> b=iOSbackup(udid=\"00456030-000E4412342802E\", cleartextpassword=\"mypassword\")\n```\n\nOr with a saved derived key (much faster):\n```python\n>>> b=iOSbackup(udid=\"00456030-000E4412342802E\", derivedkey=\"dd6b6123494c5dbdff7804321fe43ffe1babcdb6074014afedc7cb47f351524\")\n```\n\nForcing a backup folder, useful when reading backups on Linux, where there is no standard for backup folders:\n```python\n>>> b=iOSbackup(udid=\"00456030-000E4412342802E\", cleartextpassword=\"mypassword\", backuproot=\"/home/myuser/itunesfiles\")\n```\n\n### Get a list of backed-up files:\n```python\n>>> b.getBackupFilesList()\n[{'name': '',\n  'backupFile': 'abfbc8747bfbb373e2b08ce67b1255ffda4e1b91',\n  'domain': 'AppDomain-4GU63N96WE.com.p5sys.jumpdesktop'},\n {'name': 'Documents',\n  'backupFile': 'ec0c1b379560bb5ccc81ee783538fd51cfd97461',\n  'domain': 'AppDomain-4GU63N96WE.com.p5sys.jumpdesktop'},\n {'name': 'Documents/Servers',\n  'backupFile': 'a735380eade71b48f0fe27d38a283aacd8ed8372',\n  'domain': 'AppDomain-4GU63N96WE.com.p5sys.jumpdesktop'},\n {'name': 'Documents/extensions',\n  'backupFile': 'c08f725cc39ec819ab7ced3b056f4e0630ead09f',\n  'domain': 'AppDomain-4GU63N96WE.com.p5sys.jumpdesktop'},\n {'name': 'Library',\n  'backupFile': 'e60a6345697594c735e5a6ed86c0d57dad6a2176',\n  'domain': 'AppDomain-4GU63N96WE.com.p5sys.jumpdesktop'},\n ...]\n```\n\n`backupFile` is the file name on your computer. Basically SHA1([Domain]/[FilePath]).\n\n`name` is the original semi-complete path of file name in the device.\n\n`domain` is the file group this file is member, see bellow list of domains.\n\nOr put it directly into a Pandas DataFrame for easier manipulation and searching:\n```python\nimport pandas as pd\n>>> backupfiles=pd.DataFrame(b.getBackupFilesList(), columns=['backupFile','domain','name'])\n```\n\nWith Pandas, display only list of files in `HomeDomain` group:\n```python\n>>> backupfiles[backupfiles['domain']=='HomeDomain']\n```\n\n### Get a decrypted copy of the call history SQLite database:\n```python\n>>> file=b.getFileDecryptedCopy(relativePath=\"Library/CallHistoryDB/CallHistory.storedata\")\n>>> file\n{'decryptedFilePath': 'HomeDomain~Library--CallHistoryDB--CallHistory.storedata',\n 'domain': 'HomeDomain',\n 'originalFilePath': 'Library/CallHistoryDB/CallHistory.storedata',\n 'backupFile': '5a4935c78a5255723f707230a451d79c540d2741',\n 'size': 1228800}\n```\n\nRead decrypted copy of call history database:\n```python\n>>> calls = sqlite3.connect(file.decryptedFilePath)\n>>> calls.row_factory=sqlite3.Row\n>>> calllog = calls.cursor().execute(f\"SELECT * FROM ZCALLRECORD ORDER BY ZDATE DESC\").fetchall()\n```\n\n### Restore Entire Photos Folder\nThis will exclude videos from restoration.\n```python\n>>> b.getFolderDecryptedCopy('Media', targetFolder='restored-photos', includeDomains='CameraRollDomain', excludeFiles='%.MOV')\n```\n\n## Pre-requisites\n\n```shell\npip3 install biplist --user\npip3 install fastpbkdf2 --user\n```\n\nOn macOS with [Apple official Python 3 distribution](https://avi.alkalay.net/2019/12/macos-jupyter-data-science-no-anaconda.html), install `pycrypto` like this:\n```shell\nCFLAGS=\"-I/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.7/include\" \\\nLDFLAGS=\"-L/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.7/lib\" \\\npip3 install pycrypto --user\n```\n\n## Apple-native Python 3 Installation on Macs\n\nFollow my guide at https://avi.alkalay.net/2019/12/macos-jupyter-data-science-no-anaconda.html\n\nBasically use command `xcode-select --install` to get Python 3 installed and updated by Apple on your Mac.\n\n## List of Domains\n\nDomain | Contains\n--- | ---\n**AppDomain-...** | Backup of each installed app's files\n**CameraRollDomain** | Photos\n**DatabaseDomain** |\n**HealthDomain** | Health app databases\n**HomeDomain** | Many interesting databases, such as call history\n**HomeKitDomain** |\n**InstallDomain** |\n**KeyboardDomain** |\n**KeychainDomain** |\n**ManagedPreferencesDomain** |\n**MediaDomain** |\n**MobileDeviceDomain** |\n**RootDomain** |\n**SysContainerDomain-com.apple.Preferences.SettingsSpotlightIndexExtension** |\n**SysContainerDomain-com.apple.Preferences.indexSettingsManifests** |\n**SysContainerDomain-com.apple.accessibility.AccessibilityUIServer** |\n**SysContainerDomain-com.apple.adid** |\n**SysContainerDomain-com.apple.akd** |\n**SysContainerDomain-com.apple.appstored** |\n**SysContainerDomain-com.apple.apsd** |\n**SysContainerDomain-com.apple.backboardd** |\n**SysContainerDomain-com.apple.fairplayd.H2** |\n**SysContainerDomain-com.apple.geod** |\n**SysContainerDomain-com.apple.icloud.findmydeviced** |\n**SysContainerDomain-com.apple.icloud.ifccd** |\n**SysContainerDomain-com.apple.icloud.searchpartyd** |\n**SysContainerDomain-com.apple.lsd** |\n**SysContainerDomain-com.apple.lskdd** |\n**SysContainerDomain-com.apple.metrickitd** |\n**SysContainerDomain-com.apple.mobilesafari** | Bookmarks and cookies ?\n**SysContainerDomain-com.apple.springboard** |\n**SysSharedContainerDomain-systemgroup.com.apple.AssetCacheServices.diskCache** |\n**SysSharedContainerDomain-systemgroup.com.apple.DiagnosticsKit** |\n**SysSharedContainerDomain-systemgroup.com.apple.ReportMemoryException** |\n**SysSharedContainerDomain-systemgroup.com.apple.VideoSubscriberAccount** |\n**SysSharedContainerDomain-systemgroup.com.apple.WiFiAssist** |\n**SysSharedContainerDomain-systemgroup.com.apple.bluetooth** |\n**SysSharedContainerDomain-systemgroup.com.apple.cfpreferences.managed** |\n**SysSharedContainerDomain-systemgroup.com.apple.configurationprofiles** |\n**SysSharedContainerDomain-systemgroup.com.apple.coreanalytics** |\n**SysSharedContainerDomain-systemgroup.com.apple.icloud.findmydevice.managed** |\n**SysSharedContainerDomain-systemgroup.com.apple.icloud.fmipcore.MockingContainer** |\n**SysSharedContainerDomain-systemgroup.com.apple.icloud.ifccd** |\n**SysSharedContainerDomain-systemgroup.com.apple.icloud.searchpartyd.sharedsettings** |\n**SysSharedContainerDomain-systemgroup.com.apple.itunesu.shared** |\n**SysSharedContainerDomain-systemgroup.com.apple.lsd** |\n**SysSharedContainerDomain-systemgroup.com.apple.lsd.iconscache** |\n**SysSharedContainerDomain-systemgroup.com.apple.lskdrl** |\n**SysSharedContainerDomain-systemgroup.com.apple.media.books.managed** |\n**SysSharedContainerDomain-systemgroup.com.apple.media.shared.books** |\n**SysSharedContainerDomain-systemgroup.com.apple.mobile.installationhelperlogs** |\n**SysSharedContainerDomain-systemgroup.com.apple.mobilegestaltcache** |\n**SysSharedContainerDomain-systemgroup.com.apple.nsurlstoragedresources** |\n**SysSharedContainerDomain-systemgroup.com.apple.ondemandresources** |\n**SysSharedContainerDomain-systemgroup.com.apple.osanalytics** |\n**SysSharedContainerDomain-systemgroup.com.apple.sharedpclogging** |\n**SystemPreferencesDomain** |\n**TonesDomain** |\n**WirelessDomain** |\n\n## Interesting Files\n\nBackup file | Domain | File name | Contains\n--- | --- | --- | ---\ned1f8fb5a948b40504c19580a458c384659a605e | WirelessDomain | Library/Databases/CellularUsage.db | Table `subscriber_info` apparently contains all SIM phone numbers ever inserted in the phone since about iOS 11 or 12. Data here is related to `Library/Preferences/com.apple.commcenter.plist`.\n0d609c54856a9bb2d56729df1d68f2958a88426b | WirelessDomain | Library/Databases/DataUsage.sqlite | A rich database that apparently contains app WWAN usage through time. Chack tables `ZPROCESS` and `ZLIVEUSAGE`.\n1570a95f5dc7f4cd6b54bc17c427eda95288b8fa | HomeDomain | Library/SpringBoard/LockVideo.mov | Video used as background on lock screen\n. | HomeDomain | Library/Passes/Cards/* | Wallet passes and items\n8d0167b67f664a3816b4c00115c2dfa6a8f81388 |WirelessDomain | Library/Preferences/com.apple.AppleBasebandManager.Statistics.plist | Apparently contains times of last boot and restores.\ndafec408e48be2700704dd3e763014c39f6de6b3 | WirelessDomain | Library/Preferences/com.apple.AppleBasebandManager.plist\n9329979c8298f9cd3fb110fa387570a8b957e912 | WirelessDomain | Library/Preferences/com.apple.CommCenter.counts.plist | Has `CellularBytesRecved` and `CellularBytesSent`\n3dec38ca46c9e37ffebacf2611463eb47a65eb09 | WirelessDomain | Library/Preferences/com.apple.commcenter.audio.plist\n7e5f642f6da5e2345c0893bdf944da9c53902756 | WirelessDomain | Library/Preferences/com.apple.commcenter.callservices.plist\nbfecaa9c467e3acb085a5b312bd27bdd5cd7579a | WirelessDomain | Library/Preferences/com.apple.commcenter.plist | Cellular network informations and configurations, including all ever inserted SIM and eSIM cards, their phone numbers and nicknames as configured under Settings\u2794Celular. Data here is related to `Library/Databases/CellularUsage.db` \n160600e9c2e408c69e4193d325813a2a885bce2a | WirelessDomain | Library/Preferences/com.apple.ipTelephony.plist\n. | HomeDomain | Library/Mobile Documents/iCloud~... | Apps documents on iCloud\n. | HomeDomain | Library/Mobile Documents/com\\~apple\\~CloudDocs/... | Documents folder on iCloud\n5a4935c78a5255723f707230a451d79c540d2741 | HomeDomain | Library/CallHistoryDB/CallHistory.storedata | Call History database with only the last 600 calls\n31bb7ba8914766d4ba40d6dfb6113c8b614be442 | HomeDomain | Library/AddressBook/AddressBook.sqlitedb | User contacts and address book. Table `ABPerson` is the central one with facts about contact creation and modification, while `ABMultiValue*` tables contain contact details.\ncd6702cea29fe89cf280a76794405adb17f9a0ee | HomeDomain | Library/AddressBook/AddressBookImages.sqlitedb | Contact photos\n9db3e5a6f1672cc306cd785809811e79cc43a2f8 | HomeDomain | Library/AddressBook/backup/AddressBook.sqlitedb\n2a87d5bcdb9753f1462dd1e929b17e6a971c5b01 | HomeDomain | Library/AddressBook/backup/AddressBookImages.sqlitedb\n1a0e7afc19d307da602ccdcece51af33afe92c53 | HomeDomain | Library/Safari/History.db\n. | MediaDomain | Library/SMS/Attachments/*\n. | MediaDomain | Library/SMS/StickerCache/*\n. | . | Library/Caches/locationd/consolidated.db | Apparently list of known iBeacons\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/avibrazil/iOSbackup", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "iOSbackup", "package_url": "https://pypi.org/project/iOSbackup/", "platform": "", "project_url": "https://pypi.org/project/iOSbackup/", "project_urls": {"Homepage": "https://github.com/avibrazil/iOSbackup"}, "release_url": "https://pypi.org/project/iOSbackup/0.9.9/", "requires_dist": ["biplist", "pycrypto"], "requires_python": ">=3.6", "summary": "Reads and extracts files from password-encrypted iOS backups", "version": "0.9.9"}, "last_serial": 6734890, "releases": {"0.9.0": [{"comment_text": "", "digests": {"md5": "2549f50e0b94b2c01254e28724dfb696", "sha256": "a3b2cf0fe752a3e24812c42a512807166c411005d986410f8203beba91fab7f9"}, "downloads": -1, "filename": "iOSbackup-0.9.0-py3-none-any.whl", "has_sig": false, "md5_digest": "2549f50e0b94b2c01254e28724dfb696", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10559, "upload_time": "2020-01-05T06:40:54", "upload_time_iso_8601": "2020-01-05T06:40:54.154852Z", "url": "https://files.pythonhosted.org/packages/00/c4/ad338026c141980c4293045b93d55050ae84ce7eeac3832df59755b07ea0/iOSbackup-0.9.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "b5c17cbdcc21e5bc9a165e963214616f", "sha256": "a36da7fd0afb5466e45be415fd1c4081463f7a9043f363b7d07eeef69f4b26ca"}, "downloads": -1, "filename": "iOSbackup-0.9.0.tar.gz", "has_sig": false, "md5_digest": "b5c17cbdcc21e5bc9a165e963214616f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 14125, "upload_time": "2020-01-05T06:40:57", "upload_time_iso_8601": "2020-01-05T06:40:57.853675Z", "url": "https://files.pythonhosted.org/packages/49/b3/3a189e8cd651c7a1bc0ddf06ad3e87e8628e532cac81387b1660013284ac/iOSbackup-0.9.0.tar.gz"}], "0.9.1": [{"comment_text": "", "digests": {"md5": "269d3838c72c20f4a9a26497819b99c1", "sha256": "e2364d7b2f9a4903f894fdbc147aaeb379ebbfc68e42c981365d6bd385085d05"}, "downloads": -1, "filename": "iOSbackup-0.9.1-py3-none-any.whl", "has_sig": false, "md5_digest": "269d3838c72c20f4a9a26497819b99c1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10691, "upload_time": "2020-01-05T06:54:46", "upload_time_iso_8601": "2020-01-05T06:54:46.187464Z", "url": "https://files.pythonhosted.org/packages/22/ef/850fd05eb02ebc021b94bd0d1903637b273be6de4200cb0c9057ee7f887b/iOSbackup-0.9.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "74f842c4cd22f51de16ed17d814c0324", "sha256": "1477fb04f8b126f46ec4504037be4f38d79ae90ffeded8b4ecafafc538f109d9"}, "downloads": -1, "filename": "iOSbackup-0.9.1.tar.gz", "has_sig": false, "md5_digest": "74f842c4cd22f51de16ed17d814c0324", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 14308, "upload_time": "2020-01-05T06:54:47", "upload_time_iso_8601": "2020-01-05T06:54:47.723012Z", "url": "https://files.pythonhosted.org/packages/a5/35/a7414acd2b357dfd492a48e7260b5c94c9c5038f8d2995aa9a7ed2bb5d70/iOSbackup-0.9.1.tar.gz"}], "0.9.2": [{"comment_text": "", "digests": {"md5": "22ae680a4e6e76266416b65b8be9236a", "sha256": "bdd5af56430d367dbce02b7acde2aee6a1375c514051feceaa6c3b652f56ec1e"}, "downloads": -1, "filename": "iOSbackup-0.9.2-py3-none-any.whl", "has_sig": false, "md5_digest": "22ae680a4e6e76266416b65b8be9236a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11216, "upload_time": "2020-01-09T20:44:10", "upload_time_iso_8601": "2020-01-09T20:44:10.219851Z", "url": "https://files.pythonhosted.org/packages/18/62/0aec6261d1f2a16c1875ea46b16b556d9f94f3edf424f9461e5fab40d698/iOSbackup-0.9.2-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "cf728d19bd3d95aa1198e3b675938507", "sha256": "e4f52e4dc4495eff7943303cfacfb8488e1b26c9a3c46144bf5d954f1b91d14b"}, "downloads": -1, "filename": "iOSbackup-0.9.2.tar.gz", "has_sig": false, "md5_digest": "cf728d19bd3d95aa1198e3b675938507", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 14974, "upload_time": "2020-01-09T20:44:11", "upload_time_iso_8601": "2020-01-09T20:44:11.829330Z", "url": "https://files.pythonhosted.org/packages/89/b3/204b549bfe8835477c2cdc3993523366aae06afc8aa39fb359a6a7e22a35/iOSbackup-0.9.2.tar.gz"}], "0.9.9": [{"comment_text": "", "digests": {"md5": "993629cbb4a94f14bcbf17d93b69a047", "sha256": "d28352b3ff91679a7423b589138e7a0be0a00153e5143bb8957059f0cb6567f1"}, "downloads": -1, "filename": "iOSbackup-0.9.9-py3-none-any.whl", "has_sig": false, "md5_digest": "993629cbb4a94f14bcbf17d93b69a047", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 13202, "upload_time": "2020-03-02T17:12:24", "upload_time_iso_8601": "2020-03-02T17:12:24.726764Z", "url": "https://files.pythonhosted.org/packages/49/8f/95917571bcc547e62d78a84b80acbfc94ec214ac11666dd00e45ec0b579d/iOSbackup-0.9.9-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "7abc1aa40dc2ab16e3a09064ca7433f8", "sha256": "d8035e6ac5b0432c3dd3b36073e42867e64d369bcdb5c15c3e50f65d250b872a"}, "downloads": -1, "filename": "iOSbackup-0.9.9.tar.gz", "has_sig": false, "md5_digest": "7abc1aa40dc2ab16e3a09064ca7433f8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 17495, "upload_time": "2020-03-02T17:12:26", "upload_time_iso_8601": "2020-03-02T17:12:26.658780Z", "url": "https://files.pythonhosted.org/packages/9e/48/e16db428a70b012763332bd861d562f7d04bfc646ad2ff4416b096d32a19/iOSbackup-0.9.9.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "993629cbb4a94f14bcbf17d93b69a047", "sha256": "d28352b3ff91679a7423b589138e7a0be0a00153e5143bb8957059f0cb6567f1"}, "downloads": -1, "filename": "iOSbackup-0.9.9-py3-none-any.whl", "has_sig": false, "md5_digest": "993629cbb4a94f14bcbf17d93b69a047", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 13202, "upload_time": "2020-03-02T17:12:24", "upload_time_iso_8601": "2020-03-02T17:12:24.726764Z", "url": "https://files.pythonhosted.org/packages/49/8f/95917571bcc547e62d78a84b80acbfc94ec214ac11666dd00e45ec0b579d/iOSbackup-0.9.9-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "7abc1aa40dc2ab16e3a09064ca7433f8", "sha256": "d8035e6ac5b0432c3dd3b36073e42867e64d369bcdb5c15c3e50f65d250b872a"}, "downloads": -1, "filename": "iOSbackup-0.9.9.tar.gz", "has_sig": false, "md5_digest": "7abc1aa40dc2ab16e3a09064ca7433f8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 17495, "upload_time": "2020-03-02T17:12:26", "upload_time_iso_8601": "2020-03-02T17:12:26.658780Z", "url": "https://files.pythonhosted.org/packages/9e/48/e16db428a70b012763332bd861d562f7d04bfc646ad2ff4416b096d32a19/iOSbackup-0.9.9.tar.gz"}]}