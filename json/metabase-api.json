{"info": {"author": "Vahid Vaezian", "author_email": "vahid.vaezian@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "[![PyPI version](https://badge.fury.io/py/metabase-api.svg)](https://badge.fury.io/py/metabase-api)\n[![HitCount](http://hits.dwyl.com/vvaezian/metabase_api_python.svg)](http://hits.dwyl.com/vvaezian/metabase_api_python)\n[![contributions welcome](https://img.shields.io/badge/contributions-welcome-brightgreen.svg)](https://github.com/vvaezian/metabase_api_python/issues)\n\n## Installation\n```python\npip install metabase-api\n```\n\n## Initializing\n```python\nfrom metabase_api import Metabase_API\n\nmb = Metabase_API('https://...', 'username', 'password')  # if password is not given, it will prompt for password\n```\n## Functions\n### REST functions (get, post, put, delete)\nCalling Metabase API endpoints (documented [here](https://github.com/metabase/metabase/blob/master/docs/api-documentation.md)) can be done using the corresponding REST function in the wrapper.  \nE.g. to call the [endpoint](https://github.com/metabase/metabase/blob/master/docs/api-documentation.md#get-apidatabase) `GET /api/database/`, use `mb.get('/api/database/')`.\n\n### Custom Functions\nThere are several custom functions such as *move_to_archive, get_collection_id, get_db_id*, ... . the main custom function is the *create_card* function which is described below.  \n#### `create_card` function\n- Specify the name to be used for the card, which table to use as the source of data and where (i.e. which collection) to save the card (default is the root collection).  \n```python\nmb.create_card(card_name='test_card', table_name='mySourceTable')  # Setting `verbose=True` will print extra information while creating the card.\n```\n- Using the `column_order` parameter we can specify how the order of columns should be in the created card. Accepted values are *'alphabetical', 'db_table_order'* (default), or a list of column names.\n```python\nmb.create_card(card_name='test_card', table_name='mySourceTable', column_order=['myCol5', 'myCol3', 'myCol8'])\n```\n- All or part of the function parameters and many more information (e.g. visualisation settings) can be provided to the function in a dictionary (using the *custom_json* parameter).\n```python\nmb.create_card(custom_json=myCustomJson)\n```\nIt's very helpful to use the Inspect tool of the browser (network tab) to see what Metabase is doing. You can then use the generated json code to build your automation. To turn the generated json in the browser into a Python dictionary, you can copy the code, paste it into triple quotes (`'''  '''`) and apply the function `make_json`:\n```python\nraw_json = ''' {\"name\":\"test\",\"dataset_query\":{\"database\":165,\"query\":{\"fields\":[[\"field-id\",35839],[\"field-id\",35813],[\"field-id\",35829],[\"field-id\",35858],[\"field-id\",35835],[\"field-id\",35803],[\"field-id\",35843],[\"field-id\",35810],[\"field-id\",35826],[\"field-id\",35815],[\"field-id\",35831],[\"field-id\",35827],[\"field-id\",35852],[\"field-id\",35832],[\"field-id\",35863],[\"field-id\",35851],[\"field-id\",35850],[\"field-id\",35864],[\"field-id\",35854],[\"field-id\",35846],[\"field-id\",35811],[\"field-id\",35933],[\"field-id\",35862],[\"field-id\",35833],[\"field-id\",35816]],\"source-table\":2154},\"type\":\"query\"},\"display\":\"table\",\"description\":null,\"visualization_settings\":{\"table.column_formatting\":[{\"columns\":[\"Diff\"],\"type\":\"range\",\"colors\":[\"#ED6E6E\",\"white\",\"#84BB4C\"],\"min_type\":\"custom\",\"max_type\":\"custom\",\"min_value\":-30,\"max_value\":30,\"operator\":\"=\",\"value\":\"\",\"color\":\"#509EE3\",\"highlight_row\":false}],\"table.pivot_column\":\"Sale_Date\",\"table.cell_column\":\"SKUID\"},\"archived\":false,\"enable_embedding\":false,\"embedding_params\":null,\"collection_id\":183,\"collection_position\":null,\"result_metadata\":[{\"name\":\"Sale_Date\",\"display_name\":\"Sale_Date\",\"base_type\":\"type/DateTime\",\"fingerprint\":{\"global\":{\"distinct-count\":1,\"nil%\":0},\"type\":{\"type/DateTime\":{\"earliest\":\"2019-12-28T00:00:00\",\"latest\":\"2019-12-28T00:00:00\"}}},\"special_type\":null},{\"name\":\"Account_ID\",\"display_name\":\"Account_ID\",\"base_type\":\"type/Text\",\"fingerprint\":{\"global\":{\"distinct-count\":411,\"nil%\":0},\"type\":{\"type/Text\":{\"percent-json\":0,\"percent-url\":0,\"percent-email\":0,\"average-length\":9}}},\"special_type\":null},{\"name\":\"Account_Name\",\"display_name\":\"Account_Name\",\"base_type\":\"type/Text\",\"fingerprint\":{\"global\":{\"distinct-count\":410,\"nil%\":0.0015},\"type\":{\"type/Text\":{\"percent-json\":0,\"percent-url\":0,\"percent-email\":0,\"average-length\":21.2916}}},\"special_type\":null},{\"name\":\"Account_Type\",\"display_name\":\"Account_Type\",\"base_type\":\"type/Text\",\"special_type\":\"type/Category\",\"fingerprint\":{\"global\":{\"distinct-count\":5,\"nil%\":0.0015},\"type\":{\"type/Text\":{\"percent-json\":0,\"percent-url\":0,\"percent-email\":0,\"average-length\":3.7594}}}}],\"metadata_checksum\":\"7XP8bmR1h5f662CFE87tjQ==\"} '''\nmyJson = mb.make_json(raw_json)  # setting 'prettyprint=True' will print the output in a structured format.\nmb.create_card('test_card2', table_name='mySourceTable', custom_json={'visualization_settings':myJson['visualization_settings']})\n```\nFor the complete list of parameters see the [definition](https://github.com/vvaezian/metabase_api_python/blob/8decd21c0e03aeb0f5d4243e081c1bc1a08d627b/metabase_api/metabase_api.py#L202) of the function.\n## Notes\n- There are also two other Python wrappers for Metabase API [here](https://github.com/mertsalik/metabasepy) and [here](https://github.com/STUnitas/metabase-py).\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/vvaezian/metabase_api_python", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "metabase-api", "package_url": "https://pypi.org/project/metabase-api/", "platform": "", "project_url": "https://pypi.org/project/metabase-api/", "project_urls": {"Homepage": "https://github.com/vvaezian/metabase_api_python"}, "release_url": "https://pypi.org/project/metabase-api/0.1.4/", "requires_dist": null, "requires_python": "", "summary": "A Python Wrapper for Metabase API", "version": "0.1.4"}, "last_serial": 6678724, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "35d5effded9e70c3a0aca27ed7a3f705", "sha256": "2c37ab6059ded5d812301a9d7ad5d3dc73106dbc1d4fd5aa5b5c6b7f3d01c27b"}, "downloads": -1, "filename": "metabase_api-0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "35d5effded9e70c3a0aca27ed7a3f705", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5809, "upload_time": "2020-01-21T01:44:02", "upload_time_iso_8601": "2020-01-21T01:44:02.657685Z", "url": "https://files.pythonhosted.org/packages/b8/fd/7eeda48972da4a1856e5311b8f83676ae65c75dadf9b35d30aca14f900f8/metabase_api-0.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "cb832499d0cad42a92efebb172edf2e9", "sha256": "3110e52cc1bfe6a7390c527c5333a29eb68b68cd25fb31ba34f1584c15177874"}, "downloads": -1, "filename": "metabase-api-0.1.tar.gz", "has_sig": false, "md5_digest": "cb832499d0cad42a92efebb172edf2e9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4458, "upload_time": "2020-01-21T01:44:04", "upload_time_iso_8601": "2020-01-21T01:44:04.958565Z", "url": "https://files.pythonhosted.org/packages/33/82/75d8afeab0b23b6ebaedffebc3ac650932ee1d854c075927c9ea591872bb/metabase-api-0.1.tar.gz"}], "0.1.1": [{"comment_text": "", "digests": {"md5": "dd8c7e87270cb1427ec959df73a39d73", "sha256": "d1aa222164247c51209fb77515250502e2ecd7636418a0bf6f6fe2423cb585f1"}, "downloads": -1, "filename": "metabase_api-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "dd8c7e87270cb1427ec959df73a39d73", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5835, "upload_time": "2020-01-22T19:31:28", "upload_time_iso_8601": "2020-01-22T19:31:28.537640Z", "url": "https://files.pythonhosted.org/packages/d7/29/d365be353dfa8028377b7237de589ce0a7784af535359e52bb7c9f71469f/metabase_api-0.1.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "5ecf6c279e18f6a5638585a3c2aaf2dd", "sha256": "8ecbbcc3e9af247e7c0d1d4fa8b9e79291da9dfa63fca6f4ecac7ffcd7960359"}, "downloads": -1, "filename": "metabase-api-0.1.1.tar.gz", "has_sig": false, "md5_digest": "5ecf6c279e18f6a5638585a3c2aaf2dd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4442, "upload_time": "2020-01-22T19:31:30", "upload_time_iso_8601": "2020-01-22T19:31:30.078619Z", "url": "https://files.pythonhosted.org/packages/7c/c4/18d9f381c85cce0744a0414d615736f7089dc1542f74bd40502169497e0f/metabase-api-0.1.1.tar.gz"}], "0.1.2": [{"comment_text": "", "digests": {"md5": "6e9b4e4cc9c4864f9110ad92aa93a311", "sha256": "f42f6a65d1f59b07e6179270a6e61d58d1f2f5731963ef5905318ce87a969df9"}, "downloads": -1, "filename": "metabase_api-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "6e9b4e4cc9c4864f9110ad92aa93a311", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7945, "upload_time": "2020-02-07T04:56:04", "upload_time_iso_8601": "2020-02-07T04:56:04.214394Z", "url": "https://files.pythonhosted.org/packages/f2/17/08a95cef70016465cd5c094bc4c02c2ec1a7adb0d862f6cbf05b05a18547/metabase_api-0.1.2-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "835e2cd3487b845bef1e967939850fbd", "sha256": "a5395d13941a967cc5030fbaf4900b7ee760c10849a14a39fec54e0e036ae232"}, "downloads": -1, "filename": "metabase-api-0.1.2.tar.gz", "has_sig": false, "md5_digest": "835e2cd3487b845bef1e967939850fbd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6544, "upload_time": "2020-02-07T04:56:05", "upload_time_iso_8601": "2020-02-07T04:56:05.697606Z", "url": "https://files.pythonhosted.org/packages/a7/94/2a5880f74db90ec278032b43bc24a940f37213fa736015856caa950b0398/metabase-api-0.1.2.tar.gz"}], "0.1.3": [{"comment_text": "", "digests": {"md5": "fb01318bd8185f33cbd0896a04e5702c", "sha256": "e617bd06b66d9819850a8c884d87c75c4938a99cd9513acc8485de630f390e84"}, "downloads": -1, "filename": "metabase_api-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "fb01318bd8185f33cbd0896a04e5702c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8018, "upload_time": "2020-02-08T01:38:34", "upload_time_iso_8601": "2020-02-08T01:38:34.217398Z", "url": "https://files.pythonhosted.org/packages/54/23/407e9aa7cffc4e6bb335671f9a3da84636e54bd78bdfecd5e426c1ccd539/metabase_api-0.1.3-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "44a44639bdb3f9db395268180981d10a", "sha256": "23bcb2ded6155dbb4d2a458d4cc63955d5f8f1adfa124bd1ed715c377d0406fe"}, "downloads": -1, "filename": "metabase-api-0.1.3.tar.gz", "has_sig": false, "md5_digest": "44a44639bdb3f9db395268180981d10a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6594, "upload_time": "2020-02-08T01:38:35", "upload_time_iso_8601": "2020-02-08T01:38:35.180662Z", "url": "https://files.pythonhosted.org/packages/1a/21/f5db175e8701b1e23ea64e31006c7aa7bd8599ff68c4aa70a5740483fea3/metabase-api-0.1.3.tar.gz"}], "0.1.4": [{"comment_text": "", "digests": {"md5": "84b52f07db5df74b0ea65ab2e71f39b2", "sha256": "7f82ffec3c05b0575c564ab9eff4502d208d43c87e54005899019ce8fdf548a7"}, "downloads": -1, "filename": "metabase_api-0.1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "84b52f07db5df74b0ea65ab2e71f39b2", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8051, "upload_time": "2020-02-21T23:30:48", "upload_time_iso_8601": "2020-02-21T23:30:48.970093Z", "url": "https://files.pythonhosted.org/packages/55/2f/58287b76b61c9ace3ad4eba2a466f4969b385db308f4d0e8e0c929e54da8/metabase_api-0.1.4-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "8983ac2a36491955db551cf4e864d137", "sha256": "b1b70ab53a7d0d50bc813e1fff565f2fb73e06b4e56bc7e3eec9538803bc5636"}, "downloads": -1, "filename": "metabase-api-0.1.4.tar.gz", "has_sig": false, "md5_digest": "8983ac2a36491955db551cf4e864d137", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6624, "upload_time": "2020-02-21T23:30:50", "upload_time_iso_8601": "2020-02-21T23:30:50.438865Z", "url": "https://files.pythonhosted.org/packages/d2/3b/ddab75142a8a7cfcb6477e0faee846a18af67a7a0b592078450935834e1f/metabase-api-0.1.4.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "84b52f07db5df74b0ea65ab2e71f39b2", "sha256": "7f82ffec3c05b0575c564ab9eff4502d208d43c87e54005899019ce8fdf548a7"}, "downloads": -1, "filename": "metabase_api-0.1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "84b52f07db5df74b0ea65ab2e71f39b2", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8051, "upload_time": "2020-02-21T23:30:48", "upload_time_iso_8601": "2020-02-21T23:30:48.970093Z", "url": "https://files.pythonhosted.org/packages/55/2f/58287b76b61c9ace3ad4eba2a466f4969b385db308f4d0e8e0c929e54da8/metabase_api-0.1.4-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "8983ac2a36491955db551cf4e864d137", "sha256": "b1b70ab53a7d0d50bc813e1fff565f2fb73e06b4e56bc7e3eec9538803bc5636"}, "downloads": -1, "filename": "metabase-api-0.1.4.tar.gz", "has_sig": false, "md5_digest": "8983ac2a36491955db551cf4e864d137", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6624, "upload_time": "2020-02-21T23:30:50", "upload_time_iso_8601": "2020-02-21T23:30:50.438865Z", "url": "https://files.pythonhosted.org/packages/d2/3b/ddab75142a8a7cfcb6477e0faee846a18af67a7a0b592078450935834e1f/metabase-api-0.1.4.tar.gz"}]}