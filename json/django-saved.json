{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": [], "description": "<!--\nhttps://pypi.org/project/readme-generator/\nhttps://pypi.org/project/python-readme-generator/\n-->\n\n[![](https://img.shields.io/pypi/pyversions/django-saved.svg?longCache=True)](https://pypi.org/project/django-saved/)\n[![](https://img.shields.io/badge/License-Unlicense-blue.svg?longCache=True)](https://unlicense.org/)\n\n#### Installation\n```bash\n$ [sudo] pip install django-saved\n```\n\n#### Examples\n`settings.py`\n```python\nAUTH_USER_MODEL = 'users.User'\n```\n\n`users/models.py`\n```python\nfrom django.contrib.auth.models import AbstractUser\n\nclass User(AbstractUser):\n    ...\n```\n\n`my_app/models.py`\n```python\nfrom django_saved.models import Saved\n\nclass ProjectBookmark(Saved):\n    obj = models.ForeignKey('Project',related_name=\"+\",on_delete=models.CASCADE)\n\n    class Meta:\n        db_table = 'db_table'\n        unique_together = [('obj', 'created_by')]\n```\n\n`views.py`\n```python\nfrom django_saved.views import SavedAjaxView\nfrom my_app.models import Project, ProjectBookmark\n\nclass ProjectBookmarkAjaxView(SavedAjaxView):\n    saved_model = ProjectBookmark\n\n    def get_json_data(self,obj_id,created):\n        project = Project.objects.get(id=obj_id)\n        return {'is_bookmarked':created,'bookmarks_count':project.bookmarks_count}\n\n\nclass ProjectDetailView:\n    template_name = 'my_app/project_detail.html'\n\n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        project = Project.objects.get(name=self.kwargs['name'])\n        context['bookmark_obj'] = project\n        if self.request.user.is_authenticated:\n            try:\n                context['bookmark'] = ProjectBookmark.objects.get(obj_id=project.id,created_by=self.request.user)\n            except ProjectBookmark.DoesNotExist:\n                pass\n        return context\n```\n\n`urls.py`\n\n```python\nurlpatterns = [\n    path('bookmark/<int:obj_id>', views.ProjectBookmarkAjaxView.as_view(),name='bookmark'),\n]\n```\n\n`my_app/project_detail.html`\n```html\n<a data-id=\"{{ bookmark_obj.pk }}\" id=\"bookmark\" {% if request.user.is_authenticated %}data-href=\"{% url 'bookmark' obj_id=bookmark_obj.id %}\"{% else %}href=\"{% url 'login' %}?next={{ request.path }}\"{% endif %}>bookmark</a>\n```\n\n`bookmark.js`\n```javascript\n// your core ...\n```\n\n<p align=\"center\">\n    <a href=\"https://pypi.org/project/python-readme-generator/\">python-readme-generator</a>\n</p>", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/andrewp-as-is/django-saved.py", "keywords": "Django,saved", "license": "Unlicense", "maintainer": "", "maintainer_email": "", "name": "django-saved", "package_url": "https://pypi.org/project/django-saved/", "platform": "", "project_url": "https://pypi.org/project/django-saved/", "project_urls": {"Homepage": "https://github.com/andrewp-as-is/django-saved.py"}, "release_url": "https://pypi.org/project/django-saved/2020.4.8/", "requires_dist": null, "requires_python": "", "summary": "Django abstract model and views for saved items (bookmarks/likes/stars/watching/etc)", "version": "2020.4.8"}, "last_serial": 6999702, "releases": {"2020.4.8": [{"comment_text": "", "digests": {"md5": "41b7fedf0ff2ef811bfc5809b60e3d07", "sha256": "e708281c15a53d3a0e45c0aabffccfa21c0608f781ce9f5ec31b859d668efe7a"}, "downloads": -1, "filename": "django-saved-2020.4.8.tar.gz", "has_sig": false, "md5_digest": "41b7fedf0ff2ef811bfc5809b60e3d07", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2351, "upload_time": "2020-04-11T14:12:01", "upload_time_iso_8601": "2020-04-11T14:12:01.876820Z", "url": "https://files.pythonhosted.org/packages/cf/7c/fe058b53f2ba43b37b3e196ba7ae31ed861abd9e9e62e83b5785686e7840/django-saved-2020.4.8.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "41b7fedf0ff2ef811bfc5809b60e3d07", "sha256": "e708281c15a53d3a0e45c0aabffccfa21c0608f781ce9f5ec31b859d668efe7a"}, "downloads": -1, "filename": "django-saved-2020.4.8.tar.gz", "has_sig": false, "md5_digest": "41b7fedf0ff2ef811bfc5809b60e3d07", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2351, "upload_time": "2020-04-11T14:12:01", "upload_time_iso_8601": "2020-04-11T14:12:01.876820Z", "url": "https://files.pythonhosted.org/packages/cf/7c/fe058b53f2ba43b37b3e196ba7ae31ed861abd9e9e62e83b5785686e7840/django-saved-2020.4.8.tar.gz"}]}