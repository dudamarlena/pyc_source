{"info": {"author": "ALBA controls team", "author_email": "controls@cells.es", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Intended Audience :: Developers", "Natural Language :: English", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# Eiger simulator\n\n![Pypi python versions][pypi-python-versions]\n![Pypi version][pypi-version]\n![Pypi status][pypi-status]\n![License][license]\n\nDectris Eiger detector simulator.\n\nFor now simulates Eiger 9M at full ROI in internal trigger single mode (ints).\n\nComplete HTTP REST API + ZMQ data stream.\n\n## Installation\n\nFrom within your favorite python environment:\n\n```bash\n$ pip install -e eiger-simulator\n```\n\nIf you need the client library, you need in addition:\n\n```bash\n$ pip install -e eiger-simulator[client]\n```\n\n## Usage\n\nRun simulator with:\n\n```bash\n$ eiger-simulator --dataset=<path to the HDF5 master file> --max-memory=1_000_000_000\n```\n\nThis will start a simulator listening to the HTTP interface on port 8000 and the\nZMQ streaming socket on TCP port 9999\n\nRun with `--help` to see the complete list of options\n\n```bash\n$ eiger-simulator --help\nUsage: eiger-simulator [OPTIONS]\n\nOptions:\n  --host TEXT                     Bind web socket to this host.  [default: 0]\n  --port INTEGER                  Bind web socket to this port.  [default: 8000]\n  --zmq TEXT                      Bind ZMQ socket  [default: tcp://*:9999]\n  --dataset PATH                  dataset path or file\n  --max-memory INTEGER            max memory (bytes)  [default: 1000000000]\n  --log-level [critical|error|warning|info|debug|trace]\n                                  Show only logs with priority LEVEL or above\n                                  [default: info]\n  --help                          Show this message and exit.\n```\n\n## Client\n\nThe client is accessible as a python library:\n\n```python\n>>> from import eigersim.client import Eiger\n>>> eiger = Eiger('127.0.0.1:8000')\n>>> eiger.nimages\n100\n>>> eiger.count_time\n0.1\n>>> eiger.trigger_mode\n'ints'\n>>> eiger.arm()\n[response 200]\n>>> eiger.trigger()\n[response 200]\n```\n\nNote that you should be able to use the client to connect to a real Eiger detector, not just\nthe simulated one.\n\n\nFor reference, here is a simple client that listens to the ZMQ stream:\n\n```python\n>>> import zmq\n>>> ctx = zmq.Context()\n>>> sock = ctx.socket(zmq.PULL)\n>>> sock.connect('tcp://127.0.0.1:9999')\n>>> while True:\n      data = sock.recv_multipart()\n      size = sum(len(i) for i in data)\n      print(f'packet #parts={len(data)} size={size/1000} KB')\n```\n\n[pypi-python-versions]: https://img.shields.io/pypi/pyversions/eiger-simulator.svg\n[pypi-version]: https://img.shields.io/pypi/v/eiger-simulator.svg\n[pypi-status]: https://img.shields.io/pypi/status/eiger-simulator.svg\n[license]: https://img.shields.io/pypi/l/eiger-simulator.svg", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://git.cells.es/controls/eiger-simulator", "keywords": "alba,dectris,eiger,simulator", "license": "GPL", "maintainer": "", "maintainer_email": "", "name": "eiger-simulator", "package_url": "https://pypi.org/project/eiger-simulator/", "platform": "", "project_url": "https://pypi.org/project/eiger-simulator/", "project_urls": {"Homepage": "https://git.cells.es/controls/eiger-simulator"}, "release_url": "https://pypi.org/project/eiger-simulator/0.3.0/", "requires_dist": null, "requires_python": ">=3.7", "summary": "ALBA Eiger simulator", "version": "0.3.0"}, "last_serial": 6669214, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "d4badde61cceef3173d6686125007bcc", "sha256": "0e37b7d5f431b2289453b6b129f09bc8e8fa880caebfd851bf9cae0243772998"}, "downloads": -1, "filename": "eiger-simulator-0.1.1.tar.gz", "has_sig": false, "md5_digest": "d4badde61cceef3173d6686125007bcc", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 10731, "upload_time": "2020-02-07T18:27:54", "upload_time_iso_8601": "2020-02-07T18:27:54.773889Z", "url": "https://files.pythonhosted.org/packages/e3/98/7681dbe44d5a04c3ec5f290a0272243e334f7969e94e0a3c618497370168/eiger-simulator-0.1.1.tar.gz"}], "0.2.0": [{"comment_text": "", "digests": {"md5": "b3985f60a36f359a3451acfded139ffc", "sha256": "6ef1abf6c0df3e157f8fb8e9f0b4375b51d4d381150056107ffe0b118a20ff5f"}, "downloads": -1, "filename": "eiger-simulator-0.2.0.tar.gz", "has_sig": false, "md5_digest": "b3985f60a36f359a3451acfded139ffc", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 11083, "upload_time": "2020-02-12T18:14:44", "upload_time_iso_8601": "2020-02-12T18:14:44.010705Z", "url": "https://files.pythonhosted.org/packages/cc/d5/5ef8743025515d75fdaaefa62538cd7c7c6b7bb72a6671c8d1e8cd625227/eiger-simulator-0.2.0.tar.gz"}], "0.3.0": [{"comment_text": "", "digests": {"md5": "0fd1319bd469833bcd30714c67894507", "sha256": "9d2ae406443180ba506a3cf52ee09066d207023e2593d41a9c051be8b8e370e3"}, "downloads": -1, "filename": "eiger-simulator-0.3.0.tar.gz", "has_sig": false, "md5_digest": "0fd1319bd469833bcd30714c67894507", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 11402, "upload_time": "2020-02-20T16:42:53", "upload_time_iso_8601": "2020-02-20T16:42:53.253475Z", "url": "https://files.pythonhosted.org/packages/25/16/cc1dfeea40056581a6d977f5889842f875366dc8d4bbdfa14fe10eaa5364/eiger-simulator-0.3.0.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "0fd1319bd469833bcd30714c67894507", "sha256": "9d2ae406443180ba506a3cf52ee09066d207023e2593d41a9c051be8b8e370e3"}, "downloads": -1, "filename": "eiger-simulator-0.3.0.tar.gz", "has_sig": false, "md5_digest": "0fd1319bd469833bcd30714c67894507", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 11402, "upload_time": "2020-02-20T16:42:53", "upload_time_iso_8601": "2020-02-20T16:42:53.253475Z", "url": "https://files.pythonhosted.org/packages/25/16/cc1dfeea40056581a6d977f5889842f875366dc8d4bbdfa14fe10eaa5364/eiger-simulator-0.3.0.tar.gz"}]}