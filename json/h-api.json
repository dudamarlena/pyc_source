{"info": {"author": "Hypothesis Engineering Team", "author_email": "eng@list.hypothes.is", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Programming Language :: Python :: 3.6"], "description": "# h-api\n\nTools and components for calling the H API\n\nThis package is not likely to be of use to you\n----------------------------------------------\n\nUnless you work for Hypothesis, then this package is not going to be very\nuseful to you. Feel free to have a poke about, but don't be surprised if it\ndoesn't make much sense.\n\nAt the present time not only should you not use this package, our \nauthentication will also prevent it.\n\nUsage\n-----\n\nTo construct NDJSON for Bulk API calls:\n\n```python\nfrom h_api.enums import ViewType\n\nfrom h_api.bulk_api import CommandBuilder, BulkAPI, Executor\n\nnd_json = BulkAPI.to_string([\n    # It's your job to put the right commands here. \n    # This also accepts a generator\n\n    CommandBuilder.configure(\n        effective_user=\"acct:example@lms.hypothes.is\", \n        total_instructions=4, \n        view=ViewType.BASIC),\n\n    CommandBuilder.user.upsert({\n        \"username\": \"username\",\n        \"authority\": \"authority\",\n        \"display_name\": \"display_name\",\n        \"identities\": [{\n            \"provider\": \"provider\",\n            \"provider_unique_id\": \"provider_unique_id\"\n        }],\n    }, \"user_ref\"),\n\n    CommandBuilder.group.upsert({\n        \"name\": \"name\",\n        \"authority\": \"authority\",\n        \"authority_provided_id\": \"authority_provided_id\"\n    }, \"group_ref\"),\n\n    # These references here match those we assigned to the objects above\n    CommandBuilder.group_membership.create(\"user_ref\", \"group_ref\")\n])\n\n# It's now your job to send this off to H\n```\n\nTo accept and process an NDJSON request like the above:\n```python\nclass MyExectutor(Executor):\n    def execute_batch(self, command_type, data_type, default_config, batch):\n        \"\"\"Implement your insertion logic here and return Report Objects\"\"\"\n\nrows = BulkAPI.from_byte_stream(http_streaming_body, executor=MyExectutor())\n\nif rows:\n    # Turn each row into JSON and return to your caller\n    # You have to do this\n```\n\nHacking\n-------\n\n### Installing h-api in a development environment\n\n#### You will need\n\n* [Git](https://git-scm.com/)\n\n* [pyenv](https://github.com/pyenv/pyenv)\n  Follow the instructions in the pyenv README to install it.\n  The Homebrew method works best on macOS.\n  On Ubuntu follow the Basic GitHub Checkout method.\n\n#### Clone the git repo\n\n```terminal\ngit clone https://github.com/hypothesis/h-api.git\n```\n\nThis will download the code into a `h-api` directory\nin your current working directory. You need to be in the\n`h-api` directory for the rest of the installation\nprocess:\n\n```terminal\ncd h-api\n```\n\n#### Run the tests\n\n```terminal\nmake test\n```\n\n**That's it!** You\u2019ve finished setting up your h-api\ndevelopment environment. Run `make help` to see all the commands that're\navailable for linting, code formatting, packaging, etc.\n\n### Updating the Cookiecutter scaffolding\n\nThis project was created from the\nhttps://github.com/hypothesis/h-cookiecutter-pypackage/ template.\nIf h-cookiecutter-pypackage itself has changed since this project was created, and\nyou want to update this project with the latest changes, you can \"replay\" the\ncookiecutter over this project. Run:\n\n```terminal\nmake template\n```\n\n**This will change the files in your working tree**, applying the latest\nupdates from the h-cookiecutter-pypackage template. Inspect and test the\nchanges, do any fixups that are needed, and then commit them to git and send a\npull request.\n\nIf you want `make template` to skip certain files, never changing them, add\nthese files to `\"options.disable_replay\"` in\n[`.cookiecutter.json`](.cookiecutter.json) and commit that to git.\n\nIf you want `make template` to update a file that's listed in `disable_replay`\nsimply delete that file and then run `make template`, it'll recreate the file\nfor you.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://web.hypothes.is/", "keywords": "", "license": "License :: OSI Approved :: BSD License", "maintainer": "Hypothesis Engineering Team", "maintainer_email": "eng@list.hypothes.is", "name": "h-api", "package_url": "https://pypi.org/project/h-api/", "platform": "Operating System :: OS Independent", "project_url": "https://pypi.org/project/h-api/", "project_urls": {"Homepage": "https://web.hypothes.is/", "Source": "https://github.com/hypothesis/h-api"}, "release_url": "https://pypi.org/project/h-api/1.0.0/", "requires_dist": ["jsonschema", "pytest ; extra == 'tests'", "coverage ; extra == 'tests'", "h-matchers ; extra == 'tests'", "jsonschema ; extra == 'tests'"], "requires_python": "", "summary": "Tools and components for calling the H API", "version": "1.0.0"}, "last_serial": 7033463, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "2e67190ca4b407d64fcc4600a6801ac7", "sha256": "e1e2992ec4ee1fd7e20545c23d90fd67bb7cfca18fc5a7f9a8064fe84d3cee0b"}, "downloads": -1, "filename": "h_api-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "2e67190ca4b407d64fcc4600a6801ac7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 29467, "upload_time": "2020-04-16T16:56:28", "upload_time_iso_8601": "2020-04-16T16:56:28.736749Z", "url": "https://files.pythonhosted.org/packages/20/0d/4b7664b4b7e957b62d798636813d65e638278c108d111e0ee47d1d558c89/h_api-1.0.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "ff6381b238392a013a4213351947bdba", "sha256": "70a4c5ea2fa81a9a540fbcd0e3545cd0edcd1d2182e04c67da07a830ccb7e9a9"}, "downloads": -1, "filename": "h_api-1.0.0.tar.gz", "has_sig": false, "md5_digest": "ff6381b238392a013a4213351947bdba", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21150, "upload_time": "2020-04-16T16:56:31", "upload_time_iso_8601": "2020-04-16T16:56:31.255712Z", "url": "https://files.pythonhosted.org/packages/87/35/eaffa22b0b8f8942dc15d313c946bfa56a412bc6fa0ba0487f02920bef96/h_api-1.0.0.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "2e67190ca4b407d64fcc4600a6801ac7", "sha256": "e1e2992ec4ee1fd7e20545c23d90fd67bb7cfca18fc5a7f9a8064fe84d3cee0b"}, "downloads": -1, "filename": "h_api-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "2e67190ca4b407d64fcc4600a6801ac7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 29467, "upload_time": "2020-04-16T16:56:28", "upload_time_iso_8601": "2020-04-16T16:56:28.736749Z", "url": "https://files.pythonhosted.org/packages/20/0d/4b7664b4b7e957b62d798636813d65e638278c108d111e0ee47d1d558c89/h_api-1.0.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "ff6381b238392a013a4213351947bdba", "sha256": "70a4c5ea2fa81a9a540fbcd0e3545cd0edcd1d2182e04c67da07a830ccb7e9a9"}, "downloads": -1, "filename": "h_api-1.0.0.tar.gz", "has_sig": false, "md5_digest": "ff6381b238392a013a4213351947bdba", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21150, "upload_time": "2020-04-16T16:56:31", "upload_time_iso_8601": "2020-04-16T16:56:31.255712Z", "url": "https://files.pythonhosted.org/packages/87/35/eaffa22b0b8f8942dc15d313c946bfa56a412bc6fa0ba0487f02920bef96/h_api-1.0.0.tar.gz"}]}