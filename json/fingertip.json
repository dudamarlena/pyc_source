{"info": {"author": "Alexander Sosedkin", "author_email": "asosedki@redhat.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "`fingertip`\n-----------\n\nThis program/library aims to be a way to:\n\n* fire up VMs and containers in mere seconds using live VM snapshots\n* uniformly control machines from Python by writing small and neat functions\n  transforming them\n* compose and transparently cache the results of these functions\n* build cool apps that exploit live VM snapshots and checkpoints\n* control other types of machines that are not local VMs\n\nAll while striving to be intentionally underengineered\nand imposing as few limits as possible.\nIf you look at it and think that it does nothing in the laziest way possible,\nthat's it.\n\nIt's currently in alpha stage.\n\n# Teaser\n\nSome examples of executing it from your shell:\n\n``` bash\n$ fingertip os.fedora + ssh  # install Fedora and SSH into it\n$ fingertip os.alpine + console  # install Alpine, access serial console\n$ fingertip os.alpine + ansible package --state=present --name=patch + ssh\n$ fingertip backend.podman-criu + os.alpine + console  # containers!\n```\n\nAn example of Python usage and writing your own steps:\n\n``` python\nimport fingertip\n\ndef main(m=None, alias='itself'):\n    m = m or fingertip.build('os.fedora')\n    m = m.apply('ansible', 'lineinfile', path='/etc/hosts',\n                line=f'127.0.0.1 {alias}')\n    with m:\n        assert '1 received' in m(f'ping -c1 {alias}').out\n    return m\n```\n\nPut in `fingertip/plugins/demo.py`,\nthis can be now be used in pipelines:\n```\n$ fingertip demo\n$ fingertip os.fedora + demo me\n$ fingertip os.alpine + demo --alias=myself + ssh\n```\n\n## Installation\n\nRefer to [INSTALL.md](INSTALL.md).\n\n\n### Shell usage\n\nIf you have installed fingertip, invoke it as `fingertip`.\n\nIf you're running from a checkout, use `python3 <path to checkout>` instead\nor make an alias.\n\nIf you're using a containerized version, invoke `fingertip-containerized`\n(and hope for the best).\n\nSo,\n\n``` bash\n$ fingertip os.fedora + ssh\n```\n\nYou should observe Fedora installation starting up, then shutting down,\ncompressing an image, booting up again and, finally,\ngiving you interactive control over the machine over SSH.\n\nInvoke the same command again, and it should do nearly nothing, as\nthe downloads and the installation are already cached\nin `~/.cache/fingertip`.\nEnjoy fresh clean VMs brought up in mere seconds.\nFeel like they're already at your fingertips.\nControl them from console or from Python.\n\n\n## Python usage\n\nLet's see how manipulating machines can look like\n(`fingertip/plugins/self_test/greeting.py`):\n\n``` python\ndef make_greeting(m, greeting='Hello!'):                      # take a machine\n    with m:                                                   # start if needed\n        m.console.sendline(f\"echo '{greeting}' > .greeting\")  # type a command\n        m.console.expect_exact(m.prompt)                      # wait for prompt\n    return m                                                  # cache result\n\n\n@fingertip.transient                                          # don't lock/save\ndef main(m, greeting='Hello!'):                               # take a machine\n    m = m.apply(make_greeting, greeting=greeting)             # use cached step\n    with m:                                                   # start if needed\n        assert m('cat .greeting').out.strip() == greeting     # execute command\n                                                              # do not save\n```\n\n\nPlugins are regular Python functions, nothing fancy.\nYou can just pass them `fingertip.build('fedora')` and that'll work.\nEven this `@fingertip.transient` thing\nis just an optimization hint to `.apply()`.\n\nHere's what can happen inside such a function:\n\n* It accepts a machine as the first argument\n  (which may be already spun up or not, you don't know).\n* It inspects it and applies more functions if it wants to,\n  (extra steps applied through `.apply` are cached / reused if it's possible).\n* Should any custom steps or changes be applied,\n  the machine must be first spun up using a `with` block (`with m as m`).\n  All modifications to the machine must happen inside that block,\n  or risk being silently undone!\n* Return the machine if the result should be cached and used for the next steps.\n  Not returning one can and usually will undo all the changes you've made.\n  If you don't intend to save the result, don't return m;\n  additionally, decorate the function with `@fingertip.transient`\n  so that fingertip can apply performance optimizations and avoid locking.\n  There's much more to it, see `docs/on_transiency.md` for details.\n\nThe first function in the chain (or the one used in `fingertip.build`)\nwill not get a machine as the first argument.\nTo write a universal function, just use:\n``` python\ndef func(m=None):\n    m = m or fingertip.build('fedora')\n    ...\n```\n\n\n## Disclaimer\n\nDue to what exactly I cache and the early stage of development,\nempty your `~/.cache/fingertip/machines` often, at least after each update.\n\n``` bash\n$ fingertip cleanup machines all\n```\n\nSome days the whole `~/.cache/fingertip` has to go.\n\n``` bash\n$ fingertip cleanup all\n```\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/t184256/fingertip", "keywords": "", "license": "GPL-3.0", "maintainer": "", "maintainer_email": "", "name": "fingertip", "package_url": "https://pypi.org/project/fingertip/", "platform": "", "project_url": "https://pypi.org/project/fingertip/", "project_urls": {"Homepage": "https://github.com/t184256/fingertip", "Repository": "https://github.com/t184256/fingertip"}, "release_url": "https://pypi.org/project/fingertip/0.2.2/", "requires_dist": ["CacheControl (>=0.12.6,<0.13.0)", "pyxdg (>=0.26,<0.27)", "colorlog (>=4.1.0,<5.0.0)", "paramiko (>=2.7.1,<3.0.0)", "pexpect (>=4.8.0,<5.0.0)", "requests (>=2.23.0,<3.0.0)", "requests-mock (>=1.7.0,<2.0.0)", "fasteners (>=0.15,<0.16)", "lockfile (>=0.12.2,<0.13.0)", "cloudpickle (>=1.3.0,<2.0.0)", "GitPython (>=3.1.0,<4.0.0)"], "requires_python": ">=3.6,<4.0", "summary": "Control VMs, containers and other machines with Python, leverage live snapshots", "version": "0.2.2"}, "last_serial": 7047236, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "2206d66e4a5b970b37de7598fbd90d63", "sha256": "3cd06b086af307f22d736dae95549436917a332bd5f47e8f2d19818f105b91d7"}, "downloads": -1, "filename": "fingertip-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "2206d66e4a5b970b37de7598fbd90d63", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 36502, "upload_time": "2020-03-27T22:05:47", "upload_time_iso_8601": "2020-03-27T22:05:47.307114Z", "url": "https://files.pythonhosted.org/packages/8d/4c/54e0404468d026b7aecb0e329e3fae60d8a3fac936a799410bb4fda65ce6/fingertip-0.1.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "6dfa17c1b89e1b2a4b82be0a9bb0304f", "sha256": "73abca16d7356797999600581fe5beaa60c24decc74d91201b7af1b8aea7217f"}, "downloads": -1, "filename": "fingertip-0.1.0.tar.gz", "has_sig": false, "md5_digest": "6dfa17c1b89e1b2a4b82be0a9bb0304f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 24089, "upload_time": "2020-03-27T22:05:50", "upload_time_iso_8601": "2020-03-27T22:05:50.049847Z", "url": "https://files.pythonhosted.org/packages/13/85/ffbd066268d2a388d28ec90d4e3a484f2dabd54685ec7b64f09f38c51049/fingertip-0.1.0.tar.gz"}], "0.1.1": [{"comment_text": "", "digests": {"md5": "14227cacd723bbd25337437fb7d06444", "sha256": "64867abd73f09c7f416a06ca56a29e5e22dceece515e850890f1246db254c549"}, "downloads": -1, "filename": "fingertip-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "14227cacd723bbd25337437fb7d06444", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 266423, "upload_time": "2020-03-27T22:57:31", "upload_time_iso_8601": "2020-03-27T22:57:31.797922Z", "url": "https://files.pythonhosted.org/packages/c4/74/9d8958b64f6f4cd2522127766eb71768b1c2ab7b723dbf5d5b4a5abdb50b/fingertip-0.1.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "6d7b9814f64d341a1455ad5472552e35", "sha256": "cc264b80b4b6abfbe027082fcc70a202c4cd6a71a3c010aa92b9234a390b249e"}, "downloads": -1, "filename": "fingertip-0.1.1.tar.gz", "has_sig": false, "md5_digest": "6d7b9814f64d341a1455ad5472552e35", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 193148, "upload_time": "2020-03-27T22:57:33", "upload_time_iso_8601": "2020-03-27T22:57:33.850421Z", "url": "https://files.pythonhosted.org/packages/5b/3b/5bf3e77501383ee04630ae90eacbc054658a9136efe3230f4aa71c802b86/fingertip-0.1.1.tar.gz"}], "0.2.0": [{"comment_text": "", "digests": {"md5": "7fc19bf33d326dae1b3e3b0c3abecf3e", "sha256": "e53afd865275f2ecff36f211d3ff538870cf69f92093e49312ac1ba32fbe8e3c"}, "downloads": -1, "filename": "fingertip-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "7fc19bf33d326dae1b3e3b0c3abecf3e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 45494, "upload_time": "2020-04-10T20:12:04", "upload_time_iso_8601": "2020-04-10T20:12:04.963394Z", "url": "https://files.pythonhosted.org/packages/f2/2e/053918a9e76762fd61800b6242f1dc25766c7b68424b60df26d775759c46/fingertip-0.2.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "c1cb5b7e3227659aaa736fdab1dcb451", "sha256": "2739b4e45ec4ab03a2a889586e4e98f52ad147436111656a8d1c654d0d2db62f"}, "downloads": -1, "filename": "fingertip-0.2.0.tar.gz", "has_sig": false, "md5_digest": "c1cb5b7e3227659aaa736fdab1dcb451", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 33429, "upload_time": "2020-04-10T20:12:06", "upload_time_iso_8601": "2020-04-10T20:12:06.893771Z", "url": "https://files.pythonhosted.org/packages/f8/04/02e30453ba81dd1c140f78e25c02f416955784fb33b93c60203358ff05b5/fingertip-0.2.0.tar.gz"}], "0.2.1": [{"comment_text": "", "digests": {"md5": "851e7d491fc36f3a65640c671db86043", "sha256": "56bc49c427744298ca69934141654d3718ea6bde27bd3c8d9f037de15c7d6044"}, "downloads": -1, "filename": "fingertip-0.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "851e7d491fc36f3a65640c671db86043", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 45499, "upload_time": "2020-04-17T01:42:02", "upload_time_iso_8601": "2020-04-17T01:42:02.672866Z", "url": "https://files.pythonhosted.org/packages/20/e8/a57c2cc0e7f13c9eea6605fa7ce4f10dfe6a127c9fb5d3f897cd28dbb034/fingertip-0.2.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "9fd91609b457b24327f8c7b5e3f75b6a", "sha256": "4efb25b476f6c2f476f5cbf03d4cff965dd1970b127a98a3aa38baeaf200b89f"}, "downloads": -1, "filename": "fingertip-0.2.1.tar.gz", "has_sig": false, "md5_digest": "9fd91609b457b24327f8c7b5e3f75b6a", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 33465, "upload_time": "2020-04-17T01:42:04", "upload_time_iso_8601": "2020-04-17T01:42:04.509227Z", "url": "https://files.pythonhosted.org/packages/5b/1f/8e93a7603ce5963104016d450ebdf0da6b1a53bae5c295a961b94843c3be/fingertip-0.2.1.tar.gz"}], "0.2.2": [{"comment_text": "", "digests": {"md5": "c63fa78b23ebd48f8fce5d7dacb99c4a", "sha256": "e315ac9025ea733e515af9db920840ec03c0c4505556f583c1033a3b9bb2c000"}, "downloads": -1, "filename": "fingertip-0.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "c63fa78b23ebd48f8fce5d7dacb99c4a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 45745, "upload_time": "2020-04-18T11:26:59", "upload_time_iso_8601": "2020-04-18T11:26:59.685213Z", "url": "https://files.pythonhosted.org/packages/cd/9c/c234835bf165259bf001d35b9475cd4f20b7d3760abf0c58d13dce010059/fingertip-0.2.2-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "8f2553f2588421b078e9379fc1e9e68e", "sha256": "dfc04e7f654a013b286fba7dec7dcf51d6a78d2545732c492bac04982b50c929"}, "downloads": -1, "filename": "fingertip-0.2.2.tar.gz", "has_sig": false, "md5_digest": "8f2553f2588421b078e9379fc1e9e68e", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 33781, "upload_time": "2020-04-18T11:27:01", "upload_time_iso_8601": "2020-04-18T11:27:01.625589Z", "url": "https://files.pythonhosted.org/packages/c5/d6/0f633f2a7acfd70b1580dc0f20030c12a6e00126d8701d4ea94d4095bd91/fingertip-0.2.2.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "c63fa78b23ebd48f8fce5d7dacb99c4a", "sha256": "e315ac9025ea733e515af9db920840ec03c0c4505556f583c1033a3b9bb2c000"}, "downloads": -1, "filename": "fingertip-0.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "c63fa78b23ebd48f8fce5d7dacb99c4a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 45745, "upload_time": "2020-04-18T11:26:59", "upload_time_iso_8601": "2020-04-18T11:26:59.685213Z", "url": "https://files.pythonhosted.org/packages/cd/9c/c234835bf165259bf001d35b9475cd4f20b7d3760abf0c58d13dce010059/fingertip-0.2.2-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "8f2553f2588421b078e9379fc1e9e68e", "sha256": "dfc04e7f654a013b286fba7dec7dcf51d6a78d2545732c492bac04982b50c929"}, "downloads": -1, "filename": "fingertip-0.2.2.tar.gz", "has_sig": false, "md5_digest": "8f2553f2588421b078e9379fc1e9e68e", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 33781, "upload_time": "2020-04-18T11:27:01", "upload_time_iso_8601": "2020-04-18T11:27:01.625589Z", "url": "https://files.pythonhosted.org/packages/c5/d6/0f633f2a7acfd70b1580dc0f20030c12a6e00126d8701d4ea94d4095bd91/fingertip-0.2.2.tar.gz"}]}