{"info": {"author": "Markus Holtermann", "author_email": "info@markusholtermann.eu", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Framework :: Flask", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Software Development :: Quality Assurance", "Topic :: Software Development :: Testing"], "description": "# flask-pancake\n\n![GitHub Workflow Status (branch)](https://img.shields.io/github/workflow/status/MarkusH/flask-pancake/CI/master?style=for-the-badge)\n![Codecov branch](https://img.shields.io/codecov/c/gh/MarkusH/flask-pancake/master?style=for-the-badge)\n![PyPI](https://img.shields.io/pypi/v/flask-pancake?style=for-the-badge)\n\nFeature Flagging for Flask\n\nThis library was heavily inspired by\n[django-waffle](https://github.com/django-waffle/django-waffle).\n\n## Installation\n\n`flask-pancake` depends on [Redis](https://redis.io/) and the [flask-redis](https://pypi.org/project/flask-redis/) Python package.\n\n```bash\n$ python -m pip install flask-pancake\nSuccessfully installed flask-pancake\n```\n\n```python\nfrom flask import Flask\nfrom flask_pancake import FlaskPancake, Switch\nfrom flask_redis import FlaskRedis\n\napp = Flask(__name__)\npancake = FlaskPancake(app)\nredis = FlaskRedis(app)\n\nSWITCH_FEATURE = Switch(\"FEATURE\", default=False)\n\n\n@app.route(\"/\")\ndef index():\n    if SWITCH_FEATURE.is_active():\n        return \"Hello World!\", 200\n    else:\n        return \"Not found\", 404\n```\n\nAlternatively, if you use a `create_app()` method to configure your Flask app,\nuse `pancake.init_app()`:\n\n```python\nfrom flask import Flask\nfrom flask_pancake import FlaskPancake\n\npancake = FlaskPancake()\n\n\ndef create_app() -> Flask:\n    app = Flask(__name__)\n    pancake.init_app(app)\n    return app\n```\n\n## Usage\n\n`flask-pancake` provides three types of flags:\n\n* `Switch`es, which are either globally active or inactive. A common use case\n  for these are system-wide enabling or disabling of a feature. E.g. in the\n  context of a dependency on a third party service, disabling a feature with a\n  global switch when that service is unavailable.\n* `Flag`s are like Switches but can be overridden per user. To make use of\n  Flags, one needs to define a function that returns a user's unique ID or\n  `None`:\n\n  ```python\n  from flask import request\n  from flask_pancake import FlaskPancake\n\n  def get_user_id():\n      return getattr(getattr(request, \"user\", None), \"uid\", None)\n\n  pancake = FlaskPancake(get_user_id_func=get_user_id)\n  # Or, if importing a function from somewhere isn't possible, a string based\n  # approach can be used.\n  # Separate the the fully qualified module path from the function with a `:`\n  pancake = FlaskPancake(get_user_id_func=\"my.app.account.utils:get_uid\")\n  ```\n\n* `Sample`s, have a global \"ratio\" of 0 - 100%. Each time a check is done on a\n  sample, a random value is checked within these bounds. Hence:\n\n  ```python\n  # DO THIS!\n  def foo():\n      is_active = MY_SAMPLE.is_active()\n      if is_active:\n          # do something\n          pass\n      ...\n      if is_active:\n          # do more\n          pass\n\n  # DO NOT DO THIS!\n  def foo():\n      if MY_SAMPLE.is_active():\n          # do something\n          pass\n      ...\n      if MY_SAMPLE.is_active():\n          # do more\n          pass\n  ```\n\n  In the second example, each call to `is_active()` will be evaluated again.\n  Thus, the first block might be executed, but the second might not (or vice\n  versa).\n\nThe persisted state for all three types of feature flags can be cleared, using\nthe `clear()` method.\n\nSimilarly, one can change the persisted state for Flags and Switches using\ntheir `disable()` and `enable()` methods. Samples can be updated using their\n`set(value: float)` method.\n\nWhen using `Flag`s, there are `clear_user()` and `clear_all_users()` methods,\nto clear the state for the current or all users. Along the same line, there are\n`disable_user()` and `enable_user()` to set the current user's state.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/MarkusH/flask-pancake", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "flask-pancake", "package_url": "https://pypi.org/project/flask-pancake/", "platform": "", "project_url": "https://pypi.org/project/flask-pancake/", "project_urls": {"Homepage": "https://github.com/MarkusH/flask-pancake"}, "release_url": "https://pypi.org/project/flask-pancake/0.2.0/", "requires_dist": ["flask (>=1.0)", "flask-redis (>=0.4.0)", "cached-property (<2,>=1.5)", "pytest (<5.4,>=5.3) ; extra == 'testing'", "pytest-cov (<3,>=2.8) ; extra == 'testing'"], "requires_python": ">=3.7", "summary": "Feature Flagging for Flask", "version": "0.2.0"}, "last_serial": 6520491, "releases": {"0.0.1.dev1": [{"comment_text": "", "digests": {"md5": "b3f5189f283750cd6d16cd7c181fd92d", "sha256": "6697f4f5457d6df87337d9e026e79d1d6618432ce2af6d996d212133ccbad04e"}, "downloads": -1, "filename": "flask_pancake-0.0.1.dev1-py3-none-any.whl", "has_sig": true, "md5_digest": "b3f5189f283750cd6d16cd7c181fd92d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 5188, "upload_time": "2020-01-19T23:04:00", "upload_time_iso_8601": "2020-01-19T23:04:00.070819Z", "url": "https://files.pythonhosted.org/packages/4c/60/2786ee7a8864e3ab1dfe3ed49296fcc7d5886167d4c6bf72ee0486d0bddf/flask_pancake-0.0.1.dev1-py3-none-any.whl"}], "0.1.0": [{"comment_text": "", "digests": {"md5": "1294c75322f97e44848fe6adb26b37f7", "sha256": "7d2a5f6e95835e210be25fb98727885f4a4494380db6a41d9de0d262a550e6e2"}, "downloads": -1, "filename": "flask_pancake-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "1294c75322f97e44848fe6adb26b37f7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 5563, "upload_time": "2020-01-21T23:36:15", "upload_time_iso_8601": "2020-01-21T23:36:15.044133Z", "url": "https://files.pythonhosted.org/packages/8b/ef/1bf653f0ac82139bcbdc2509c939ba7172004410c67f553bf8b987797299/flask_pancake-0.1.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "2c65f4e70133c8feb8f09a27fbc0c82c", "sha256": "12f98783987eae5c0ebd7b92eac29ed2b0a7d86ab3739d83ece6a32ecd1ce6f8"}, "downloads": -1, "filename": "flask-pancake-0.1.0.tar.gz", "has_sig": false, "md5_digest": "2c65f4e70133c8feb8f09a27fbc0c82c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 8870, "upload_time": "2020-01-21T23:36:16", "upload_time_iso_8601": "2020-01-21T23:36:16.443967Z", "url": "https://files.pythonhosted.org/packages/a1/77/75e55f00a67684ef3c2e8e4201369c4c2f6f59e64d7b4b1b5ca43d64039c/flask-pancake-0.1.0.tar.gz"}], "0.2.0": [{"comment_text": "", "digests": {"md5": "2335d49d7353604db9e97e3946c1841a", "sha256": "5523de667262fccb6eb3d344da3171a6953a27e0205bd5f688889c42399de2bd"}, "downloads": -1, "filename": "flask_pancake-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "2335d49d7353604db9e97e3946c1841a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 7346, "upload_time": "2020-01-26T01:15:17", "upload_time_iso_8601": "2020-01-26T01:15:17.022917Z", "url": "https://files.pythonhosted.org/packages/d8/a4/c4251310fb4d5942003e6626c6bf7a2d78e1bb26cf1c00051ae5ee05382c/flask_pancake-0.2.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "36fb538754e2a66e6a326300beb2dcbe", "sha256": "5cae1de5891d3012637ad068fcb7a11b2f439b42e4a18d1a072d861006ed9e8f"}, "downloads": -1, "filename": "flask-pancake-0.2.0.tar.gz", "has_sig": false, "md5_digest": "36fb538754e2a66e6a326300beb2dcbe", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 12879, "upload_time": "2020-01-26T01:15:18", "upload_time_iso_8601": "2020-01-26T01:15:18.294005Z", "url": "https://files.pythonhosted.org/packages/b5/e8/f14f799dce0c83b285f9db3ec2c5a371fbf7aff41827ac89d433081f8622/flask-pancake-0.2.0.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "2335d49d7353604db9e97e3946c1841a", "sha256": "5523de667262fccb6eb3d344da3171a6953a27e0205bd5f688889c42399de2bd"}, "downloads": -1, "filename": "flask_pancake-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "2335d49d7353604db9e97e3946c1841a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 7346, "upload_time": "2020-01-26T01:15:17", "upload_time_iso_8601": "2020-01-26T01:15:17.022917Z", "url": "https://files.pythonhosted.org/packages/d8/a4/c4251310fb4d5942003e6626c6bf7a2d78e1bb26cf1c00051ae5ee05382c/flask_pancake-0.2.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "36fb538754e2a66e6a326300beb2dcbe", "sha256": "5cae1de5891d3012637ad068fcb7a11b2f439b42e4a18d1a072d861006ed9e8f"}, "downloads": -1, "filename": "flask-pancake-0.2.0.tar.gz", "has_sig": false, "md5_digest": "36fb538754e2a66e6a326300beb2dcbe", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 12879, "upload_time": "2020-01-26T01:15:18", "upload_time_iso_8601": "2020-01-26T01:15:18.294005Z", "url": "https://files.pythonhosted.org/packages/b5/e8/f14f799dce0c83b285f9db3ec2c5a371fbf7aff41827ac89d433081f8622/flask-pancake-0.2.0.tar.gz"}]}