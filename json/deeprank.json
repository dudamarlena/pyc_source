{"info": {"author": "Nicolas Renaud, CunLiang Geng Sonja Georgrievska, Li Xue", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Science/Research", "License :: OSI Approved :: Apache Software License", "Natural Language :: English", "Programming Language :: Python :: 3.7"], "description": "# DeepRank\n\n**Deep Learning for ranking protein-protein conformations**\n\n[![Build Status](https://secure.travis-ci.org/DeepRank/deeprank.svg?branch=master)](https://travis-ci.org/DeepRank/deeprank)\n[![Codacy Badge](https://api.codacy.com/project/badge/Grade/9252e59633cf46a7ada0c3c614c175ea)](https://www.codacy.com/app/NicoRenaud/deeprank?utm_source=github.com&utm_medium=referral&utm_content=DeepRank/deeprank&utm_campaign=Badge_Grade)\n[![Coverage Status](https://coveralls.io/repos/github/DeepRank/deeprank/badge.svg?branch=master)](https://coveralls.io/github/DeepRank/deeprank?branch=master)\n[![Documentation Status](https://readthedocs.org/projects/deeprank/badge/?version=latest)](http://deeprank.readthedocs.io/?badge=latest)\n\nThe documentation of the module can be found on readthedocs :\n<http://deeprank.readthedocs.io/en/latest/>\n\n![alt-text](./pics/deeprank.png)\n\n## 1 . Installation\n\nMinimal information to install the module\n\n\n-   clone the repository `git clone https://github.com/DeepRank/deeprank.git`\n-   go there             `cd deeprank`\n-   install the module   `pip install -e ./`\n-   go int the test dir `cd test`\n-   run the test suite `pytest`\n\n\n## 2 . Tutorial\n\nWe give here the tutorial like introduction to the DeepRank machinery. More informatoin can be found in the documentation <http://deeprank.readthedocs.io/en/latest/>.  We quickly illsutrate here the two main steps of Deeprank :\n\n-   the generation of the data\n-   running deep leaning experiments.\n\n### A . Generate the data set (using MPI)\n\nThe generation of the data require only require PDBs files of decoys and their native and the PSSM if needed. All the features/targets and mapped features onto grid points will be auomatically calculated and store in a HDF5 file.\n\n```python\nfrom deeprank.generate import *\nfrom mpi4py import MPI\n\ncomm = MPI.COMM_WORLD\n\n# adress of the BM4 folder\nBM4 = '/path/to/BM4/data/'\n\n# sources to assemble the data base\npdb_source     = ['./1AK4/decoys/']\npdb_native     = ['./1AK4/native/']\npssm_source    = ['./1AK4/pssm_new/']\n\n# output file\nh5file = './1ak4.hdf5'\n\n#init the data assembler\ndatabase = DataGenerator(pdb_source=pdb_source,\n                         pdb_native=pdb_native,\n                         pssm_source=pssm_source,\n                         data_augmentation = 1,\n                         compute_targets  = ['deeprank.targets.dockQ','deeprank.targets.binary_class'],\n                         compute_features = ['deeprank.features.AtomicFeature',\n                                             'deeprank.features.FullPSSM',\n                                             'deeprank.features.PSSM_IC',\n                                             'deeprank.features.BSA',\n                                             'deeprank.features.ResidueDensity'],\n                         hdf5=h5file,mpi_comm=comm)\n\n#create new files\ndatabase.create_database(prog_bar=True)\n\n# map the features\ngrid_info = {\n  'number_of_points' : [30,30,30],\n  'resolution' : [1.,1.,1.],\n  'atomic_densities' : {'CA':3.5,'N':3.5,'O':3.5,'C':3.5},\n}\n\n database.map_features(grid_info,try_sparse=True,time=False,prog_bar=True)\n```\n\nThis script can be exectuted using for example 4 MPI processes with the command:\n\n```\n    NP=4\n    mpiexec -n $NP python generate.py\n```\n\nIn  the first part of the script we define the path where to find the PDBs of the decoys and natives that we want to have in the dataset. All the .pdb files present in _pdb_source_ will be used in the dataset. We need to specify where to find the native conformations to be able to compute RMSD and the dockQ score. For each pdb file detected in _pdb_source_, the code will try to find a native conformation in _pdb_native_.\n\nWe then initialize the `DataGenerator` object. This object (defined in `deeprank/generate/DataGenerator.py`) needs a few input parameters:\n\n-   pdb_source : where to find the pdb to include in the dataset\n-   pdb_native : where to find the corresponding native conformations\n-   compute_targets : list of modules used to compute the targets\n-   compute_features : list of modules used to compute the features\n-   hdf5 : Name of the HDF5 file to store the data set\n\nWe then create the data base with the command `database.create_database()`. This function autmatically create an HDF5 files where each pdb has its own group. In each group we can find the pdb of the complex and its native form, the calculated features and the calculated targets. We can now mapped the features to a grid. This is done via the command `database.map_features()`. As you can see this method requires a dictionary as input. The dictionary contains the instruction to map the data.\n\n-   number_of_points: the number of points in each direction\n-   resolution : the resolution in Angs\n-   atomic_densities : {'atom_name' : vvdw_radius} the atomic densities required\n\nThe atomic densities are mapped following the [protein-ligand paper](https://arxiv.org/abs/1612.02751). The other features are mapped to the grid points using a Gaussian function (other modes are possible but somehow hard coded)\n\n#### Visualization of the mapped features\n\nTo explore the HDf5 file and vizualize the features you can use the dedicated browser <https://github.com/DeepRank/DeepXplorer>. This tool saloows to dig through the hdf5 file and to directly generate the files required to vizualie the features in VMD or PyMol. An iPython comsole is also embedded to analyze the feature values, plot them etc ....\n\n### B . Deep Learning\n\nThe HDF5 files generated above can be used as input for deep learning experiments. You can take a look at the file `test/test_learn.py` for some examples. We give here a quick overview of the process.\n\n```python\nfrom deeprank.learn import *\nfrom deeprank.learn.model3d import cnn as cnn3d\nimport torch.optim as optim\n\n# input database\ndatabase = '1ak4.hdf5'\n\n# declare the dataset instance\ndata_set = DataSet(database,\n            grid_shape=(30,30,30),\n            select_feature={'AtomicDensities_ind' : 'all',\n                            'Feature_ind' : ['coulomb','vdwaals','charge','pssm'] },\n            select_target='DOCKQ',\n            normalize_features = True, normalize_targets=True,\n            pair_chain_feature=np.add,\n            dict_filter={'IRMSD':'<4. or >10.'})\n\n\n# create the networkt\nmodel = NeuralNet(data_set,cnn3d,model_type='3d',task='reg',\n                  cuda=False,plot=True,outdir=out)\n\n# change the optimizer (optional)\nmodel.optimizer = optim.SGD(model.net.parameters(),\n                            lr=0.001,\n                            momentum=0.9,\n                            weight_decay=0.005)\n\n# start the training\nmodel.train(nepoch = 50,divide_trainset=0.8, train_batch_size = 5,num_workers=0)\n```\n\nIn the first part of the script we create a Torch database from the HDF5 file. We can specify one or several HDF5 files and even select some conformations using the `dict_filter` argument. Other options of `DataSet` can be used to specify the features/targets the normalization, etc ...\n\nWe then create a `NeuralNet` instance that takes the dataset as input argument. Several options are available to specify the task to do, the GPU use, etc ... We then have simply to train the model. Simple !\n\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/DeepRank/deeprank", "keywords": "deeprank", "license": "Apache Software License 2.0", "maintainer": "", "maintainer_email": "", "name": "deeprank", "package_url": "https://pypi.org/project/deeprank/", "platform": "", "project_url": "https://pypi.org/project/deeprank/", "project_urls": {"Documentation": "https://deeprank.readthedocs.io", "Homepage": "https://github.com/DeepRank/deeprank", "Issue tracker": "https://github.com/DeepRank/deeprank/issues", "Source Code": "https://github.com/DeepRank/deeprank"}, "release_url": "https://pypi.org/project/deeprank/0.1.0/", "requires_dist": ["numpy (>=1.13)", "scipy", "h5py", "tqdm", "pandas", "mpi4py", "matplotlib", "torchsummary", "torch (<1.4.0)", "pdb2sql (>=0.3.0)", "freesasa (==2.0.3.post6) ; platform_system == \"Darwin\"", "freesasa (==2.0.3.post7) ; platform_system == \"Linux\"", "pycuda ; extra == 'cuda'", "prospector[with_pyroma] ; extra == 'dev'", "autopep8 ; extra == 'dev'", "isort ; extra == 'dev'", "sphinx ; extra == 'doc'", "nose ; extra == 'test'", "coverage ; extra == 'test'", "pytest ; extra == 'test'", "pytest-cov ; extra == 'test'", "codacy-coverage ; extra == 'test'", "coveralls ; extra == 'test'"], "requires_python": "", "summary": "Rank Protein-Protein Interactions using Deep Learning", "version": "0.1.0"}, "last_serial": 6921176, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "5a0fd905979f5ed70751e1a757d6267e", "sha256": "ee3ce67b11da080ffc4c931a72ca3c44b80f7369812b397b52c8798aa89f085d"}, "downloads": -1, "filename": "deeprank-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "5a0fd905979f5ed70751e1a757d6267e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 98486, "upload_time": "2020-03-31T16:01:18", "upload_time_iso_8601": "2020-03-31T16:01:18.720585Z", "url": "https://files.pythonhosted.org/packages/6e/a7/e9b1e70deecb934e42ca604ccd272a53a4f97db1788a6e03131f4b659a17/deeprank-0.1.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "c2760df45630c1a450e22a41a55091a4", "sha256": "e1b2efe0f64751385fd030a12e7f439b14e4de3fc6b7692e6fcd8638722c5e4a"}, "downloads": -1, "filename": "deeprank-0.1.0.tar.gz", "has_sig": false, "md5_digest": "c2760df45630c1a450e22a41a55091a4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 691596, "upload_time": "2020-03-31T16:01:21", "upload_time_iso_8601": "2020-03-31T16:01:21.354691Z", "url": "https://files.pythonhosted.org/packages/e3/d5/93560d9f8ec531c6fc08871ce7c801341a73649ffc5075811db08fa5e05d/deeprank-0.1.0.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "5a0fd905979f5ed70751e1a757d6267e", "sha256": "ee3ce67b11da080ffc4c931a72ca3c44b80f7369812b397b52c8798aa89f085d"}, "downloads": -1, "filename": "deeprank-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "5a0fd905979f5ed70751e1a757d6267e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 98486, "upload_time": "2020-03-31T16:01:18", "upload_time_iso_8601": "2020-03-31T16:01:18.720585Z", "url": "https://files.pythonhosted.org/packages/6e/a7/e9b1e70deecb934e42ca604ccd272a53a4f97db1788a6e03131f4b659a17/deeprank-0.1.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "c2760df45630c1a450e22a41a55091a4", "sha256": "e1b2efe0f64751385fd030a12e7f439b14e4de3fc6b7692e6fcd8638722c5e4a"}, "downloads": -1, "filename": "deeprank-0.1.0.tar.gz", "has_sig": false, "md5_digest": "c2760df45630c1a450e22a41a55091a4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 691596, "upload_time": "2020-03-31T16:01:21", "upload_time_iso_8601": "2020-03-31T16:01:21.354691Z", "url": "https://files.pythonhosted.org/packages/e3/d5/93560d9f8ec531c6fc08871ce7c801341a73649ffc5075811db08fa5e05d/deeprank-0.1.0.tar.gz"}]}