{"info": {"author": "Vendula Poncova", "author_email": "vponcova@redhat.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "License :: OSI Approved :: GNU Lesser General Public License v2 or later (LGPLv2+)", "Programming Language :: Python :: 3"], "description": "# dasbus\nThis DBus library is written in Python 3, based on GLib and inspired by pydbus.\n\nThe code used to be part of the [Anaconda Installer](https://github.com/rhinstaller/anaconda)\nproject. It was based on the [pydbus](https://github.com/LEW21/pydbus) library, but we replaced\nit with our own solution because of its inactivity. The dasbus library is a result of this effort.\n\n## Requirements\n\n* Python 3.6+\n* PyGObject 3\n\nYou can install [PyGObject](https://pygobject.readthedocs.io) provided by your system or use PyPI.\nThe system package is usually called `python3-gi`, `python3-gobject` or `pygobject3`. See the\n[instructions](https://pygobject.readthedocs.io/en/latest/getting_started.html) for your platform\n(only for PyGObject, you don't need cairo or GTK).\n\nThe library is known to work with Python 3.8, PyGObject 3.34 and GLib 2.63, but these are not the\nrequired minimal versions.\n\n## Installation\n\nInstall the package from [PyPI](https://pypi.org/project/dasbus/). Follow the instructions above\nto install the required dependencies.\n\n```\npip3 install dasbus\n```\n\nOr install the RPM package on Fedora.\n\n```\nsudo dnf install python3-dasbus\n```\n\n## Examples\n\nShow the current hostname.\n\n```python\nfrom dasbus.connection import SystemMessageBus\nbus = SystemMessageBus()\n\nproxy = bus.get_proxy(\n    \"org.freedesktop.hostname1\",\n    \"/org/freedesktop/hostname1\"\n)\n\nprint(proxy.Hostname)\n```\n\nSend a notification to the notification server.\n\n```python\nfrom dasbus.connection import SessionMessageBus\nbus = SessionMessageBus()\n\nproxy = bus.get_proxy(\n    \"org.freedesktop.Notifications\",\n    \"/org/freedesktop/Notifications\"\n)\n\nid = proxy.Notify(\n    \"\", 0, \"face-smile\", \"Hello World!\",\n    \"This notification can be ignored.\",\n    [], {}, 0\n)\n\nprint(\"The notification {} was send.\".format(id))\n```\n\nHandle a closed notification.\n\n```python\nfrom dasbus.loop import EventLoop\nloop = EventLoop()\n\nfrom dasbus.connection import SessionMessageBus\nbus = SessionMessageBus()\n\nproxy = bus.get_proxy(\n    \"org.freedesktop.Notifications\",\n    \"/org/freedesktop/Notifications\"\n)\n\ndef callback(id, reason):\n    print(\"The notification {} was closed.\".format(id))\n\nproxy.NotificationClosed.connect(callback)\nloop.run()\n```\n\nRun the service org.example.HelloWorld.\n\n```python\nfrom dasbus.loop import EventLoop\nloop = EventLoop()\n\nfrom dasbus.connection import SessionMessageBus\nbus = SessionMessageBus()\n\nclass HelloWorld(object):\n    __dbus_xml__ = \"\"\"\n    <node>\n        <interface name=\"org.example.HelloWorld\">\n            <method name=\"Hello\">\n                <arg direction=\"in\" name=\"name\" type=\"s\" />\n                <arg direction=\"out\" name=\"return\" type=\"s\" />\n            </method>\n        </interface>\n    </node>\n    \"\"\"\n\n    def Hello(self, name):\n        return \"Hello {}!\".format(name)\n\nbus.publish_object(\"/org/example/HelloWorld\", HelloWorld())\nbus.register_service(\"org.example.HelloWorld\")\nloop.run()\n```\n\n\n## Features\n\nUse constants to define DBus services and objects.\n\n```python\nfrom dasbus.connection import SystemMessageBus\nfrom dasbus.identifier import DBusServiceIdentifier\n\nNETWORK_MANAGER = DBusServiceIdentifier(\n    namespace=(\"org\", \"freedesktop\", \"NetworkManager\"),\n    message_bus=SystemMessageBus()\n)\n\nproxy = NETWORK_MANAGER.get_proxy()\nprint(proxy.NetworkingEnabled)\n```\n\nUse exceptions to propagate and handle DBus errors.\n\n```python\nfrom dasbus.error import ErrorMapper\nerror_mapper = ErrorMapper()\n\nfrom dasbus.connection import SessionMessageBus\nbus = SessionMessageBus(error_mapper=error_mapper)\n\nfrom dasbus.error import DBusError, get_error_decorator\ndbus_error = get_error_decorator(error_mapper)\n\n@dbus_error(\"org.freedesktop.DBus.Error.InvalidArgs\")\nclass InvalidArgs(DBusError):\n    pass\n```\n\nCall DBus methods asynchronously.\n\n```python\nfrom dasbus.loop import EventLoop\nloop = EventLoop()\n\ndef callback(call):\n    print(call())\n\nproxy = NETWORK_MANAGER.get_proxy()\nproxy.GetDevices(callback=callback)\nloop.run()\n```\n\nGenerate XML specifications from Python classes.\n\n```python\nfrom dasbus.server.interface import dbus_interface\nfrom dasbus.typing import Str\n\n@dbus_interface(\"org.example.HelloWorld\")\nclass HelloWorld(object):\n\n    def Hello(self, name: Str) -> Str:\n        return \"Hello {}!\".format(name)\n\nprint(HelloWorld.__dbus_xml__)\n```\n\nRepresent DBus structures by Python objects.\n\n```python\nfrom dasbus.structure import DBusData\nfrom dasbus.typing import Str, get_variant\n\nclass UserData(DBusData):\n    def __init__(self):\n        self._name = \"\"\n\n    @property\n    def name(self) -> Str:\n        return self._name\n\n    @name.setter\n    def name(self, name):\n        self._name = name\n\ndata = UserData()\ndata.name = \"Alice\"\n\nprint(UserData.to_structure(data))\nprint(UserData.from_structure({\n    \"name\": get_variant(Str, \"Bob\")\n}))\n```\n\nCreate Python objects that can be published on DBus.\n\n```python\nfrom dasbus.server.interface import dbus_interface\nfrom dasbus.server.template import InterfaceTemplate\nfrom dasbus.server.publishable import Publishable\nfrom dasbus.typing import Str\n\n@dbus_interface(\"org.example.Chat\")\nclass ChatInterface(InterfaceTemplate):\n\n    def Send(self, message: Str):\n        return self.implementation.send()\n\nclass Chat(Publishable):\n\n    def for_publication(self):\n        return ChatInterface(self)\n\n    def send(self, message):\n        print(message) \n\n```\n\nUse DBus containers to publish dynamically created Python objects.\n\n```python\nfrom dasbus.connection import SessionMessageBus\nfrom dasbus.server.container import DBusContainer\n\ncontainer = DBusContainer(\n    namespace=(\"org\", \"example\", \"Chat\"),\n    message_bus=SessionMessageBus()\n)\n\nprint(container.to_object_path(Chat()))\n```\n\n## Inspiration\n\nLook at the [complete examples](https://github.com/rhinstaller/dasbus/tree/master/examples) or\n[DBus services](https://github.com/rhinstaller/anaconda/tree/master/pyanaconda/modules) of\nthe Anaconda Installer for more inspiration.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/rhinstaller/dasbus", "keywords": "dbus glib library", "license": "", "maintainer": "", "maintainer_email": "", "name": "dasbus", "package_url": "https://pypi.org/project/dasbus/", "platform": "", "project_url": "https://pypi.org/project/dasbus/", "project_urls": {"Homepage": "https://github.com/rhinstaller/dasbus"}, "release_url": "https://pypi.org/project/dasbus/0.4/", "requires_dist": null, "requires_python": ">=3.6", "summary": "DBus library in Python 3", "version": "0.4"}, "last_serial": 6976782, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "ec4381278064914bd92459da22cdcad9", "sha256": "9b354e813626f6ccc8ea762fc64306d4479a556dc3ab5e0870e18d412eec6ecb"}, "downloads": -1, "filename": "dasbus-0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "ec4381278064914bd92459da22cdcad9", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 53266, "upload_time": "2019-10-30T17:53:55", "upload_time_iso_8601": "2019-10-30T17:53:55.493434Z", "url": "https://files.pythonhosted.org/packages/24/2f/a5fd4b84359fc39f4252f591fbbc8bfd1113b0f6343ea684e8a52b28315c/dasbus-0.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "a65c614de2a8fb668a3660563cba1365", "sha256": "86a83351190c0c4bea5921f33365642140c156686a6a1f06d419c3a021374bd9"}, "downloads": -1, "filename": "dasbus-0.1.tar.gz", "has_sig": false, "md5_digest": "a65c614de2a8fb668a3660563cba1365", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 36119, "upload_time": "2019-10-30T17:53:58", "upload_time_iso_8601": "2019-10-30T17:53:58.092823Z", "url": "https://files.pythonhosted.org/packages/39/10/6594a3ad92c0cc7411e6ac723577a5d885238a389bda794c91480199b600/dasbus-0.1.tar.gz"}], "0.2": [{"comment_text": "", "digests": {"md5": "b176a219ef087743d0c39a04b3992c7a", "sha256": "b51f1c83f8c39a1792b038573f84958381019156a7226a43d58305e7fdf5ab8f"}, "downloads": -1, "filename": "dasbus-0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "b176a219ef087743d0c39a04b3992c7a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 54041, "upload_time": "2020-01-13T14:41:34", "upload_time_iso_8601": "2020-01-13T14:41:34.575480Z", "url": "https://files.pythonhosted.org/packages/2c/aa/95af718288370876ed8ef743b32f6756c5c942ae4d21a58ed6674064af08/dasbus-0.2-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "72bb43d8438af1efe2ad771040a00def", "sha256": "62d1961640290a8f67c496444228016d23d04d1ba36c98abcf148ebbfa0c3fc6"}, "downloads": -1, "filename": "dasbus-0.2.tar.gz", "has_sig": false, "md5_digest": "72bb43d8438af1efe2ad771040a00def", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 37278, "upload_time": "2020-01-13T14:41:35", "upload_time_iso_8601": "2020-01-13T14:41:35.930409Z", "url": "https://files.pythonhosted.org/packages/55/54/0cc96f78b40077c1ba299c987fd21df75fd1bd2531b8bf56fabd33e7eea5/dasbus-0.2.tar.gz"}], "0.3": [{"comment_text": "", "digests": {"md5": "65ae592bac2f7efc519f6f6994442a90", "sha256": "cf77915bef11511216c0ce04d2b16097b343ac17f8f167e5f5d98477e5165e1e"}, "downloads": -1, "filename": "dasbus-0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "65ae592bac2f7efc519f6f6994442a90", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 56488, "upload_time": "2020-04-02T09:01:15", "upload_time_iso_8601": "2020-04-02T09:01:15.099856Z", "url": "https://files.pythonhosted.org/packages/a2/48/6f9962434f6d239ae5c77459f594c037979b924897580261662a46d6db19/dasbus-0.3-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "9f59891ecb08b14bdf05ac9ddd437fd5", "sha256": "68b1b68ae47ba781fbc6834b53182879cd385715774d8f705ae9797a2881f3d2"}, "downloads": -1, "filename": "dasbus-0.3.tar.gz", "has_sig": false, "md5_digest": "9f59891ecb08b14bdf05ac9ddd437fd5", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 40636, "upload_time": "2020-04-02T09:01:16", "upload_time_iso_8601": "2020-04-02T09:01:16.814507Z", "url": "https://files.pythonhosted.org/packages/5b/38/1cca6fc77fff355fe61ff36105b0ca1cc37d21da2f4d7b702beda4852509/dasbus-0.3.tar.gz"}], "0.4": [{"comment_text": "", "digests": {"md5": "4cee6486d72167570dd9913039a73470", "sha256": "bf6eac8e8545eddda15eb6c16ef52f6d789902b1137131606a836f65db6eba5f"}, "downloads": -1, "filename": "dasbus-0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "4cee6486d72167570dd9913039a73470", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 57768, "upload_time": "2020-04-08T10:41:53", "upload_time_iso_8601": "2020-04-08T10:41:53.845602Z", "url": "https://files.pythonhosted.org/packages/d1/49/cfd89573dffbf9a5b3943d40c9100f45f85e8e22bbb8389e02dc5f655f96/dasbus-0.4-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "1822d0483b6a32459db79101d3603e29", "sha256": "e6768b3b6b282d86fbd2faa28a9f1d3c91ae58ef469975294fee07dddde4aa4c"}, "downloads": -1, "filename": "dasbus-0.4.tar.gz", "has_sig": false, "md5_digest": "1822d0483b6a32459db79101d3603e29", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 41804, "upload_time": "2020-04-08T10:41:55", "upload_time_iso_8601": "2020-04-08T10:41:55.719885Z", "url": "https://files.pythonhosted.org/packages/77/4e/16566315257f43516cbe48e800d942ecce380a562b846f26eea74ffe77f4/dasbus-0.4.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "4cee6486d72167570dd9913039a73470", "sha256": "bf6eac8e8545eddda15eb6c16ef52f6d789902b1137131606a836f65db6eba5f"}, "downloads": -1, "filename": "dasbus-0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "4cee6486d72167570dd9913039a73470", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 57768, "upload_time": "2020-04-08T10:41:53", "upload_time_iso_8601": "2020-04-08T10:41:53.845602Z", "url": "https://files.pythonhosted.org/packages/d1/49/cfd89573dffbf9a5b3943d40c9100f45f85e8e22bbb8389e02dc5f655f96/dasbus-0.4-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "1822d0483b6a32459db79101d3603e29", "sha256": "e6768b3b6b282d86fbd2faa28a9f1d3c91ae58ef469975294fee07dddde4aa4c"}, "downloads": -1, "filename": "dasbus-0.4.tar.gz", "has_sig": false, "md5_digest": "1822d0483b6a32459db79101d3603e29", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 41804, "upload_time": "2020-04-08T10:41:55", "upload_time_iso_8601": "2020-04-08T10:41:55.719885Z", "url": "https://files.pythonhosted.org/packages/77/4e/16566315257f43516cbe48e800d942ecce380a562b846f26eea74ffe77f4/dasbus-0.4.tar.gz"}]}