{"info": {"author": "John Clary", "author_email": "john.clary@austintexas.gov", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: Public Domain", "Programming Language :: Python :: 3"], "description": "# Knackpy \n\nA Python client for interacting with [Knack](http://knack.com) applications.\n\n## Installation\n\nKnackpy requires Python v3.6+.\n\n```\npip install knackpy\n```\n\n## Quick Start\n\n```python\n>>> kn = Knack(\n      obj='object_1',\n      app_id='abc123',\n      api_key='topsecretapikey',\n      tzinfo=\"US/Central\" # Be careful, this is the default value!\n    )\n\n>>> kn.data\n[{'store_id': 30424, 'inspection_date': 1479448800000, 'id': '58598262bcb3437b51194040'},...]\n```\n\n## Documentation\n\n- [Object](#object-based-requests) and [view-based](#view-based-requests) requests\n- [Filters](#filters)\n- [Parsing of fieldnames and field labels](#field-data)\n- [Create, update, and delete records](#create-update-or-delete-records)\n- [CSV output](#csv-output)\n- [File downloads](#file-downloads)\n- [Page and Row Limitng](#page-and-row-limiting)\n- [Localization and Timezone Settings](#localization-and-timezone-settings)\n- [Connection Fields](#connection-fields)\n- [Timeouts and Retrying](#timeouts-and-retrying)\n- [Knack Record ID's](#knack-record-ids)\n\n### View-Based Requests\n\nGet data from a Knack view.\n\n```python\n>>> from knackpy import Knack\n\n>>> kn = Knack(\n      scene='scene_34',\n      view='view_10',\n      app_id='abc123'\n    )\n\n>>> kn.data_raw\n[{'field_1': 30424, 'field_1_raw': 30424, 'field_2': '11/18/2016'},...]\n```\n\nProvide a list of the view's reference objects to return humanized field names.\n\n```python\n>>> kn = Knack(\n      scene='scene_34',\n      view='view_10',\n      ref_obj=['object_1', 'object_2'],\n      app_id='myappid',\n      api_key='topsecretapikey'\n    )\n\n>>> kn.data\n[{'store_id': 30424, 'inspection_date': 1479448800000, 'id': '58598262bcb3437b51194040'},...]\n```\n\n### Object-Based Requests\n\nRetrieve data directly from an object.\n\n```python\n>>> kn = Knack(\n      obj='object_1',\n      app_id='abc123',\n      api_key='topsecretapikey'\n    )\n\n>>> kn.data\n[{'store_id': 30424, 'inspection_date': 1479448800000, 'id': '58598262bcb3437b51194040'},...]\n```\n\n### Filters\n\nYou can pass a [filter](https://www.knack.com/developer-documentation/#filters) to object-based requests. \n\n```python\n\n>>> filters = {\n      'match': 'and',\n      'rules': [\n        {\n          'field':'field_10',\n          'operator':'is',\n          'value':'No'\n        },\n        {\n          'field':'field_11',\n          'operator':'is',\n          'value':'Yes'\n        }\n      ]\n    }\n\n>>> kn = Knack(\n      obj='object_1',\n      app_id='abc123',\n      api_key='topsecretapikey',\n      filters=filters\n    )\n```\n\n### Field Data\n\nField metadata is available in object-based requests or in view-based requests when reference objects have been specified.\n\n```python\n>>> kn.fields\n{'field_1': {' ': 'store_id', 'key': 'field_1,required': False, 'type': 'auto_increment'},...}\n\n>>> kn.fieldnames\n['store_id', 'inspection_date', 'store_status',...]\n\n>>> kn.field_map\n{'store_id' : 'field_1', 'store_status' : 'field_2',...}\n```\n\n### File Downloads\n\nYou can download files for the records you retrieve from a view. Files are overwritten by default:\n\n```python\n >>> kn.download(overwrite=False) # Writes all new files to `_downloads` directory\n\n>>> kn.download(\n  destination=\"my_downloads\", # Writes to `my_downloads` directory\n  label_fields=[\"Attachment ID\", \"Date\"], # Prepends the \"Attachment ID\" and \"Date\" values to the filename\n  download_fields=[\"Photo\", \"Document\"] # Downloads files from these specific fields only\n)\n```\n\n### CSV Output\n\nYou can write Knack data to a `CSV` file. Note that timestamps are converted to ISO 8601 format when written to CSV.\n\n```python\n>>> kn.to_csv('data.csv')\n\"store_id\",\"inspection_date\",\"store_status\"\n\"30424\",\"2020-01-05T15:05:00-05:00\",\"OPEN\"\n\"30200\",\"2020-01-05T15:05:00-05:00\",\"CLOSED\"\n...\n```\n\n### Create, Update, or Delete Records\n\nCreate a new record.\n\n```python\n>>> import knackpy\n\n>>> record = {'field_1': 30424}\n\n>>> response = knackpy.record(\n      record,\n      obj_key='object_12',\n      api_id='myappid',\n      api_key='topsecretapikey',\n      method='create'\n    )\n\n{ 'id':'6a204bd89f3c8348afd5c77c717a097a', 'field_1': 30424, ...}\n```\n\nUpdate a record.\n\n```python\n>>> import knackpy\n\n>>> record = {'id':'6a204bd89f3c8348afd5c77c717a097a','field_1': 2049}\n\n>>> response = knackpy.record(\n      record,\n      obj_key='object_12',\n      app_id='myappid',\n      api_key='topsecretapikey',\n      method='update'\n    )\n\n{ 'id':'6a204bd89f3c8348afd5c77c717a097a', 'field_1': 2049, ...}\n```\n\nDelete a record\n\n```python\n>>> record = {'id':'6a204bd89f3c8348afd5c77c717a097a'}\n\n>>> response = knackpy.record(\n      record,\n      obj_key='object_12',\n      app_id='myappid',\n      api_key='topsecretapikey',\n      method='delete'\n    )\n\n# API returns `{'delete': True}`\n```    \n\n### App Data\n\nGet an app's configuration data (objects, scenes, etc.)\n\n```python\n>>> from knackpy import get_app_data\n\n>>> my_app = get_app_data('myAppIdString')\n\n>>> my_app['name']\n\n\"John's Amazing App\"\n```\n\n### Page and Row Limiting\n\nUse `rows_per_page` (default=`1000`) and/or `page_limit` (default=`1000`) to limit results. \n\nNote that maximum rows-per-page allowed by the Knack API is 1000.\n\n```python\n>>> kn = Knack(\n      obj='object_1',\n      app_id='abc123',\n      api_key='topsecretapikey',\n      rows_per_page=1, # \n      page_limit=1\n    )\n\n```\n\n### Localization and Timezone Settings\n\n*Note that knackpy's default timezone value is `US/Central`.*\n\n#### A Note about Knack Timestamps\n\nYou may be wondering why timezone settings are concern, given that Knackpy, like the Knack API, returns timestamp values as Unix timestamps in millesconds (thus, there is no timezone encoding at all). However, the Knack API confusingly returns *millisecond timestamps in your localized  timezone*!\n\nFor example, if you inspect a timezone value in Knack, e.g., `1578254700000`, this value represents  Sunday, January 5, 2020 8:05:00 PM *local time*.\n\nTo address this, knackpy handles the conversion of Knack timestamps into *real* millisecond unix timestamps which are timezone naive. However, the original \"local timestamps\" are preserved in the `Knack.data_raw` object. If you're working with that data, you'll need to convert the tiemstamps yourself. See the `Knack._convert_timestamps` method in the source code for help.\n\n#### Setting your timezone\n\nUse the `tzinfo` parameter to specify your applications timezone setting. This value should be formatted as a timezone string compliant to the [tz database](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones).\n\n```python\n>>> kn = Knack(\n      obj='object_1',\n      app_id='abc123',\n      api_key='topsecretapikey',\n      tzinfo=\"US/Central\" # Be careful, this is the default value!\n    )\n```\n\n### Timeouts and Retrying\n\nBy default, knackpy will attempt to send an HTTP request to the Knack API 5 times until a status code of `200` is returned. You can adjust the number of request attempts (`max_attempts`, default=`5`) and the timeout (`timeout`, default=`10`):\n\n```python\n>>> kn = Knack(\n      obj='object_1',\n      app_id='abc123',\n      api_key='topsecretapikey',\n      max_attempts=4,\n      timeout=20,\n      tzinfo=\"US/Central\" # Be careful, this is the default value!\n    )\n```\n\n### Connection Fields\n\nBy default, connection fields are (if one connection) returned as the field's display name, or (if many connetions) an array of the connection fields' display names.\n\nUse `raw_connections=True` to retain the entire connection array from Knack:\n\n```python\n[\n  {\n    \"id\": \"5a7a027b82fecf67ab01f263\", # Record ID of connected record\n    \"identifier\": \"Pizza Hut\" # This the value of the connection's display name field\n  }\n],\n```\n\n### Knack Record ID's\n\nBy default, the Knack record ID is included within each record under the `id` key. This can create problems if you have a field named `id` in our object. You can exclude the record IDs entirely with `include_ids=False` or set your own ID key with `id_key=\"your_field_id\"`. \n\n## License\n\nAs a work of the City of Austin, this project is in the public domain within the United States.\n\nAdditionally, we waive copyright and related rights of the work worldwide through the [CC0 1.0 Universal public domain dedication](https://creativecommons.org/publicdomain/zero/1.0/).\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/cityofaustin/knackpy", "keywords": "knack api api-client integration python", "license": "Public Domain", "maintainer": "", "maintainer_email": "", "name": "knackpy", "package_url": "https://pypi.org/project/knackpy/", "platform": "", "project_url": "https://pypi.org/project/knackpy/", "project_urls": {"Homepage": "http://github.com/cityofaustin/knackpy"}, "release_url": "https://pypi.org/project/knackpy/0.1.1/", "requires_dist": ["pytz", "requests"], "requires_python": "", "summary": "A Python API wrapper for interacting with Knack applications.", "version": "0.1.1"}, "last_serial": 6506057, "releases": {"0.0.10": [{"comment_text": "", "digests": {"md5": "00567cde4579c52574b1e2687db1b849", "sha256": "716c3b9449d1a79e7436e2c16896da072594bf76740f83138878bca998c182d8"}, "downloads": -1, "filename": "knackpy-0.0.10-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "00567cde4579c52574b1e2687db1b849", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 7397, "upload_time": "2018-02-18T23:05:40", "upload_time_iso_8601": "2018-02-18T23:05:40.323932Z", "url": "https://files.pythonhosted.org/packages/5a/27/e2d4e29e373cae9482353be095403b9e6054fc16df61776095c547176919/knackpy-0.0.10-py2.py3-none-any.whl"}], "0.0.11": [{"comment_text": "", "digests": {"md5": "fa42bad1ff0e4deb961738952f234c0e", "sha256": "54144c67570d51385a569b58e4425f9cbdd8ca594adc744151864c80d5801458"}, "downloads": -1, "filename": "knackpy-0.0.11-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "fa42bad1ff0e4deb961738952f234c0e", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 7404, "upload_time": "2018-02-20T18:25:37", "upload_time_iso_8601": "2018-02-20T18:25:37.017474Z", "url": "https://files.pythonhosted.org/packages/a1/ea/c683d381afae4200c159be00b4d3a2de27fdfd73d92d998164af30250cb6/knackpy-0.0.11-py2.py3-none-any.whl"}], "0.0.12": [{"comment_text": "", "digests": {"md5": "0784d2ce2d70db721e6d75b1f804697b", "sha256": "82f4a9c4aa94764ba9a4c356e93d2f5a34b9a0c391e44b8beafc3844642bcff4"}, "downloads": -1, "filename": "knackpy-0.0.12-py3-none-any.whl", "has_sig": false, "md5_digest": "0784d2ce2d70db721e6d75b1f804697b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7687, "upload_time": "2018-06-13T12:53:51", "upload_time_iso_8601": "2018-06-13T12:53:51.646303Z", "url": "https://files.pythonhosted.org/packages/f2/c4/b25a05efa23b57231e504d8440d5063eeadcbc8cd03f9f1bd72c04a66c1f/knackpy-0.0.12-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "9c55509d27a5dbf5b6136731e4c04d28", "sha256": "124a7da241a2edf33312ae715cff113229f45e6f7a9926a5bbe3398cadb117dd"}, "downloads": -1, "filename": "knackpy-0.0.12.tar.gz", "has_sig": false, "md5_digest": "9c55509d27a5dbf5b6136731e4c04d28", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8272, "upload_time": "2018-06-13T12:53:52", "upload_time_iso_8601": "2018-06-13T12:53:52.802070Z", "url": "https://files.pythonhosted.org/packages/06/54/8ff09ce5ca88c76827f534230a2f232c486c478c9fb3b80b5d2ab2098f9d/knackpy-0.0.12.tar.gz"}], "0.0.13": [{"comment_text": "", "digests": {"md5": "89860b3a6733564cc835eae956aaef8b", "sha256": "d5573e02bf604f82fcf0cdcdb85b601d86e87a540b12bc0abda07e7747430ecd"}, "downloads": -1, "filename": "knackpy-0.0.13-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "89860b3a6733564cc835eae956aaef8b", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 9773, "upload_time": "2020-01-05T03:55:36", "upload_time_iso_8601": "2020-01-05T03:55:36.651541Z", "url": "https://files.pythonhosted.org/packages/cc/a4/ef6c3a63158ba5b0aa7d0117b781fe8fec961a832ece23c0cb0ff49feb5c/knackpy-0.0.13-py2.py3-none-any.whl"}], "0.0.4": [{"comment_text": "", "digests": {"md5": "2eae700ff8f1ea098bbbf0c60c38223e", "sha256": "f23aa499b0897bf158b8ec68f84dfbf5d492b763c8b853c9c8e388ad87a41ce4"}, "downloads": -1, "filename": "knackpy-0.0.4-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "2eae700ff8f1ea098bbbf0c60c38223e", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 7071, "upload_time": "2017-11-04T13:52:46", "upload_time_iso_8601": "2017-11-04T13:52:46.448437Z", "url": "https://files.pythonhosted.org/packages/cd/e1/57abd650050408bc114163c174fefefb749f4353bbecd52ce82c5e634494/knackpy-0.0.4-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "e25fffcf15ab8d62d21c6392d1ae84b7", "sha256": "d154ba5332f70eca22a997aab5583a1c51532c37d90ba175ca6d780e90001c49"}, "downloads": -1, "filename": "knackpy-0.0.4.tar.gz", "has_sig": false, "md5_digest": "e25fffcf15ab8d62d21c6392d1ae84b7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6760, "upload_time": "2017-11-04T13:52:47", "upload_time_iso_8601": "2017-11-04T13:52:47.220142Z", "url": "https://files.pythonhosted.org/packages/6d/15/57316c0ad5ebc31dc733d3c5e90b2a7694bb23f486e9553790420aed1a1f/knackpy-0.0.4.tar.gz"}], "0.0.5": [{"comment_text": "", "digests": {"md5": "968808a9a8901a3e5979e53164c49049", "sha256": "bff9c7241f613e305d4660b68dabe83f3f08dd03d34f18bde3c5bd4f6f0b1828"}, "downloads": -1, "filename": "knackpy-0.0.5-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "968808a9a8901a3e5979e53164c49049", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 7070, "upload_time": "2017-11-04T14:36:28", "upload_time_iso_8601": "2017-11-04T14:36:28.000262Z", "url": "https://files.pythonhosted.org/packages/73/b6/18c1cbdbfc6cd3e888cb58bddace3d9fb62d906f82424a2ea0d40b2ef771/knackpy-0.0.5-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "1f9bc4faca33dbaab5d23c065aa35043", "sha256": "76ce5c94ff5ecba45ec5fc382201ec4f3771c6c35d4e26af7d654e30bc5287af"}, "downloads": -1, "filename": "knackpy-0.0.5.tar.gz", "has_sig": false, "md5_digest": "1f9bc4faca33dbaab5d23c065aa35043", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6981, "upload_time": "2017-11-04T14:36:28", "upload_time_iso_8601": "2017-11-04T14:36:28.896964Z", "url": "https://files.pythonhosted.org/packages/8a/f8/189650fb4be76dd76c72237a251009db955115be21803b58967cf6930dc1/knackpy-0.0.5.tar.gz"}], "0.0.6": [{"comment_text": "", "digests": {"md5": "7570024fafdf4f6144a8e98f9da00ddf", "sha256": "3e8243ae231e22946f28f7487777438a721ed78323f3828a22d66f5d7d21e482"}, "downloads": -1, "filename": "knackpy-0.0.6-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "7570024fafdf4f6144a8e98f9da00ddf", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 7382, "upload_time": "2018-02-18T15:28:12", "upload_time_iso_8601": "2018-02-18T15:28:12.955570Z", "url": "https://files.pythonhosted.org/packages/63/1e/b6c70b0580e5488b557703436f74da83a6b66dd707899c189c386222892f/knackpy-0.0.6-py2.py3-none-any.whl"}], "0.0.7": [{"comment_text": "", "digests": {"md5": "0f3f4816c3c6c6c03527a32f0abaf07a", "sha256": "dfd6ba32cc2b1742d93554b92e2a259174b8d2249bba4690e2b87ac7d2801a73"}, "downloads": -1, "filename": "knackpy-0.0.7-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "0f3f4816c3c6c6c03527a32f0abaf07a", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 7431, "upload_time": "2018-02-18T15:43:04", "upload_time_iso_8601": "2018-02-18T15:43:04.037262Z", "url": "https://files.pythonhosted.org/packages/a5/cf/4663c1c2c3d738a59c37a93ded13da68c5b37bf5b2b396d4679b2cdc0fd6/knackpy-0.0.7-py2.py3-none-any.whl"}], "0.0.8": [{"comment_text": "", "digests": {"md5": "636473410c8882ef300a4484d213492d", "sha256": "4e2fd9db6ed03ee34f9940b280a442977c969f1f80f6ebd6df060db05f822db6"}, "downloads": -1, "filename": "knackpy-0.0.8-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "636473410c8882ef300a4484d213492d", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 7365, "upload_time": "2018-02-18T21:19:49", "upload_time_iso_8601": "2018-02-18T21:19:49.151123Z", "url": "https://files.pythonhosted.org/packages/67/14/52d9501f60399499cd94c759220a74b01f47dc094a16f3d56bf91f87235e/knackpy-0.0.8-py2.py3-none-any.whl"}], "0.0.9": [{"comment_text": "", "digests": {"md5": "5cc9e1c87a73d9c67ace3a124e77bd57", "sha256": "2063e51cbc69a041d8e79d9abefed3d5e1b62be09926f4c2867e5ae95acc1e59"}, "downloads": -1, "filename": "knackpy-0.0.9-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "5cc9e1c87a73d9c67ace3a124e77bd57", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 7403, "upload_time": "2018-02-18T22:40:04", "upload_time_iso_8601": "2018-02-18T22:40:04.605239Z", "url": "https://files.pythonhosted.org/packages/78/10/043a13708a0860c3643b2177516eb6cb4d2a351419629714fd90c4936e2f/knackpy-0.0.9-py2.py3-none-any.whl"}], "0.1.0": [{"comment_text": "", "digests": {"md5": "f3644d4238c6c677bf71b42110d3ebd8", "sha256": "65b11b6cb2d4341e53562d25e3c27bb730b38451ad9f91bbb11d39f1129f9dc1"}, "downloads": -1, "filename": "knackpy-0.1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "f3644d4238c6c677bf71b42110d3ebd8", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 11746, "upload_time": "2020-01-05T22:08:11", "upload_time_iso_8601": "2020-01-05T22:08:11.060742Z", "url": "https://files.pythonhosted.org/packages/c5/64/92873c84507e29e8dccd99456b17a244a9dcb4c99daad2bec518520c6e48/knackpy-0.1.0-py2.py3-none-any.whl"}], "0.1.1": [{"comment_text": "", "digests": {"md5": "987587bf7f80b0a4a444ddc8f546bc4c", "sha256": "e179e7c6517e348151f30d7c9874586203e9b985994a7c3247b4903e1aa56406"}, "downloads": -1, "filename": "knackpy-0.1.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "987587bf7f80b0a4a444ddc8f546bc4c", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 11514, "upload_time": "2020-01-23T11:58:34", "upload_time_iso_8601": "2020-01-23T11:58:34.502827Z", "url": "https://files.pythonhosted.org/packages/55/63/4735a226468b7fe60177857a2d40e6c9a490228a4aa492bacc92e2192bc2/knackpy-0.1.1-py2.py3-none-any.whl"}]}, "urls": [{"comment_text": "", "digests": {"md5": "987587bf7f80b0a4a444ddc8f546bc4c", "sha256": "e179e7c6517e348151f30d7c9874586203e9b985994a7c3247b4903e1aa56406"}, "downloads": -1, "filename": "knackpy-0.1.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "987587bf7f80b0a4a444ddc8f546bc4c", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 11514, "upload_time": "2020-01-23T11:58:34", "upload_time_iso_8601": "2020-01-23T11:58:34.502827Z", "url": "https://files.pythonhosted.org/packages/55/63/4735a226468b7fe60177857a2d40e6c9a490228a4aa492bacc92e2192bc2/knackpy-0.1.1-py2.py3-none-any.whl"}]}