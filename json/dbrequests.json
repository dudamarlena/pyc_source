{"info": {"author": "Matthaeus Deutsch", "author_email": "mdeutsch@outlook.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# dbrequests\n\n[![Build Status](https://travis-ci.org/INWTlab/dbrequests.svg?branch=master)](https://travis-ci.org/INWTlab/dbrequests)![Publish to PyPi](https://github.com/INWTlab/dbrequests/workflows/Publish%20to%20PyPi/badge.svg?branch=master)\n\n**dbrequests is a python package built for easy use of raw SQL within python and pandas projects.**\n\nIt uses ideas from [records](https://github.com/kennethreitz/records/) and is built using [sqlalchemy-engines](https://www.sqlalchemy.org/), but is more heavily integrated with pandas. It aims to reproduce the pilosophy behind the R-package [dbtools](https://github.com/INWT/dbtools/).\n\n\n_Database support includes RedShift, Postgres, MySQL, SQLite, Oracle, and MS-SQL (drivers not included)._\n\n## Usage\n\n### Send queries and bulk queries\n\nEasy sending of raw sql and output as pandas DataFrames, with credentials given as dictionary (for an example see creds_example.json) or the url of the database:\n\n```python\nfrom dbrequests import Database\n\ndb = Database(creds=creds)\ndf = db.send_query(\"\"\"\n    SELECT * FROM test;\n    \"\"\")\ndf # table test as pandas DataFrame\n```\n\nYou can put the sql query in a file and direct `send_query` to the file. The sql-file may be parametrized:\n\n```sql\nSELECT {col1}, {col2} FROM test;\n\n```\n\n```python\nfrom dbrequests import Database\n\ndb = Database(creds=creds, sql_dir = '/path/to/dir/')\ndb.send_query('select', col1='id', col2='name')\ndf # table test, including columns 'id', 'name' as pandas DataFrame\n```\n\nYou can also pass arguments to pandas `read_sql`-Function:\n\n```python\nfrom dbrequests import Database\n\ndb = Database(creds=creds, sql_dir = '/path/to/dir/')\ndb.send_query('select', col1='id', col2='name', index_col='id')\ndf # table test, including column 'name' as pandas DataFrame with index 'id'\n```\n\nYou may also send queries with no table as output to the database via `send_bulk_query`, which exhibits the same behavior as `send_query`:\n\n```python\ndb.send_bulk_query('drop test from test;')\n```\n\n### Send data\n\nEasy sending of pandas Dataframes in multiple modes:\n\n```python\ndb.send_data(df, 'table', mode='insert')\n```\n\nSupported modes are:\n  - 'insert': Appending new records. Duplicate primary keys will result in errors (sql insert into).\n  - 'truncate': Delete the table and completely rewrite it (sql truncate and insert into).\n  - 'replace': Replace records with duplicate primary keys (sql replace into).\n  - 'update': Update records with duplicate primary keys (sql insert into duplicate key update).\n\n### Utilities\n\n- Comments can be automatically removed from SQL code by adding `remove_comments=True` either to the Database defintion or send_query. This is especially useful if outcommenting code blocks including parametized variables and thus `{}`. The default of this behavior is `False`.\n- Percentage signs can be transfered to a Python readable way by adding `escape_percentage=True` either to the Database definition or send_query. This means percentage signs dont have to be escaped manually when sending them via Python. The default is `False`.\n- Database.get_table_names will give existing tables in the database\n- Parameters such es `chunksize` for `pandas.to_sql` may be given to the wrapper function `send_data` and are handed over to pandas. The same is true for `send_query`.\n- For transactions the context manager `transaction` may be of use.\n\n## Installation\n\nThe package can be installed via pip:\n\n```\npip install dbrequests\n```\n\n## Extensibility\ndbrequests is designed to easily accommodate different needs in the form of drivers / dialects. For examples of how to extend the capabilities of the Connection class, see connection_subclass.py under examples.\n\n### Existing extensions\n- MySQL / MariaDB: use\n```\nfrom dbrequests.mysql import Database\n```\nfor using the MySQL specific extension as Database connector. The extension provides MySQL specific functionalities, like using `load data infile` for writing data to tables.\n\n\n## Version 1.0\n  - implemented send_data and send_query wrappers for pandas sql-functionality\n\n## Version 1.0.8\n  - renamed to dbrequests\n\n## Version 1.1\n  - added handling of percentage signs\n  - added possibility of automated comment removal\n  - ensured the compatibility of raw SQL code with code sent via dbrequests\n\n## Version 1.2\n  -  changed static loading of the connection class to a flexible model, allowing to override connections for different SQL drivers\n\n## Version 1.3\n  - added mysql backend for specific mysql and mariadb support\n  - added possibility for send_data to use infile for mysql databases\n\n## Version 1.3.8\n  - dbrequests.mysql module:\n    - see #11 for motivation on moving dialect specific implementation into extras\n    - see #15 for mysql specific send_data via load data local infile\n\n## Version 1.3.9\n  - dbrequests.mysql:\n    - see #20 for memory efficient send_data using datatable\n\n## Version 1.3.10\n  - dbrequests.mysql:\n    - see #24 for bugfix while writing to csv\n\n## Version 1.3.11\n  - dbrequests.mysql:\n    - see #28 for bugfix when sending escape sequences\n\n## Version 1.3.12\n  - dbrequests.mysql:\n    - see #22 for performance improvements for send_query when reading large datasets\n    - support for pymysql and mysqldb\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/INWTlab/dbrequests", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "dbrequests", "package_url": "https://pypi.org/project/dbrequests/", "platform": "", "project_url": "https://pypi.org/project/dbrequests/", "project_urls": {"Homepage": "https://github.com/INWTlab/dbrequests"}, "release_url": "https://pypi.org/project/dbrequests/1.3.12/", "requires_dist": ["pandas", "SQLAlchemy ; python_version >= \"3.0\"", "datatable ; extra == 'mysql'", "psycopg2 ; extra == 'pg'", "sqlalchemy-redshift ; extra == 'redshift'", "psycopg2 ; extra == 'redshift'"], "requires_python": "", "summary": "Python package for querying and connecting to databases.", "version": "1.3.12"}, "last_serial": 7048329, "releases": {"1.0.8": [{"comment_text": "", "digests": {"md5": "e6c86836e9fcefd18b0d40e6ee6f99c3", "sha256": "cd280550e190e21022b9d6ceff5630dec0cac761a7cdf2b0b4514464c4066eeb"}, "downloads": -1, "filename": "dbrequests-1.0.8-py3-none-any.whl", "has_sig": false, "md5_digest": "e6c86836e9fcefd18b0d40e6ee6f99c3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11063, "upload_time": "2019-07-10T08:42:24", "upload_time_iso_8601": "2019-07-10T08:42:24.875990Z", "url": "https://files.pythonhosted.org/packages/b0/c2/b94d3b160649db3bb341250893416f1664339c1bb729d0601598c134eae8/dbrequests-1.0.8-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "4178116511cb3c86be240c6316d683f1", "sha256": "8de46de2873258229ef892714f13c26bba8ff884d0f9d2ee4abf9881e6e6c659"}, "downloads": -1, "filename": "dbrequests-1.0.8.tar.gz", "has_sig": false, "md5_digest": "4178116511cb3c86be240c6316d683f1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10331, "upload_time": "2019-07-10T08:42:27", "upload_time_iso_8601": "2019-07-10T08:42:27.413153Z", "url": "https://files.pythonhosted.org/packages/d5/5a/b2939bedd0a386ae9e914d8be842de12f3f809036a5b9ba643eed14898ee/dbrequests-1.0.8.tar.gz"}], "1.0.9": [{"comment_text": "", "digests": {"md5": "b323bac555747e379683e3a6ede93c99", "sha256": "a2a668f0650d2c69ee11a83e8023c2d4f84e398ca61c6c4084cf8d5fc3f5ccfb"}, "downloads": -1, "filename": "dbrequests-1.0.9-py3-none-any.whl", "has_sig": false, "md5_digest": "b323bac555747e379683e3a6ede93c99", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11029, "upload_time": "2019-07-10T08:54:55", "upload_time_iso_8601": "2019-07-10T08:54:55.343830Z", "url": "https://files.pythonhosted.org/packages/be/df/974a0fde4ddd2ead9c3b9a10dcb4343ec96ff323f5d3be43b1e71d520481/dbrequests-1.0.9-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "d82920dd20c3bd0b56ee6e1ea38661d5", "sha256": "1deb027accb587b7f6f020aa3b2cfcdec2fea358ad43c05ccfd5f04f7a84e5f9"}, "downloads": -1, "filename": "dbrequests-1.0.9.tar.gz", "has_sig": false, "md5_digest": "d82920dd20c3bd0b56ee6e1ea38661d5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10258, "upload_time": "2019-07-10T08:54:58", "upload_time_iso_8601": "2019-07-10T08:54:58.044901Z", "url": "https://files.pythonhosted.org/packages/5f/44/5397635c290bcaa55e82557944d87365f4d025aa34d73907e5d22425d740/dbrequests-1.0.9.tar.gz"}], "1.1.1": [{"comment_text": "", "digests": {"md5": "b4438457d0381efbadd84f1812e77acc", "sha256": "f8ed6a2736cb1af76d52438f722593042fed82e5bb385efab044cb979de1a94f"}, "downloads": -1, "filename": "dbrequests-1.1.1.tar.gz", "has_sig": false, "md5_digest": "b4438457d0381efbadd84f1812e77acc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11861, "upload_time": "2019-12-01T14:06:35", "upload_time_iso_8601": "2019-12-01T14:06:35.467252Z", "url": "https://files.pythonhosted.org/packages/2a/b8/00e61ee69b33a36afa32bd7ed1b39c5db29f9e07796795d7696b1a98c236/dbrequests-1.1.1.tar.gz"}], "1.2.0": [{"comment_text": "", "digests": {"md5": "a7032319e46c2475033cf471dda5ef2a", "sha256": "1c7a2bd0a465d1903b62c408fc4b0f730ac75854b3b53aeb8554b76d4748beb0"}, "downloads": -1, "filename": "dbrequests-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "a7032319e46c2475033cf471dda5ef2a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 13300, "upload_time": "2020-03-12T17:13:41", "upload_time_iso_8601": "2020-03-12T17:13:41.845007Z", "url": "https://files.pythonhosted.org/packages/f7/25/9ab045decc3ff3053763ca15a7aeb203915055eaa66f80a549a922c94ab2/dbrequests-1.2.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "99c17ccaa54a5ba97ad8c97e6adf3cb3", "sha256": "5d12cfb6db33c8e9c5238e0ad1782f327504f81cb8785bf88ef6e2221f5e1671"}, "downloads": -1, "filename": "dbrequests-1.2.0.tar.gz", "has_sig": false, "md5_digest": "99c17ccaa54a5ba97ad8c97e6adf3cb3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12291, "upload_time": "2020-03-12T17:13:44", "upload_time_iso_8601": "2020-03-12T17:13:44.623394Z", "url": "https://files.pythonhosted.org/packages/d7/19/72bfd5bcc4bd9dc65693dfe55d5b452d5e9c225b67fa7a730bf166f477ad/dbrequests-1.2.0.tar.gz"}], "1.3.10": [{"comment_text": "", "digests": {"md5": "f43c5d5983d80b05776bf3b8fe09e771", "sha256": "25b0a60d3ce0e4d58c84cc75aa5d152aa62022e21a7fc6983e863ab6ed147752"}, "downloads": -1, "filename": "dbrequests-1.3.10-py3-none-any.whl", "has_sig": false, "md5_digest": "f43c5d5983d80b05776bf3b8fe09e771", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 19462, "upload_time": "2020-04-09T07:55:06", "upload_time_iso_8601": "2020-04-09T07:55:06.068878Z", "url": "https://files.pythonhosted.org/packages/c7/15/d5f4b75cc7f0e8599b97f812a13cb3305fcf3463efbfd503de37aecee3e2/dbrequests-1.3.10-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "130626d383fbf37b38116f72968796af", "sha256": "63b166b1236626fc9497884f0de8f9cb8f7326ef99a76916a9dbceba6cc5d279"}, "downloads": -1, "filename": "dbrequests-1.3.10.tar.gz", "has_sig": false, "md5_digest": "130626d383fbf37b38116f72968796af", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15716, "upload_time": "2020-04-09T07:55:07", "upload_time_iso_8601": "2020-04-09T07:55:07.024986Z", "url": "https://files.pythonhosted.org/packages/e2/8b/94780787871a9a6024ce450474f4af67ad1f14d9cfbb7c8e101b013ea2a1/dbrequests-1.3.10.tar.gz"}], "1.3.11": [{"comment_text": "", "digests": {"md5": "26de9085bf7fd000a11f9b419c425a7b", "sha256": "a9ce747fa1c2fb88ff45143feab22e9904d7395e039466cdd10e7bd3fe4a2eea"}, "downloads": -1, "filename": "dbrequests-1.3.11-py3-none-any.whl", "has_sig": false, "md5_digest": "26de9085bf7fd000a11f9b419c425a7b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 19559, "upload_time": "2020-04-17T05:57:52", "upload_time_iso_8601": "2020-04-17T05:57:52.582766Z", "url": "https://files.pythonhosted.org/packages/e0/5e/58d69535a0f3f86d34c5353ef50f2c9910f5f990d147d30e4fef6e9857a4/dbrequests-1.3.11-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "962e9945947ce1682d1d0145c3c4fbc6", "sha256": "3b5f0bf27a0196c3e6f79ec62b9f14074efa246326dbab2c2e0e0aeab3376926"}, "downloads": -1, "filename": "dbrequests-1.3.11.tar.gz", "has_sig": false, "md5_digest": "962e9945947ce1682d1d0145c3c4fbc6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15867, "upload_time": "2020-04-17T05:57:53", "upload_time_iso_8601": "2020-04-17T05:57:53.745818Z", "url": "https://files.pythonhosted.org/packages/32/3d/77c8d2db51c73afc67ca6f5b5205b0ac4a1210d949c37b4a1dcc3067f958/dbrequests-1.3.11.tar.gz"}], "1.3.12": [{"comment_text": "", "digests": {"md5": "5322a983b55c9f777a8ca1c146c977fa", "sha256": "f7d49ea0b5aea87007bd2a61132d8505da8c44da6ca1852ff1902d28fb6cd431"}, "downloads": -1, "filename": "dbrequests-1.3.12-py3-none-any.whl", "has_sig": false, "md5_digest": "5322a983b55c9f777a8ca1c146c977fa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 20792, "upload_time": "2020-04-18T14:43:46", "upload_time_iso_8601": "2020-04-18T14:43:46.668315Z", "url": "https://files.pythonhosted.org/packages/73/9a/efca445c9f977e275381a296b4ae8cba576c87d9d71b3299dc44c3fbe7cd/dbrequests-1.3.12-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "1df4a40a0f1e544f78070755b9673cb1", "sha256": "72465d294045757e11d65f222c70d9941e3a5fc6232d681362fcded90212e971"}, "downloads": -1, "filename": "dbrequests-1.3.12.tar.gz", "has_sig": false, "md5_digest": "1df4a40a0f1e544f78070755b9673cb1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17260, "upload_time": "2020-04-18T14:43:47", "upload_time_iso_8601": "2020-04-18T14:43:47.645508Z", "url": "https://files.pythonhosted.org/packages/7b/55/89977a27bb0058f3f2a6d2265857874aec47a705eb07f1c4be212dcafab1/dbrequests-1.3.12.tar.gz"}], "1.3.8": [{"comment_text": "", "digests": {"md5": "f35d48c3248962422af7d38433f3fdca", "sha256": "e2719a6251c2a29de078443e026e43128ab1e06e3bcade09ea6064761fb1ba62"}, "downloads": -1, "filename": "dbrequests-1.3.8-py3-none-any.whl", "has_sig": false, "md5_digest": "f35d48c3248962422af7d38433f3fdca", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 18894, "upload_time": "2020-03-30T20:23:57", "upload_time_iso_8601": "2020-03-30T20:23:57.498722Z", "url": "https://files.pythonhosted.org/packages/79/75/0414febed8f367b7691567334fe3e6ed20798549fc8bc8eae17bcf595e39/dbrequests-1.3.8-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "f5efd9ca4cd66700596c7e805dd9f436", "sha256": "f22271d1e792b8e61e4809911b0fa566a03ab626ffc5affe0c52bb7872fe3152"}, "downloads": -1, "filename": "dbrequests-1.3.8.tar.gz", "has_sig": false, "md5_digest": "f5efd9ca4cd66700596c7e805dd9f436", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15357, "upload_time": "2020-03-30T20:23:58", "upload_time_iso_8601": "2020-03-30T20:23:58.888142Z", "url": "https://files.pythonhosted.org/packages/8c/b5/18662104c5b8142dfddfb278ff7baec30039d6050f92056aed542917e8e8/dbrequests-1.3.8.tar.gz"}], "1.3.9": [{"comment_text": "", "digests": {"md5": "b96705d3333826e506f5c4fccef1eb83", "sha256": "56e9ddea4d8e4a6c41802b678b9a758ee7a11318dcdff4f1032f85660fb4c2bf"}, "downloads": -1, "filename": "dbrequests-1.3.9-py3-none-any.whl", "has_sig": false, "md5_digest": "b96705d3333826e506f5c4fccef1eb83", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 19339, "upload_time": "2020-04-06T12:57:07", "upload_time_iso_8601": "2020-04-06T12:57:07.397261Z", "url": "https://files.pythonhosted.org/packages/04/1d/11dddaeeb922b2eb0899b0ff2ed89ce2bd57f39caffa73db6f0226e4e5d2/dbrequests-1.3.9-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "a568ab5b1f7a9839ba640065eb9c7c57", "sha256": "898626a335c4ef49ac878a8ee9d4926978f730f485d8146eb0d3477af470cc82"}, "downloads": -1, "filename": "dbrequests-1.3.9.tar.gz", "has_sig": false, "md5_digest": "a568ab5b1f7a9839ba640065eb9c7c57", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15598, "upload_time": "2020-04-06T12:57:08", "upload_time_iso_8601": "2020-04-06T12:57:08.959399Z", "url": "https://files.pythonhosted.org/packages/74/8f/56df7f3e0ba424c4dd2fb87f58d7d9516afc003f4f99fb4b70b851abc6b9/dbrequests-1.3.9.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "5322a983b55c9f777a8ca1c146c977fa", "sha256": "f7d49ea0b5aea87007bd2a61132d8505da8c44da6ca1852ff1902d28fb6cd431"}, "downloads": -1, "filename": "dbrequests-1.3.12-py3-none-any.whl", "has_sig": false, "md5_digest": "5322a983b55c9f777a8ca1c146c977fa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 20792, "upload_time": "2020-04-18T14:43:46", "upload_time_iso_8601": "2020-04-18T14:43:46.668315Z", "url": "https://files.pythonhosted.org/packages/73/9a/efca445c9f977e275381a296b4ae8cba576c87d9d71b3299dc44c3fbe7cd/dbrequests-1.3.12-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "1df4a40a0f1e544f78070755b9673cb1", "sha256": "72465d294045757e11d65f222c70d9941e3a5fc6232d681362fcded90212e971"}, "downloads": -1, "filename": "dbrequests-1.3.12.tar.gz", "has_sig": false, "md5_digest": "1df4a40a0f1e544f78070755b9673cb1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17260, "upload_time": "2020-04-18T14:43:47", "upload_time_iso_8601": "2020-04-18T14:43:47.645508Z", "url": "https://files.pythonhosted.org/packages/7b/55/89977a27bb0058f3f2a6d2265857874aec47a705eb07f1c4be212dcafab1/dbrequests-1.3.12.tar.gz"}]}