{"info": {"author": "Jan Murre", "author_email": "jan.murre@catalyz.nl", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "License :: OSI Approved :: Mozilla Public License 2.0 (MPL 2.0)", "Programming Language :: Python", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# amsterdam-schema-tools\n\nSet of libraries and tools to work with Amsterdam schema.\n\nInstall the package with: `pip install amsterdam-schema-tools`\n\nCurrently, the following cli commands are available:\n\n- schema import schema\n- schema import ndjson\n- schema show schema <dataset-id>\n- schema show tablenames\n- schema introspect db <dataset-id> <list-of-tablenames>\n- schema introspect geojson <dataset-id> \\*.geojson\n- schema validate\n\nThe tools expect either a `DATABASE_URL` environment variable or a command-line option `--db-url` with a DSN.\n\nThe output is a json-schema output according to the Amsterdam schemas\ndefinition for the tables that are being processed.\n\n## Generate amsterdam schema from existing database tables\n\nThe --prefix argument controls whether table prefixes are removed in the\nschema, because that is required for Django models.\n\nAs example we can generate a BAG schema. Point `DATABASE_URL` to `bag_v11` database and then run :\n\n    schema show tablenames | sort | awk '/^bag_/{print}' | xargs schema introspect db bag --prefix bag_ | jq\n\nThe **jq** formats it nicely and it can be redirected to the correct directory\nin the schemas repository directly.\n\n## Express amsterdam schema information in relational tables\n\nAmsterdam schema is expressed as jsonschema. However, to make it easier for people with a\nmore relational mind- or toolset it is possible to express amsterdam schema as a set of\nrelational tables. These tables are *meta_dataset*, *meta_table* and *meta_field*.\n\nIt is possible to convert a jsonschema into the relational table structure and vice-versa.\n\nThis command converts a dataset from an existing dataset in jsonschema format:\n\n    schema import schema <id of dataset>\n\nTo convert from relational tables back to jsonschema:\n\n    schema show schema <id of dataset>\n\n\n## Generating amsterdam schema from existing GeoJSON files\n\nThe following command can be used to inspect and import the GeoJSON files:\n\n    schema introspect geojson <dataset-id> *.geojson > schema.json\n    edit schema.json  # fine-tune the table names\n    schema import geojson schema.json <table1> file1.geojson\n    schema import geojson schema.json <table2> file2.geojson\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/amsterdam/schema-tools", "keywords": "", "license": "Mozilla Public 2.0", "maintainer": "", "maintainer_email": "", "name": "amsterdam-schema-tools", "package_url": "https://pypi.org/project/amsterdam-schema-tools/", "platform": "", "project_url": "https://pypi.org/project/amsterdam-schema-tools/", "project_urls": {"Homepage": "https://github.com/amsterdam/schema-tools"}, "release_url": "https://pypi.org/project/amsterdam-schema-tools/0.0.4/", "requires_dist": ["geoalchemy2", "psycopg2", "click", "jsonschema", "amsterdam-schema", "ndjson", "shapely", "python-string-utils", "python-dateutil", "jinja2", "mappyfile", "pytest ; extra == 'tests'", "pytest-cov ; extra == 'tests'", "pytest-sqlalchemy ; extra == 'tests'", "requests-mock ; extra == 'tests'"], "requires_python": ">=3.7", "summary": "Tools to work with Amsterdam schema.", "version": "0.0.4"}, "last_serial": 7059531, "releases": {"0.0.2": [{"comment_text": "", "digests": {"md5": "813d7cff85749dde259be7047d57e197", "sha256": "d3ae8c4c6f6aafce9b4c167ae529ab1edb31c42eb557afe98939ee6ab3197356"}, "downloads": -1, "filename": "amsterdam_schema_tools-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "813d7cff85749dde259be7047d57e197", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9843, "upload_time": "2020-02-04T11:00:40", "upload_time_iso_8601": "2020-02-04T11:00:40.210802Z", "url": "https://files.pythonhosted.org/packages/29/d4/a84f5e3f3c3917f86421df8047b23b67a1850040273c14d96a6175a4f836/amsterdam_schema_tools-0.0.2-py3-none-any.whl"}], "0.0.3": [{"comment_text": "", "digests": {"md5": "45a91a0d07c9a250f362acaec54823da", "sha256": "f7e45c5bcd46c98a721d68b051f64dd0e9997c1b39d69eae1c77da35afd64005"}, "downloads": -1, "filename": "amsterdam_schema_tools-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "45a91a0d07c9a250f362acaec54823da", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11089, "upload_time": "2020-03-11T14:46:26", "upload_time_iso_8601": "2020-03-11T14:46:26.014768Z", "url": "https://files.pythonhosted.org/packages/ab/2e/6919f2058a213b37805780f57d7329a95e7c98c350ff97762188d6fea2b3/amsterdam_schema_tools-0.0.3-py3-none-any.whl"}], "0.0.4": [{"comment_text": "", "digests": {"md5": "13097122da0c02168389408a646bef48", "sha256": "3401f3186646b70c90885e073408570d8e8fa892bd5a3ebe93d93af620adb933"}, "downloads": -1, "filename": "amsterdam_schema_tools-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "13097122da0c02168389408a646bef48", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 26880, "upload_time": "2020-04-20T11:57:57", "upload_time_iso_8601": "2020-04-20T11:57:57.704427Z", "url": "https://files.pythonhosted.org/packages/aa/93/2bf100008cd9f54290469ae30ddf5f17dc175bf0b44d50cbdbf9c2642737/amsterdam_schema_tools-0.0.4-py3-none-any.whl"}]}, "urls": [{"comment_text": "", "digests": {"md5": "13097122da0c02168389408a646bef48", "sha256": "3401f3186646b70c90885e073408570d8e8fa892bd5a3ebe93d93af620adb933"}, "downloads": -1, "filename": "amsterdam_schema_tools-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "13097122da0c02168389408a646bef48", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 26880, "upload_time": "2020-04-20T11:57:57", "upload_time_iso_8601": "2020-04-20T11:57:57.704427Z", "url": "https://files.pythonhosted.org/packages/aa/93/2bf100008cd9f54290469ae30ddf5f17dc175bf0b44d50cbdbf9c2642737/amsterdam_schema_tools-0.0.4-py3-none-any.whl"}]}