{"info": {"author": "Scott Melhop <scott.melhop@cognite.com>", "author_email": "scott.melhop@cognite.com", "bugtrack_url": null, "classifiers": ["Framework :: Dash"], "description": "# Cognite Dash Components\n\nCogntie Dash Components contains Python components that help Plotly Dash users to work with CDF. The current supported components are:\n\n1. ClientProvider\n1. TenantSelector\n1. CogniteNav\n1. CogniteNavButton\n\n> Note: This repo is the source code used to build the components. The package can be installed using pip.\n\n## Installation\n\nThe package can be installed using pip \n\n```bash\npip install cognite-dash-components\n```\n\n## Usage\n\nImport the package to your Plotly Dash Application\n\n\n```python\nimport cognite_dash_components as cdc\n```\n\n### Client Provider\n`ClientProvider` should be used to wrap all other Cognite components used in your app. There should be only one `ClientProvider`. This component provides the `CogniteClient` and other application state that is needed by the child components. It is reccomended to wrap everything in your app inside this component. For example:\n```python\napp.layout = cdc.ClientProvider(\n    [\n        ...\n    ],\n    id=\"cognite\",\n    validTenants=[\"publicdata\"],\n)\n```\nThe `validTenants` property is a list of customer projects that your app will allow people to login from. The term __tenant__, __project__ and __company name__ are used interchangeably.\n\n### Tenant Selector\n\n\nThe `TenantSelector` is used to validate a users tenant and performs authentication to CDF. It should be a child of the `ClientProvider` component\n\n```python\n    cdc.TenantSelector(id=\"tenantSelector\", title=\"Cognite Dash\"),\n```\n\nWhen a user trys to submit their chosen tenant it is validated against the list of valid tenants. Only if it exists in this list will the authentication process begin.\nOnce a user submits a valid tenant they are redirected to the CDF login page. On successfully signing in they are redirected back to the application from which they have come, with their __project__ in the pathname and the __idToken__ and __accessToken__ in the search parameters.\n\nThe __accessToken__ is saved as a cookie called `_csrf_token`. This is then used by __Dash__ to inject the token into each requests header under the key `X-Csrftoken`. This can be easily retrieved by creating a function like the one below:\n\n```python\nfrom flask import request\n\ndef getToken():\n    return request.headers.get(\"X-Csrftoken\")\n```\n\nThis can then be used in `app.callback` to register authenticate a `CogniteClient` on the backend.\n\nOnce a successful login has occured the tenant selector component is hidden from view.\n\n### Cognite Nav\n`CogniteNav` is a simple navigation bar with the common Cognite styling. It has a logo, a list of `CogniteNavButton`'s and a logout button. It must be a child of `ClientProvider`. It can be implemented as follows:\n\n```python\ncdc.CogniteNav(\n    [\n        cdc.CogniteNavButton(title=\"Home\", href=\"home\"),\n        cdc.CogniteNavButton(title=\"Assets\", href=\"assets\"),\n    ],\n    logo=app.get_asset_url(\"Cognite-Logo.png\"),\n)\n```\nHere the logo file lives inside the `assets` folder in the root of your app. This is described in the [Plotly Dash documentation](https://dash.plotly.com/dash-enterprise/static-assets).\n\n### Cognite Nav Button\n`CogniteNavButton` is a child component of `CogniteNav`. It takes in two properties:\n* title: The navigation button text\n* href: The path to append to the current url path\n\nIt's usage is shown in the `Cognite Nav` description above.\n\n### Putting it all together\n\nBelow is a simple example using all the compoents described above.\n\n```python\nimport cognite_dash_components as cdc\nimport dash\nimport dash_core_components as dcc\nfrom dash.dependencies import Input, Output\nimport dash_html_components as html\nfrom dash.exceptions import PreventUpdate\nfrom flask import request\n\n# Needed for logout icon\nexternal_stylesheets = [\n    {\n        \"href\": \"https://fonts.googleapis.com/icon?family=Material+Icons\",\n        \"rel\": \"stylesheet\",\n    }\n]\n\napp = dash.Dash(__name__, external_stylesheets=external_stylesheets)\n\n\napp.layout = cdc.ClientProvider(\n    [\n        cdc.TenantSelector(id=\"tenantSelector\", title=\"Cognite Dash\"),\n        html.Div(\n            id=\"content\",\n            hidden=True,\n            children=[\n                dcc.Location(id=\"url\", refresh=False),\n                cdc.CogniteNav(\n                    [\n                        cdc.CogniteNavButton(title=\"Home\", href=\"home\"),\n                        cdc.CogniteNavButton(title=\"Assets\", href=\"assets\"),\n                    ],\n                    logo=app.get_asset_url(\"Cognite-Logo.png\"),\n                ),\n                # The contents of the current page are rendered inside this div\n                html.Div(id=\"page\"),\n            ],\n        ),\n    ],\n    id=\"cognite\",\n    validTenants=[\"publicdata\"],\n)\n\n\ndef getToken():\n    return request.headers.get(\"X-Csrftoken\")\n\n\n# When a project is set a user is logged in. Remove the search part of the url and show the content div\n@app.callback(\n    [Output(\"content\", \"hidden\"), Output(\"url\", \"search\")],\n    [Input(\"cognite\", \"project\")],\n)\ndef project_handler(project):\n    if project:\n        return False, \"\"\n    raise PreventUpdate\n\n\n# When the project and page are set return some content and update the url pathname\n@app.callback(\n    [Output(\"page\", \"children\"), Output(\"url\", \"pathname\")],\n    [Input(\"cognite\", \"project\"), Input(\"cognite\", \"page\")],\n)\ndef page_handler(project, page):\n    if project and page:\n        return f\"You have navigated to {page}!\", f\"/{project}/{page}\"\n    raise PreventUpdate\n\n\n# ssl_context is required as the Cognite auth will only redirect to https\nif __name__ == \"__main__\":\n    app.run_server(debug=True, ssl_context=\"adhoc\")\n\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "cognite-dash-components", "package_url": "https://pypi.org/project/cognite-dash-components/", "platform": "", "project_url": "https://pypi.org/project/cognite-dash-components/", "project_urls": null, "release_url": "https://pypi.org/project/cognite-dash-components/0.1.2/", "requires_dist": null, "requires_python": "", "summary": "A component library for Cognite Dash", "version": "0.1.2"}, "last_serial": 7061463, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "346064f42ff344cf3fd2b35ecd034439", "sha256": "d6109b2205281ad27d986af792199b95e2af886bc3203119e825e38a60849bc3"}, "downloads": -1, "filename": "cognite_dash_components-0.0.1.tar.gz", "has_sig": false, "md5_digest": "346064f42ff344cf3fd2b35ecd034439", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 364622, "upload_time": "2020-04-05T13:36:29", "upload_time_iso_8601": "2020-04-05T13:36:29.682438Z", "url": "https://files.pythonhosted.org/packages/08/e3/f8ea98929f3a161f14661969487335b09bfa69f24710ddbd6089ee3d14d0/cognite_dash_components-0.0.1.tar.gz"}], "0.0.2": [{"comment_text": "", "digests": {"md5": "7471f1734b765f4a16d1b9027118f359", "sha256": "b834a780190f9182630007c25f2f314282d39bd4bde7b6d727977fb1bf621c7c"}, "downloads": -1, "filename": "cognite_dash_components-0.0.2.tar.gz", "has_sig": false, "md5_digest": "7471f1734b765f4a16d1b9027118f359", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 364658, "upload_time": "2020-04-05T17:01:30", "upload_time_iso_8601": "2020-04-05T17:01:30.646541Z", "url": "https://files.pythonhosted.org/packages/1d/48/289ad1243f3e5182fd8512d5dd069d8928016f3f3de4587a34ad27925524/cognite_dash_components-0.0.2.tar.gz"}], "0.1.0": [{"comment_text": "", "digests": {"md5": "40350911b3cc8d2332631fd560923363", "sha256": "82b984e070a8eb8c2eb33e59c2543dcf8093bea76bfcd4d0f6e1ea98a22c0ebf"}, "downloads": -1, "filename": "cognite_dash_components-0.1.0.tar.gz", "has_sig": false, "md5_digest": "40350911b3cc8d2332631fd560923363", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 368805, "upload_time": "2020-04-20T08:25:12", "upload_time_iso_8601": "2020-04-20T08:25:12.701753Z", "url": "https://files.pythonhosted.org/packages/8e/95/ec73df3d77a8a8c901563812051629a9ec149f88a998022fcf0c3cf76b4e/cognite_dash_components-0.1.0.tar.gz"}], "0.1.1": [{"comment_text": "", "digests": {"md5": "07c44ebe8b2fca00c88bf591f7b0a7ef", "sha256": "1612a8fb2b3f330c62bb0bb14579021ff3878fcab2ae53a6cc44ab685414bd5e"}, "downloads": -1, "filename": "cognite_dash_components-0.1.1.tar.gz", "has_sig": false, "md5_digest": "07c44ebe8b2fca00c88bf591f7b0a7ef", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 370533, "upload_time": "2020-04-20T08:59:46", "upload_time_iso_8601": "2020-04-20T08:59:46.890274Z", "url": "https://files.pythonhosted.org/packages/fe/80/79d34a16beb81a50cbedd74a1b6469b7ffd4ac3ad9f75fa6a2031ba85e27/cognite_dash_components-0.1.1.tar.gz"}], "0.1.2": [{"comment_text": "", "digests": {"md5": "7dd53320528054c89fe5a6568a8635ed", "sha256": "c61cc6878fb4ed4ad64c549b4301b28639eecb6128cc4d76928af488b0b9d202"}, "downloads": -1, "filename": "cognite_dash_components-0.1.2.tar.gz", "has_sig": false, "md5_digest": "7dd53320528054c89fe5a6568a8635ed", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 370479, "upload_time": "2020-04-20T16:51:40", "upload_time_iso_8601": "2020-04-20T16:51:40.103335Z", "url": "https://files.pythonhosted.org/packages/01/c0/66dd6a2a88b149fc38b67a3a0d281b58e6a9f19727331b77cf89fb9e6660/cognite_dash_components-0.1.2.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "7dd53320528054c89fe5a6568a8635ed", "sha256": "c61cc6878fb4ed4ad64c549b4301b28639eecb6128cc4d76928af488b0b9d202"}, "downloads": -1, "filename": "cognite_dash_components-0.1.2.tar.gz", "has_sig": false, "md5_digest": "7dd53320528054c89fe5a6568a8635ed", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 370479, "upload_time": "2020-04-20T16:51:40", "upload_time_iso_8601": "2020-04-20T16:51:40.103335Z", "url": "https://files.pythonhosted.org/packages/01/c0/66dd6a2a88b149fc38b67a3a0d281b58e6a9f19727331b77cf89fb9e6660/cognite_dash_components-0.1.2.tar.gz"}]}