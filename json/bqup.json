{"info": {"author": "Thinking Machines Data Science", "author_email": "engineering@thinkingmachin.es", "bugtrack_url": null, "classifiers": [], "description": "# bqup\n\nbqup is a backup tool for BigQuery projects. It can export a BigQuery\nproject's structure and source code while mimicking the hierarchy of\ndatasets and tables.\n\n![How bqup\nworks](https://thinkingmachin.es/stories/coding-safely-in-the-cloud/solution.png\n\"How bqup works\")\n\nFor the full story of why we made bqup, check out our [blog\npost](https://stories.thinkingmachin.es/coding-safely-in-the-cloud/)!\n\n## Installation\n\nbqup can be installed using `pip`.\n\n```\n$ pip install bqup\n```\n\nAlternatively, you can also clone the repository then run `install`.\n\n```\n$ git clone https://github.com/thinkingmachines/bqup.git\n$ cd bqup\n$ python3 setup.py install\n```\n\n## Usage\n\n### Command line options\n\nYou can list down the options by running `bqup --help`.\n\n```text\nbqup [-p PROJECT_ID] [-d TARGET_DIR] [-fvx]\n\nOptions:\n  -p PROJECT_ID, --project PROJECT_ID  Project ID to load. If unspecified,\n                                       defaults to current project in\n                                       configuration.\n  -d TARGET_DIR, --dir TARGET_DIR      The target directory where the project\n                                       will be written. Defaults to current\n                                       timestamp.\n  -f --force                           Overwrite target directory if it exists.\n  -v --verbose                         Print a summary of the loaded project.\n  -x --schema                          Export table schemata as json.\n```\n\n### Development\n\n1. Set up `gcloud` to run with your personal account (aka run with scissors).\n2. Set up\n   [application-default](https://cloud.google.com/sdk/gcloud/reference/auth/application-default/login).\n\n   ```\n   $ gcloud auth application-default login\n   ```\n\n3. Install `wheel`.\n\n   ```\n   $ pip3 install wheel\n   ```\n\n4. Install bqup.\n\n   ```\n   pip3 install -e .\n   ```\n\n   Alternatively, you can also install it using:\n\n   ```\n   python3 setup.py develop\n   ```\n\n5. Run bqup (see [Usage](#usage)).\n\n### Production\n\n**Note: When deploying for a new GCP project, consider using [Cloud\nScheduler](https://cloud.google.com/scheduler/)**\n\n1. Turn off your host Google Instance.\n2. Enable BigQuery on the instance's Cloud API Access Scopes\n3. Start the instance.\n4. `ssh` into the Google Instance you want to run `bqup` from.\n5. Authorize your Compute Instance Account to read from the target BigQuery project.\n6. Install `bqup` via `pip install bqup`, optionally inside a [virtual environment](https://docs.python.org/3/library/venv.html).\n7. Run `bqup`\n    - If it still doesn't work, check in IAM that the service account you are using has BigQuery read access.\n\n### Setting up regular backups\n\n1. On the machine that will run your backups, set up your git config (username,\n   email, the usual).\n2. Make a directory to use as the Git repository. For this example, let's use\n   `repo`:\n\n   ```\n   $ mkdir repo cd repo git init\n   ```\n\n3. Add the remote to the git repository (ideally a GCP repository). For this\n   example, let's use `google`:\n\n   ```\n   $ git remote add google <url-to-remote-repository>\n   ```\n\n4. Create a script called `bqup.sh` that follows the following template. For\n   our example, our repository is dedicated to backups, so we just assume that\n   our `HEAD` is the latest and just push gently to `master`.\n\n   ```\n   #!/bin/bash\n   <path-to-bqup> -p <project-id> -d <path-to-repo>/projects -fv >> <path-to-log-file>\n   cd <path-to-repo>\n   date > last-updated.log\n   git add .\n   git commit -m \"Automated bqup\"\n   git push <remote> <branch>\n   ```\n\n5. Add this script to your\n   [crontab](https://awc.com.my/uploadnew/5ffbd639c5e6eccea359cb1453a02bed_Setting%20Up%20Cron%20Job%20Using%20crontab.pdf)\n   to run as frequently as your heart desires.\n\n### Distribution\n\nRun `make test` to try a test upload.\n\nRun `make dist` to upload a distribution.\n\nBoth of these will call `make build`, which rebuilds the package locally.\n\n## Contributing\n\nIf you wish to contribute, check out our [contributing\nguide](https://github.com/thinkingmachines/bqup/CONTRIBUTING.md)!\n\nA list is maintained for all external contributors who have submitted pull\nrequests that were subsequently approved. Users are allowed and encouraged to\nfork the project and submit pull requests and issues. We only request that\ncontributions adhere to these guidelines:\n\n- [Commit messages](https://chris.beams.io/posts/git-commit/)\n- [Github flow](https://guides.github.com/introduction/flow/)\n\nThe official maintainers in charge of responding to issues and merging pull\nrequests are:\n\n- [Pepe Bawagan](https://github.com/syk0saje)\n- [Mark Steve Samson](https://github.com/marksteve)\n- [Carlson Cheng](https://github.com/crcheng)\n\n## Contributors\n\nThanks to all these wonderful people who've helped out with bqup:\n\n<table><tr><td align=\"center\"><a href=\"https://github.com/jgtiu\"><img src=\"https://avatars1.githubusercontent.com/u/33926951?s=400&v=4\" width=\"100px;\" alt=\"Jess\"/><br /><sub><b>Jess</b></sub></a></td><td align=\"center\"><a href=\"https://github.com/magtanggol03\"><img src=\"https://avatars1.githubusercontent.com/u/25030847?s=400&v=4\" width=\"100px;\" alt=\"Ram\"/><br /><sub><b>Ram</b></sub></a></td><td align=\"center\"><a href=\"https://github.com/pberba\"><img src=\"https://avatars0.githubusercontent.com/u/6505743?s=400&v=4\" width=\"100px;\" alt=\"Pepe Berba\"/><br /><sub><b>Pepe Berba</b></sub></a></td><td align=\"center\"><a href=\"https://github.com/tim-tmds\"><img src=\"https://avatars2.githubusercontent.com/u/50472403?s=400&v=4\" width=\"100px;\" alt=\"Tim Pron\"/><br /><sub><b>Tim Pron</b></sub></a></td><td align=\"center\"><a href=\"https://github.com/enzoampil\"><img src=\"https://avatars2.githubusercontent.com/u/39557688?s=400&v=4\" width=\"100px;\" alt=\"Enzo\"/><br /><sub><b>Enzo</b></sub></a><br /></td><td align=\"center\"><a href=\"https://github.com/ardieorden\"><img src=\"https://avatars1.githubusercontent.com/u/17169362?s=400&v=4\" width=\"100px;\" alt=\"Ardie\"/><br /><sub><b>Ardie</b></sub></a><br /></td></tr></table>\n\n\n## Disclaimers\n\nbqup is maintained on a **best effort** basis:\n\n- No amount of official time is currently being dedicated to the regular\n  maintenance of this project.\n- Thinking Machines does not make any guarantees about the quality of the\n  software.\n\nThinking Machines reserves the rights to:\n\n- refuse to resolve issues\n- close issues without resolution\n- request changes to pull requests\n- reject pull requests outright\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/thinkingmachines/bqup", "keywords": "google bigquery,bigquery,bq,backup,bqup", "license": "MIT License", "maintainer": "", "maintainer_email": "", "name": "bqup", "package_url": "https://pypi.org/project/bqup/", "platform": "", "project_url": "https://pypi.org/project/bqup/", "project_urls": {"Homepage": "https://github.com/thinkingmachines/bqup"}, "release_url": "https://pypi.org/project/bqup/0.0.6/", "requires_dist": ["docopt", "google-cloud-bigquery (==1.1.0)"], "requires_python": "", "summary": "BigQuery backup scripts", "version": "0.0.6"}, "last_serial": 6213636, "releases": {"0.0.2": [{"comment_text": "", "digests": {"md5": "0a2247de4e03c84bc2e10832939b46d5", "sha256": "760dcb00e2bdb51ecca04a76445b04146913a091af5552dc4663f35fabd83978"}, "downloads": -1, "filename": "bqup-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "0a2247de4e03c84bc2e10832939b46d5", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 1941, "upload_time": "2019-03-01T09:52:20", "upload_time_iso_8601": "2019-03-01T09:52:20.005171Z", "url": "https://files.pythonhosted.org/packages/a5/31/78c6a2c1651e51958479f145b26ce99978eda09aee3eb0de39313527b304/bqup-0.0.2-py3-none-any.whl"}], "0.0.3": [{"comment_text": "", "digests": {"md5": "232619e37ea780d789d49342f188dd4f", "sha256": "4b51726813d1a77810022607511488a537bfbbc6ca0a1af827f17de028cc95f9"}, "downloads": -1, "filename": "bqup-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "232619e37ea780d789d49342f188dd4f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 6160, "upload_time": "2019-03-01T10:36:47", "upload_time_iso_8601": "2019-03-01T10:36:47.391488Z", "url": "https://files.pythonhosted.org/packages/09/ab/bc28c054fef2c6faafd1154f43016a579eec11874f4d6c1b9adde70e7954/bqup-0.0.3-py3-none-any.whl"}], "0.0.4": [{"comment_text": "", "digests": {"md5": "88bb4d24cadf6b66a4ca24276bbb40d6", "sha256": "d8c8e34d056fefa06b86ef08feff0daba19768f6dd9f190999c4cae3de5161ff"}, "downloads": -1, "filename": "bqup-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "88bb4d24cadf6b66a4ca24276bbb40d6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9179, "upload_time": "2019-03-01T11:08:24", "upload_time_iso_8601": "2019-03-01T11:08:24.426811Z", "url": "https://files.pythonhosted.org/packages/b6/ff/a058119af15c64022cede5edd6fb851d8f3b838482c57f2f24da0f5df809/bqup-0.0.4-py3-none-any.whl"}], "0.0.5": [{"comment_text": "", "digests": {"md5": "befb31a9040d7a73826d4550596e2060", "sha256": "4dea5301fc2b3aeb6af0c55498885f39d7ad9aabf89db79f08de0fc38b9a404e"}, "downloads": -1, "filename": "bqup-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "befb31a9040d7a73826d4550596e2060", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9177, "upload_time": "2019-03-01T11:17:34", "upload_time_iso_8601": "2019-03-01T11:17:34.084128Z", "url": "https://files.pythonhosted.org/packages/a3/5b/0dd3c74bd8ecb6733bba434a51d515b661513263407ce53ec8afc1dd1bab/bqup-0.0.5-py3-none-any.whl"}], "0.0.6": [{"comment_text": "", "digests": {"md5": "a2e130bf58bb5a8482d32d60fc43f18f", "sha256": "01bbfdd8ed6452e4b1d67209e52b9300a521a5f38e96df9bba4ced06a065ff55"}, "downloads": -1, "filename": "bqup-0.0.6-py3-none-any.whl", "has_sig": false, "md5_digest": "a2e130bf58bb5a8482d32d60fc43f18f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8988, "upload_time": "2019-11-28T10:56:54", "upload_time_iso_8601": "2019-11-28T10:56:54.981598Z", "url": "https://files.pythonhosted.org/packages/60/b6/4ec2379460494cb07cd788cba6cce5ee9a4205e3ca2171dc8e5f1883ea45/bqup-0.0.6-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "ae39d2685bd08f9d5050915a1e89be28", "sha256": "08f22b33ccd9932ffbdbf3d332365a296c983155725e2c2d1cdc85bdc52b0a49"}, "downloads": -1, "filename": "bqup-0.0.6.tar.gz", "has_sig": false, "md5_digest": "ae39d2685bd08f9d5050915a1e89be28", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6807, "upload_time": "2019-11-28T10:56:56", "upload_time_iso_8601": "2019-11-28T10:56:56.695883Z", "url": "https://files.pythonhosted.org/packages/92/2f/9e5367f2d30c289c6ae9620c54cc6e0d868109121aab61bef93d40ab0644/bqup-0.0.6.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "a2e130bf58bb5a8482d32d60fc43f18f", "sha256": "01bbfdd8ed6452e4b1d67209e52b9300a521a5f38e96df9bba4ced06a065ff55"}, "downloads": -1, "filename": "bqup-0.0.6-py3-none-any.whl", "has_sig": false, "md5_digest": "a2e130bf58bb5a8482d32d60fc43f18f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8988, "upload_time": "2019-11-28T10:56:54", "upload_time_iso_8601": "2019-11-28T10:56:54.981598Z", "url": "https://files.pythonhosted.org/packages/60/b6/4ec2379460494cb07cd788cba6cce5ee9a4205e3ca2171dc8e5f1883ea45/bqup-0.0.6-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "ae39d2685bd08f9d5050915a1e89be28", "sha256": "08f22b33ccd9932ffbdbf3d332365a296c983155725e2c2d1cdc85bdc52b0a49"}, "downloads": -1, "filename": "bqup-0.0.6.tar.gz", "has_sig": false, "md5_digest": "ae39d2685bd08f9d5050915a1e89be28", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6807, "upload_time": "2019-11-28T10:56:56", "upload_time_iso_8601": "2019-11-28T10:56:56.695883Z", "url": "https://files.pythonhosted.org/packages/92/2f/9e5367f2d30c289c6ae9620c54cc6e0d868109121aab61bef93d40ab0644/bqup-0.0.6.tar.gz"}]}