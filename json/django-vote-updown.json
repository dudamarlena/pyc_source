{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": [], "description": "<!--\nhttps://pypi.org/project/readme-generator/\nhttps://pypi.org/project/python-readme-generator/\n-->\n\n[![](https://img.shields.io/pypi/pyversions/django-vote-updown.svg?longCache=True)](https://pypi.org/project/django-vote-updown/)\n[![](https://img.shields.io/badge/License-Unlicense-blue.svg?longCache=True)](https://unlicense.org/)\n\n#### Installation\n```bash\n$ [sudo] pip install django-vote-updown\n```\n\n#### Examples\n`settings.py`\n```python\nAUTH_USER_MODEL = 'users.User'\n```\n\n`users/models.py`\n```python\nfrom django.contrib.auth.models import AbstractUser\n\nclass User(AbstractUser):\n    ...\n```\n\n`my_app/models.py`\n```python\nfrom django_vote_updown.models import Vote\n\nclass ProjectVote(Vote):\n    obj = models.ForeignKey('Project',related_name=\"+\",on_delete=models.CASCADE)\n\n    class Meta:\n        db_table = 'project_vote'\n        unique_together = [('obj', 'created_by')]\n```\n\n`views.py`\n```python\nfrom django.views.generic.base import TemplateView\nfrom django_vote_updown.views import VoteDownAjaxView, VoteUpAjaxView, VoteViewMixin\nfrom my_app.models import Project, ProjectVote\n\nclass VoteViewMixin:\n    vote_model = ProjectVote\n\n    def get_json_data(self,obj_id,is_up):\n        project = Project.objects.get(id=obj_id)\n        return {'is_up':is_up,'votes_up_count':project.votes_up_count,'votes_down_count':project.votes_down_count}\n\nclass VoteDownAjaxView(VoteViewMixin,VoteDownAjaxView):\n    pass\n\nclass VoteUpAjaxView(VoteViewMixin,VoteUpAjaxView):\n    pass\n\nclass ProjectDetailView(VoteViewMixin,TemplateView):\n    template_name = 'my_app/project_detail.html'\n    vote_model = ProjectVote\n\n    def get_vote_obj(self):\n        return self.project\n\n    def vote_down_url(self):\n        return '/project/vote/down/%s' % self.project.id\n\n    def vote_up_url(self):\n        return '/project/vote/up/%s' % self.project.id\n```\n\n`urls.py`\n\n```python\nurlpatterns = [\n    path('down/<int:obj_id>', views.VoteDownAjaxView.as_view(),name='down'),\n    path('up/<int:obj_id>', views.VoteUpAjaxView.as_view(),name='up'),\n]\n```\n\n`my_app/project_detail.html`\n```html\n<a data-id=\"{{ vote_obj.pk }}\" {% if request.user.is_authenticated %}data-href=\"{{ vote_down_url }}\"{% else %}href=\"{% url 'login' %}?next={{ request.path }}\"{% endif %}>down</a>\n\n<a data-id=\"{{ vote_obj.pk }}\" {% if request.user.is_authenticated %}data-href=\"{{ vote_up_url }}\"{% else %}href=\"{% url 'login' %}?next={{ request.path }}\"{% endif %}>up</a>\n```\n\n`vote.js`\n```javascript\n// your code ...\n```\n\n<p align=\"center\">\n    <a href=\"https://pypi.org/project/python-readme-generator/\">python-readme-generator</a>\n</p>", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/andrewp-as-is/django-vote-updown.py", "keywords": "django,vote", "license": "Unlicense", "maintainer": "", "maintainer_email": "", "name": "django-vote-updown", "package_url": "https://pypi.org/project/django-vote-updown/", "platform": "", "project_url": "https://pypi.org/project/django-vote-updown/", "project_urls": {"Homepage": "https://github.com/andrewp-as-is/django-vote-updown.py"}, "release_url": "https://pypi.org/project/django-vote-updown/2020.4.11/", "requires_dist": null, "requires_python": "", "summary": "Django abstract model and views for up/down voting", "version": "2020.4.11"}, "last_serial": 6999906, "releases": {"2020.4.10": [{"comment_text": "", "digests": {"md5": "a8f353993d6dfc02e00dc69859d05e6a", "sha256": "3980f8d3473efdf527655709c1a21457a8ac2f92d73fdcad62ad5338cdd54d32"}, "downloads": -1, "filename": "django-vote-updown-2020.4.10.tar.gz", "has_sig": false, "md5_digest": "a8f353993d6dfc02e00dc69859d05e6a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2603, "upload_time": "2020-04-11T14:08:06", "upload_time_iso_8601": "2020-04-11T14:08:06.743264Z", "url": "https://files.pythonhosted.org/packages/22/a9/4e5e28741214bdc236b8c2c914078b3634945b090845c12c8fc88a56386e/django-vote-updown-2020.4.10.tar.gz"}], "2020.4.11": [{"comment_text": "", "digests": {"md5": "74e33576be53f6913025033c51ce0712", "sha256": "5f7232994784e19a0847e7f410fce518342301dd39762efb59abff8199d8440b"}, "downloads": -1, "filename": "django-vote-updown-2020.4.11.tar.gz", "has_sig": false, "md5_digest": "74e33576be53f6913025033c51ce0712", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2607, "upload_time": "2020-04-11T14:53:35", "upload_time_iso_8601": "2020-04-11T14:53:35.509744Z", "url": "https://files.pythonhosted.org/packages/b3/f2/f36839b1642faf7eb3728c4f505b4b419f6fb9aadd1a21c6bc6b51b88636/django-vote-updown-2020.4.11.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "74e33576be53f6913025033c51ce0712", "sha256": "5f7232994784e19a0847e7f410fce518342301dd39762efb59abff8199d8440b"}, "downloads": -1, "filename": "django-vote-updown-2020.4.11.tar.gz", "has_sig": false, "md5_digest": "74e33576be53f6913025033c51ce0712", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2607, "upload_time": "2020-04-11T14:53:35", "upload_time_iso_8601": "2020-04-11T14:53:35.509744Z", "url": "https://files.pythonhosted.org/packages/b3/f2/f36839b1642faf7eb3728c4f505b4b419f6fb9aadd1a21c6bc6b51b88636/django-vote-updown-2020.4.11.tar.gz"}]}