{"info": {"author": "Odooist", "author_email": "odooist@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Software Development :: Build Tools"], "description": "####################\nAsterisk Odoo Agent\n####################\n.. image:: https://gitlab.com/odooist/asterisk-odoo-agent/-/raw/master/logo.png\n\n.. contents:: \n\nIntroduction\n++++++++++++\n\nAsterisk Odoo Agent is a middleware software used as a bridge between `Odoo <http://odoo.com>`_ \nand `Asterisk IP-PBX <http://asterisk.org>`_.\n\nUsing this solution makes Odoo a phone applications platform as all development is \ndone on Odoo level so every Odoo developer can quickly and easily integrate Asterisk\nfeatures with any Odoo module.\n\nThe Agent architecture is a callback based where every callback is an Odoo method.\n\nIn many cases the Agent will just work *as is* without any modification like it works in\n`Asterisk Calls <https://apps.odoo.com/apps/modules/13.0/asterisk_calls/>`_ application.\n\nThough Asterisk Odoo Agent was developed as a required component for commercial module \nit was decided to make the Agent open and free under LGPL license so that all the Odoo \nworld can benefit from it.\n\nDependencies\n++++++++++++\nAsterisk Odoo Agent is based on `Nameko <http://nameko.io>`_ - a wonderful microservice framework for Python.\n\nNameko uses AMQP broker that should be deployed. RabbitMQ is recommended.\n\nAsterisk Odoo Agent is very small because Odoo related operations come from `nameko-odoo <http://github.com/litnimax/nameko-odoo>`_ library\nand Asterisk related operations come from `nameko-ami <https://github.com/litnimax/nameko-ami>`_ library.\n\nInstallation\n++++++++++++\n\nUsing PyPi\n----------\n\n.. code:: bash\n\n  pip3 install asterisk-odoo-agent\n\nDocker based\n------------\nSee `Docker HUB <https://hub.docker.com/r/odooist/asterisk-odoo-agent>`_ project page for details.\n\nConfiguration\n+++++++++++++\nAgent\n-----\nNameko style config is used.\n\nSee `config.yml <https://gitlab.com/odooist/asterisk-odoo-agent/-/blob/master/deploy/config.yml>`_ for a default config.\n\nAlso please refer to `nameko-odoo` and `nameko-ami` documentation for deeper understanding of configuration options.\n\nYou should override default configuration settings with your own.\n\nHere is the list of settings to check:\n\n* ASTERISK_AMI_HOST: IP address or hostname of your Asterisk server.\n* ASTERISK_AMI_PORT: Asterisk manager interface port (default is 5038).\n* ASTERISK_AMI_USER: Asterisk manager account from manager.conf.\n* ASTERISK_AMI_PASS: Asterisk manager password from manager.conf.\n* ASTERISK_AMI_TRACE_EVENTS: set to `yes` if you want to debug all AMI events.\n* ODOO_HOST: Odoo server IP address or hostname.\n* ODOO_PORT: Odoo port, 8069 for standalone and 80 or 443 when Odoo is behind proxy.\n* ODOO_USE_SSL: Set to `yes` if your proxy uses HTTPS.\n* ODOO_USER: Odoo system account login that is used by the Agent..\n* ODOO_PASS: Odoo system account password that is used by the Agent.\n* ODOO_DB: Odoo database.\n* ODOO_BUS_ENABLED: By default Remote Agent app uses Odoo bus to communicate with the Agent. It does not work with odoo.sh so you can disable it.\n* ODOO_BUS_PORT: Default is 8072. Change to 80 or 443 if your Odoo is behind proxy.\n* WEB_SERVER_ENABLED: When Odoo bus polling is disabled internal HTTP server must be started.\n* WEB_SERVER_ADDRESS: Default is `0.0.0.0:40000`.  You should assure that this port is accessible from your Odoo instance.\n* ODOO_TRACE_AMI_EVENTS: Set to `yes` if you want to debug AMI events sent to Odoo.\n \nAsterisk\n--------\n\nSee `Asterisk Calls module <https://apps.odoo.com/apps/modules/13.0/asterisk_calls#doc>`_ documentation on preparing Asterisk for the Agent.\n\nRunning Asterisk Odoo Agent\n++++++++++++++++++++++++++++\nYou can start the Agent manually from any place like this:\n\n.. code:: bash\n\n  nameko run --config=config.yml asterisk_odoo_agent\n\nYou can also create a systemd service file ``asterisk_odoo_agent.service`` and \ninstall it for starting the Agent at boot (adjust it for your environment).\n\n.. code:: bash\n\n  [Unit]\n  Description=Asterisk Odoo Odoo connector\n  After=network.target\n\n  [Service]\n  Environment=\"SYSTEM_NAME=asterisk\"\n  User=root\n  ExecStart=/usr/local/bin/nameko run --config=/etc/asterisk_odoo_agent.yml asterisk_odoo_agent\n  Restart=always\n  RemainAfterExit=no\n  StandardOutput=syslog\n  StandardError=syslog\n  SyslogIdentifier=ASTERISK_CALLS_AGENT\n\n  [Install]\n  WantedBy=multi-user.target\n\n**And activate it**:\n\n.. code:: bash\n\n  systemctl daemon-reload\n  systemctl enable asterisk_odoo_agent\n  systemctl start asterisk_odoo_agent\n  systemctl status asterisk_odoo_agent\n\nSupport & Contributing\n++++++++++++++++++++++\nFeel free to create new tickets on issues and ideas.\n\nDevelopment\n+++++++++++\nAs was said in the very beginning development is done on Odoo layer.\n\nThe Agent will forward to Odoo specified \n`AMI messages <https://wiki.asterisk.org/wiki/display/AST/Asterisk+13+AMI+Events>`_. \n\nIn order to know which AMI messages to forward your should define your \nevents map and include it in the config file (EVENTS_MAP).\n\nLet's imagine that we want to collect call details records. In this case you need to\nmap ``Cdr`` event to Odoo's model and method which will receive it. \nAdd the following section to ``events.yml``:\n\n.. code:: yaml\n\n  - name: Cdr\n    type: AMI\n    model: odoo_asterisk.call\n    method: create_cdr\n\n\nNow in Odoo application named ``odoo_asterisk`` (just an example) create a method \n``create_cdr`` with the following contents:\n\n.. code:: python\n\n    class Call(models.Model):\n      _name = 'odoo_asterisk.call'\n      _description = 'Call Log'\n      \n      src = fields.Char()\n      dst = fields.Char()\n      channel = fields.Char()\n      # The rest fields are ommited...\n  \n      @api.model\n      def create_cdr(self, event):\n          get = event['headers'].get\n          data = {\n              'accountcode': get('AccountCode'),\n              'src': get('Source'),\n              'dst': get('Destination'),\n              'dcontext': get('DestinationContext'),\n              'clid': get('CallerID'),\n              'channel': get('Channel'),\n              'dstchannel': get('DestinationChannel'),\n              'lastapp': get('LastApplication'),\n              'lastdata': get('LastData'),\n              'started': get('StartTime') or False,\n              'answered': get('AnswerTime') or False,\n              'ended': get('EndTime') or False,\n              'duration': get('Duration'),\n              'billsec': get('BillableSeconds'),\n              'disposition': get('Disposition'),\n              'amaflags': get('AMAFlags'),\n              'uniqueid': get('UniqueID') or get('Uniqueid'),\n              'linkedid': get('Linkedid'),\n              'userfield': get('UserField'),\n              'system_name': get('SystemName'),\n          }\n          self.create(data)\n          return True\n\nThat's it.", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.com/odooist/asterisk-odoo-agent", "keywords": "", "license": "LGPL-3", "maintainer": "", "maintainer_email": "", "name": "asterisk-odoo-agent", "package_url": "https://pypi.org/project/asterisk-odoo-agent/", "platform": "", "project_url": "https://pypi.org/project/asterisk-odoo-agent/", "project_urls": {"Homepage": "https://gitlab.com/odooist/asterisk-odoo-agent"}, "release_url": "https://pypi.org/project/asterisk-odoo-agent/1.10/", "requires_dist": null, "requires_python": "", "summary": "Asterisk connector for Asterisk Calls Odoo application.", "version": "1.10"}, "last_serial": 7060748, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "0d07606a98fa66cd52f7913297227414", "sha256": "cea947bf3a2ab3c445b84a0e07c963a392a8e9dbec53a9d5c22ba6d3b326d2c9"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.0.tar.gz", "has_sig": false, "md5_digest": "0d07606a98fa66cd52f7913297227414", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25552, "upload_time": "2020-03-05T04:22:50", "upload_time_iso_8601": "2020-03-05T04:22:50.164141Z", "url": "https://files.pythonhosted.org/packages/bc/bd/f6ef0b012e4eb897aff7c9fb8d2c1d95ec50f8e77061f230a4194c6727a2/asterisk-odoo-agent-1.0.tar.gz"}], "1.1": [{"comment_text": "", "digests": {"md5": "2caaf169b96440b43660140809a56fdc", "sha256": "82a3ea3b8d6f0b082598598a424646cd6ea426efa72756abc5886775a779f4dd"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.1.tar.gz", "has_sig": false, "md5_digest": "2caaf169b96440b43660140809a56fdc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 20440, "upload_time": "2020-03-06T09:52:43", "upload_time_iso_8601": "2020-03-06T09:52:43.518375Z", "url": "https://files.pythonhosted.org/packages/ea/fb/06bc4eeb011dea8ed0c13678d0f821c8726853ca1718e68a3d11026808f1/asterisk-odoo-agent-1.1.tar.gz"}], "1.10": [{"comment_text": "", "digests": {"md5": "76cc37ca76beb4695f5ff25b5b120926", "sha256": "d5b62715012790becda9baa600736f3eb5f0a9ca8a97e38ca13fa86dd0335d64"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.10.tar.gz", "has_sig": false, "md5_digest": "76cc37ca76beb4695f5ff25b5b120926", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16137, "upload_time": "2020-04-20T15:00:50", "upload_time_iso_8601": "2020-04-20T15:00:50.020610Z", "url": "https://files.pythonhosted.org/packages/81/b4/7b443dc0782b66bda0989beaea8828eaea5cf038f732a6277f466c910bd3/asterisk-odoo-agent-1.10.tar.gz"}], "1.2": [{"comment_text": "", "digests": {"md5": "26d868aa15cc769aa83be13800e2f2e5", "sha256": "01d6307bfc8e2284a496a646e5ebe9e8cb86c5f132195b08be53b7686f75d300"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.2.tar.gz", "has_sig": false, "md5_digest": "26d868aa15cc769aa83be13800e2f2e5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 20435, "upload_time": "2020-03-06T13:55:43", "upload_time_iso_8601": "2020-03-06T13:55:43.377169Z", "url": "https://files.pythonhosted.org/packages/df/f4/d00fece86dc049910868e06f34d6c21359b86d732574f9495e67d67b7346/asterisk-odoo-agent-1.2.tar.gz"}], "1.3": [{"comment_text": "", "digests": {"md5": "f8dc56e58562b9c9aa45ab0482a191a5", "sha256": "70d34895cd47e6ddd9cb0f8ec4bcecf7c273d87ac664e3757daac491a2cccfa3"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.3.tar.gz", "has_sig": false, "md5_digest": "f8dc56e58562b9c9aa45ab0482a191a5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19483, "upload_time": "2020-03-10T06:41:02", "upload_time_iso_8601": "2020-03-10T06:41:02.898113Z", "url": "https://files.pythonhosted.org/packages/d1/11/e4949e143308cde0b1ca16ae792efc7705570e795d361bda87fe6b1416f3/asterisk-odoo-agent-1.3.tar.gz"}], "1.4": [{"comment_text": "", "digests": {"md5": "8b500dd6644f59e2026d3be061244735", "sha256": "8b700c83b0de40280f6744ed993f3ce3e663a9319e6989812b1560dcb4ab5e37"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.4.tar.gz", "has_sig": false, "md5_digest": "8b500dd6644f59e2026d3be061244735", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19534, "upload_time": "2020-03-11T04:50:39", "upload_time_iso_8601": "2020-03-11T04:50:39.698416Z", "url": "https://files.pythonhosted.org/packages/c6/b9/dca13701484b2626369d6b295b1a1422c90acd1636d073b553233d111cbb/asterisk-odoo-agent-1.4.tar.gz"}], "1.5": [{"comment_text": "", "digests": {"md5": "fa54be002d8970bb987d67f151328c54", "sha256": "ee47a837dcf320cd46ec88d6921e91b8eb8a71507bf914c4b403259e4bac3c32"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.5.tar.gz", "has_sig": false, "md5_digest": "fa54be002d8970bb987d67f151328c54", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19497, "upload_time": "2020-03-11T05:14:48", "upload_time_iso_8601": "2020-03-11T05:14:48.340732Z", "url": "https://files.pythonhosted.org/packages/96/d7/3327512c42e8bfa9b342c2a459d0d8cc65fd77f13947d6870802a91d7002/asterisk-odoo-agent-1.5.tar.gz"}], "1.6": [{"comment_text": "", "digests": {"md5": "137dc78d6970b9a318b37585ed6de5e3", "sha256": "66ebb0eaa9b67b95573c266d14f0b7317cd8f237fa4fd6a68c13743267564de0"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.6.tar.gz", "has_sig": false, "md5_digest": "137dc78d6970b9a318b37585ed6de5e3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18678, "upload_time": "2020-03-13T06:12:48", "upload_time_iso_8601": "2020-03-13T06:12:48.180506Z", "url": "https://files.pythonhosted.org/packages/92/d7/5e1e0476870e79f65a9cdfe7ea338ca2a9bde07bf457e8427fda24a27f1c/asterisk-odoo-agent-1.6.tar.gz"}], "1.7": [{"comment_text": "", "digests": {"md5": "79c2ec30e5f9606f6da5b54f26259d7f", "sha256": "fe9dbe28535b135a8db75f60716cea3bf81789efcb61e24fa065ad0dfcadab37"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.7.tar.gz", "has_sig": false, "md5_digest": "79c2ec30e5f9606f6da5b54f26259d7f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18682, "upload_time": "2020-03-20T14:08:26", "upload_time_iso_8601": "2020-03-20T14:08:26.327539Z", "url": "https://files.pythonhosted.org/packages/0f/c1/c5bb059c21e2094bbd7c6f986ce5d13f3c60f930319bed065cc02837164b/asterisk-odoo-agent-1.7.tar.gz"}], "1.8": [{"comment_text": "", "digests": {"md5": "0d1204fae4c9867cebb282b3a760aec4", "sha256": "48c3f049d6f4da52839399452e59fa344a4a1f03f9e199e6771ac756444fd697"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.8.tar.gz", "has_sig": false, "md5_digest": "0d1204fae4c9867cebb282b3a760aec4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18801, "upload_time": "2020-03-23T09:54:38", "upload_time_iso_8601": "2020-03-23T09:54:38.949333Z", "url": "https://files.pythonhosted.org/packages/d0/7e/786e96047e790af0a3c845e0387fc3ae99e3720458f3ab89485121279912/asterisk-odoo-agent-1.8.tar.gz"}], "1.9": [{"comment_text": "", "digests": {"md5": "ef672753d345a291a20ede7223d709e1", "sha256": "400eda91e62af0872be7ff7362ac4bec7d3b1058f23b5aca030a3fde1b753499"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.9.tar.gz", "has_sig": false, "md5_digest": "ef672753d345a291a20ede7223d709e1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18998, "upload_time": "2020-04-01T07:30:19", "upload_time_iso_8601": "2020-04-01T07:30:19.927614Z", "url": "https://files.pythonhosted.org/packages/2d/65/e7ed19013f096d9f3e3f1197850671e82768891349aa2e189d0176c47a06/asterisk-odoo-agent-1.9.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "76cc37ca76beb4695f5ff25b5b120926", "sha256": "d5b62715012790becda9baa600736f3eb5f0a9ca8a97e38ca13fa86dd0335d64"}, "downloads": -1, "filename": "asterisk-odoo-agent-1.10.tar.gz", "has_sig": false, "md5_digest": "76cc37ca76beb4695f5ff25b5b120926", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16137, "upload_time": "2020-04-20T15:00:50", "upload_time_iso_8601": "2020-04-20T15:00:50.020610Z", "url": "https://files.pythonhosted.org/packages/81/b4/7b443dc0782b66bda0989beaea8828eaea5cf038f732a6277f466c910bd3/asterisk-odoo-agent-1.10.tar.gz"}]}