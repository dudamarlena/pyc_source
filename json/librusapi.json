{"info": {"author": "Raven's Iris", "author_email": "liones121@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "# librusapi\n\n![banner](img/banner.svg)\n\n[![license](https://img.shields.io/github/license/ravenirex/librusapi)](LICENSE)\n[![standard-readme compliant](https://img.shields.io/badge/readme%20style-standard-brightgreen.svg?style=flat-square)](https://github.com/RichardLitt/standard-readme)\n![PyPI - Downloads](https://img.shields.io/pypi/dm/librusapi)\n\n> Unofficial API wrapper for synergia.librus.pl\n\nScrape data from synergia.librus.pl and use it in your app.\n\n***Coming soon:***\n- Absences\n- Events\n\n## Table of Contents\n\n- [Features](#features)\n- [Install](#install)\n- [Usage](#usage)\n- [Maintainers](#maintainers)\n- [Contributing](#contributing)\n- [License](#license)\n\n## Features\n| Feature        | Status            |\n| -------------- |:-----------------:|\n| Timetable      | **working**       |\n| Grades         | **working**       |\n| Absences       | ***coming soon*** |\n| Events         | ***coming soon*** |\n\n## Install\n\n```shell\npip install librusapi\n```\n\n## Usage\n### Getting your timetable\n```python\nfrom subprocess import check_output\nfrom librusapi import Timetable, Token, Lesson\nfrom datetime import datetime, timedelta\nfrom os import path\nfrom shutil import get_terminal_size\n\n\n# * Get absolute token storage path\npath = path.expanduser('~/librus_token.json')\n\n# * Load it from path\ntok = Token.load(path)\n\n# * load() automatically checks if file exists or token is valid\nif not tok:\n    # * If token has expired or doesn't exist load from 'pass'\n    # ! Replace with your own method\n    # ! I'm using 'pass' on a unix system to get my librus password\n    # ! I use arch btw\n    pwd, user = check_output('pass librus', shell=True).decode('utf-8').strip().split('\\nusername: ')\n    tok = Token.get(user, pwd)\n\n# * Save token to a file\ntok.store(path)\n\n# * Create a timetable session\ntimetable = Timetable(tok)\n\n# * Load all lessons for current week\ntoday = timetable.get()\n\n# * Load all lessons next week\nweek_from_now = timetable.get(datetime.now()+timedelta(days=7))\n\n# * Combine them to have more things to output\ntdandwfn = today + week_from_now\n\n# * Check terminal columns and lines for fancier output\ncolumns, lines = get_terminal_size()\n\n# * Count amount of lessons in each of loaded weeks\nprint(f'You have {len(today)} lessons this week')\nprint(f'You have {len(week_from_now)} lessons next week')\nprint(f'{len(today) + len(week_from_now)} in total')\n\nfor l in tdandwfn:\n    # * Represents absolute index of a lesson\n    # * Starts from 0\n    print(l.index)\n    # * Name\n    print(l.name)\n    # * Room / can be None\n    print(l.room)\n    # * Teacher\n    print(l.teacher)\n    # * Lesson start\n    print(l.start)\n    # * Lesson end\n    print(l.end)\n    # * Flag\n    # * Flags inform about teacher absences, cancelations, moving(eg. form 1 day to another)\n    # ! Flags do not inform about tests\n    print(l.flag)\n    print('*' * columns)\n\n```\n### Getting your grades\n```python\nfrom subprocess import check_output\nfrom librusapi import Grades, Token\nfrom os import path\n\n\n# * Get absolute token storage path\n# * On Windows\n# * C:/Users/your_username/librus_token.json\npath = path.expanduser('~/librus_token.json')\n\n# * Load it from path\ntok = Token.load(path)\n\n# * load() automatically checks if file exists or token is valid\nif not tok:\n    # * If token has expired or doesn't exist load from 'pass'\n    # ! Replace with your own method\n    # ! I'm using 'pass' on a unix system to get my librus password\n    # ! I use arch btw\n    pwd, user = check_output('pass librus', shell=True).decode(\n        'utf-8').strip().split('\\nusername: ')\n    tok = Token.get(user, pwd)\n\n# * Save token to a file\ntok.store(path)\n\ngrades = Grades(tok)\nlessons = grades.get()\n\nfor lesson in lessons:\n    # * Name\n    print(lesson.name)\n\n    # * Current average for entire year\n    print(lesson.current)\n\n    # * Final grade for a entire year\n    print(lesson.final)\n\n    # * Current average for first semester\n    print(lesson.first_semester.current)\n\n    # * Expected grade for first semester\n    # ! It is always None for second semester\n    print(lesson.first_semester.expected)\n\n    # * Final grade for first semester\n    print(lesson.first_semester.final)\n\n    # * An array of grades for first semester\n    # ! Each grade is a string not a Grade class\n    print(lesson.first_semester.grades)\n\n    for grade in lesson.grades:\n        # * Value\n        # ! It is a string representation\n        # Different schools give different amounts of points for + & -\n        print(grade.value)\n\n        # * String for what type of work is it\n        # eg. \"kartkowka\", \"sprawdzian\"\n        print(grade.category)\n\n        # * When it was added to librus\n        # * Time hh:mm will always be 00:00\n        print(grade.date)\n\n        print(grade.teacher)\n        print(grade.added_by)\n\n        # ! I would suggest not using these\n        print(grade.improved_value)\n        print(grade.comment_url)\n\n```\n\n\n## Maintainers\n\n[@Ravenirex](https://github.com/Ravenirex)\n\n## Contributing\nPRs are not welcome yet as this package lacks basic functionality, which I intend to add first.\n\n## License\n\nMIT \u00a9 2019 Raven&#39;s Iris\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "librusapi", "package_url": "https://pypi.org/project/librusapi/", "platform": "", "project_url": "https://pypi.org/project/librusapi/", "project_urls": null, "release_url": "https://pypi.org/project/librusapi/0.40/", "requires_dist": ["beautifulsoup4 (>=4.8.1)", "bs4 (>=0.0.1)", "certifi (>=2019.9.11)", "chardet (>=3.0.4)", "idna (>=2.8)", "lxml (>=4.4.1)", "requests (>=2.22.0)", "soupsieve (>=1.9.5)", "urllib3 (>=1.25.6)"], "requires_python": ">=3.6", "summary": "Unofficial API wrapper for synergia.librus.pl", "version": "0.40"}, "last_serial": 6303752, "releases": {"0.2": [{"comment_text": "", "digests": {"md5": "efd8e78f16185bc8178c197a14611871", "sha256": "068e03dd71e72ea5f581e15cbc4f8ae293c5378de8c2e62d717607728519f25e"}, "downloads": -1, "filename": "librusapi-0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "efd8e78f16185bc8178c197a14611871", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 7956, "upload_time": "2019-11-10T18:47:04", "upload_time_iso_8601": "2019-11-10T18:47:04.167687Z", "url": "https://files.pythonhosted.org/packages/91/a2/d038ac8260695003be09a0cfcdae8a6e3d988ccbde98a4b2a04955e0c668/librusapi-0.2-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "ee3aa179890251c927b20233b33f1a4c", "sha256": "55069b3de40fdd84824ff6858bed03ba6e486d4ef2329012c52860f282c0ebfa"}, "downloads": -1, "filename": "librusapi-0.2.tar.gz", "has_sig": false, "md5_digest": "ee3aa179890251c927b20233b33f1a4c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5941, "upload_time": "2019-11-10T18:47:05", "upload_time_iso_8601": "2019-11-10T18:47:05.731908Z", "url": "https://files.pythonhosted.org/packages/95/61/08edf2757b99f9ccb22433dd6c338dd2b1cdd7a04234d5a0920858392caf/librusapi-0.2.tar.gz"}], "0.31": [{"comment_text": "", "digests": {"md5": "638158aa6d916bf51d8093528653fcc6", "sha256": "09f02f1810bf8b263b33f50c256ca6b4987ba4ed31941a1db42e80e19603751e"}, "downloads": -1, "filename": "librusapi-0.31-py3-none-any.whl", "has_sig": false, "md5_digest": "638158aa6d916bf51d8093528653fcc6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10573, "upload_time": "2019-11-10T23:38:43", "upload_time_iso_8601": "2019-11-10T23:38:43.166712Z", "url": "https://files.pythonhosted.org/packages/19/16/6f1480270bcf785c9ccf7315cecfa1e197de0f7bec608b2db44a8f6faeb3/librusapi-0.31-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "7b877834757432f35f5bf939e64e7731", "sha256": "92d2efabfc5f3677060732e734c4684d553b33d5f25c6c5836031ba49bbbae8e"}, "downloads": -1, "filename": "librusapi-0.31.tar.gz", "has_sig": false, "md5_digest": "7b877834757432f35f5bf939e64e7731", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 8745, "upload_time": "2019-11-10T23:38:45", "upload_time_iso_8601": "2019-11-10T23:38:45.014111Z", "url": "https://files.pythonhosted.org/packages/e5/a3/e9407bd2aa5c4b39d9e52899e0436e04c294e615959216db184dbd8ff821/librusapi-0.31.tar.gz"}], "0.4": [{"comment_text": "", "digests": {"md5": "3bf4a3dcfcdc1778b62f7b8a199e79ef", "sha256": "f22f3c14dc1f292a2480f30af360d27e42ea09c63646d7071b61c57e10dc2e93"}, "downloads": -1, "filename": "librusapi-0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "3bf4a3dcfcdc1778b62f7b8a199e79ef", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 12416, "upload_time": "2019-12-14T18:50:13", "upload_time_iso_8601": "2019-12-14T18:50:13.951083Z", "url": "https://files.pythonhosted.org/packages/75/02/e5753191040e14a5f180d3ddf8d2f402e0a597009ee43469f7abc04d3ee2/librusapi-0.4-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "58514b71f03505fd194705c87a029450", "sha256": "bb936683ea2640e1411554417699db412cdf3f3737929020077435e554940e7f"}, "downloads": -1, "filename": "librusapi-0.4.tar.gz", "has_sig": false, "md5_digest": "58514b71f03505fd194705c87a029450", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 9318, "upload_time": "2019-12-14T18:50:15", "upload_time_iso_8601": "2019-12-14T18:50:15.624372Z", "url": "https://files.pythonhosted.org/packages/1d/99/f2abc5124996e876539cf3a8f20b57a2a40b365c0237989fe64bb4164072/librusapi-0.4.tar.gz"}], "0.40": [{"comment_text": "", "digests": {"md5": "7194543e3a97c780093ff72b4abf8d09", "sha256": "54fb1a247a23ff564633a17d3bed728575bd749efa8f01b6a1fd90035d931e5a"}, "downloads": -1, "filename": "librusapi-0.40-py3-none-any.whl", "has_sig": false, "md5_digest": "7194543e3a97c780093ff72b4abf8d09", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 12426, "upload_time": "2019-12-14T18:51:17", "upload_time_iso_8601": "2019-12-14T18:51:17.142675Z", "url": "https://files.pythonhosted.org/packages/2e/4e/bbb6359944168c2702ee178c053e15fec43417a2e55dd709894647ae85ad/librusapi-0.40-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "65d754e3fb1d008858b92e9a9276c524", "sha256": "00cba3558f69f8dd101852c265f390c2f025630a61d5da005051bf5462558aff"}, "downloads": -1, "filename": "librusapi-0.40.tar.gz", "has_sig": false, "md5_digest": "65d754e3fb1d008858b92e9a9276c524", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 9327, "upload_time": "2019-12-14T18:51:19", "upload_time_iso_8601": "2019-12-14T18:51:19.928890Z", "url": "https://files.pythonhosted.org/packages/0c/9f/3aa05e9561557df852019a7aa851f7093c8662df57b14b0d10dd06071049/librusapi-0.40.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "7194543e3a97c780093ff72b4abf8d09", "sha256": "54fb1a247a23ff564633a17d3bed728575bd749efa8f01b6a1fd90035d931e5a"}, "downloads": -1, "filename": "librusapi-0.40-py3-none-any.whl", "has_sig": false, "md5_digest": "7194543e3a97c780093ff72b4abf8d09", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 12426, "upload_time": "2019-12-14T18:51:17", "upload_time_iso_8601": "2019-12-14T18:51:17.142675Z", "url": "https://files.pythonhosted.org/packages/2e/4e/bbb6359944168c2702ee178c053e15fec43417a2e55dd709894647ae85ad/librusapi-0.40-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "65d754e3fb1d008858b92e9a9276c524", "sha256": "00cba3558f69f8dd101852c265f390c2f025630a61d5da005051bf5462558aff"}, "downloads": -1, "filename": "librusapi-0.40.tar.gz", "has_sig": false, "md5_digest": "65d754e3fb1d008858b92e9a9276c524", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 9327, "upload_time": "2019-12-14T18:51:19", "upload_time_iso_8601": "2019-12-14T18:51:19.928890Z", "url": "https://files.pythonhosted.org/packages/0c/9f/3aa05e9561557df852019a7aa851f7093c8662df57b14b0d10dd06071049/librusapi-0.40.tar.gz"}]}