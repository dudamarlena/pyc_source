{"info": {"author": "Jiri Bauer", "author_email": "baueji@gmail.com", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python", "Topic :: Internet :: WWW/HTTP :: Dynamic Content", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# Flask-Pydantic\n[![Actions Status](https://github.com/bauerji/flask_pydantic/workflows/Python%20package/badge.svg?branch=master)](https://github.com/bauerji/flask_pydantic/actions)\n[![PyPI](https://img.shields.io/pypi/v/Flask-Pydantic?color=g)](https://pypi.org/project/Flask-Pydantic/)\n[![Language grade: Python](https://img.shields.io/lgtm/grade/python/g/bauerji/flask_pydantic.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/bauerji/flask_pydantic/context:python)\n[![License](https://img.shields.io/badge/license-MIT-purple)](https://github.com/bauerji/flask_pydantic/blob/master/LICENSE)\n[![Code style](https://img.shields.io/badge/code%20style-black-black)](https://github.com/psf/black)\n\nFlask extension for integration of the awesome [pydantic package](https://github.com/samuelcolvin/pydantic) with [Flask](https://palletsprojects.com/p/flask/).\n\n## Installation\n``python3 -m pip install Flask-Pydantic``\n\n## Basics\n`validate` decorator validates query and body request parameters and makes them accessible via flask's `request` variable\n\n| **parameter type** | **`request` attribute name** |\n|:--------------:|:------------------------:|\n| query          | `query_params`           |\n| body           | `body_params`            |\n\n- Success response status code can be modified via `on_success_status` parameter of `validate` decorator.\n- `response_many` parameter set to `True` enables serialization of multiple models (route function should therefore return iterable of models).\n- `request_body_many` parameter set to `False` analogically enables serialization of multiple models inside of the root level of request body. If the request body doesn't contain an array of objects `400` response is returned,\n- If validation fails, `400` response is returned with failure explanation.\n\nFor more details see in-code docstring or example app.\n\n## Usage\n### Basic example\nSimply use `validate` decorator on route function. \n\n:exclamation: Be aware that `@app.route` decorator must precede `@validate` (i. e. `@validate` must be closer to the function declaration).\n```python\nfrom typing import Optional\n\nfrom flask import Flask, request\nfrom flask_pydantic import validate\nfrom pydantic import BaseModel\n\napp = Flask(\"flask_pydantic_app\")\n\n\nclass QueryModel(BaseModel):\n    age: int\n\n\nclass BodyModel(BaseModel):\n    name: str\n    nickname: Optional[str]\n\n\nclass ResponseModel(BaseModel):\n    id: int\n    age: int\n    name: str\n    nickname: Optional[str]\n\n\n@app.route(\"/\", methods=[\"POST\"])\n@validate(body=BodyModel, query=QueryModel)\ndef post():\n    # save model to DB\n    id_ = ...\n\n    return ResponseModel(\n        id=id_,\n        age=request.query_params.age,\n        name=request.body_params.name,\n        nickname=request.body_params.nickname,\n    )\n```\n- `age` query parameter is a required `int`\n    - if none is provided the response contains: \n        ```json\n        {\n          \"validation_error\": {\n            \"query_params\": [\n              {\n                \"loc\": [\n                  \"age\"\n                ],\n                \"msg\": \"field required\",\n                \"type\": \"value_error.missing\"\n              }\n            ]\n          }\n        }\n        ```\n    - for incompatible type (e. g. string `/?age=not_a_number`)\n        ```json\n        {\n          \"validation_error\": {\n            \"query_params\": [\n              {\n                \"loc\": [\n                  \"age\"\n                ],\n                \"msg\": \"value is not a valid integer\",\n                \"type\": \"type_error.integer\"\n              }\n            ]\n          }\n        }\n        ```\n- likewise for body parameters\n- example call with valid parameters:\n``curl -XPOST http://localhost:5000/?age=20 --data '{\"name\": \"John Doe\"}' -H 'Content-Type: application/json'``\n\n-> ``{\"id\": 2, \"age\": 20, \"name\": \"John Doe\", \"nickname\": null}``\n\n### Modify response status code\nThe default success status code is `200`. It can be modified in two ways\n- in return statement\n```python\n# necessary imports, app and models definition\n...\n\n@app.route(\"/\", methods=[\"POST\"])\n@validate(body=BodyModel, query=QueryModel)\ndef post():\n    return ResponseModel(\n            id=id_,\n            age=request.query_params.age,\n            name=request.body_params.name,\n            nickname=request.body_params.nickname,\n        ), 201\n```\n- in `validate` decorator\n```python\n@app.route(\"/\", methods=[\"POST\"])\n@validate(body=BodyModel, query=QueryModel, on_success_status=201)\ndef post():\n    ...\n```\n\n### Example app\nFor more complete examples see [example application](https://github.com/bauerji/flask_pydantic/tree/master/example_app).\n\n## Contributing\nFeature requests and pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.\n\n- clone repository\n    ```bash\n    git clone https://github.com/bauerji/flask_pydantic.git\n    cd flask_pydantic\n    ```\n - create virtual environment and activate it\n    ```bash\n    python3 -m venv venv\n    source venv/bin/activate\n    ```\n - install development requirements\n    ```bash\n    python3 -m pip install -r requirements/test.pip\n    ```\n - checkout new branch and make your desired changes (don't forget to update tests)\n    ```bash\n    git checkout -b <your_branch_name>\n    ```\n - run tests\n    ```bash\n    python3 -m pytest\n    ```\n - if tests fails on Black tests, make sure You have your code compliant with style of [Black formatter](https://github.com/psf/black)\n - push your changes and create a pull request to master branch\n\n## TODOs:\n- header request parameters\n- cookie request parameters\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/bauerji/flask_pydantic.git", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "Flask-Pydantic", "package_url": "https://pypi.org/project/Flask-Pydantic/", "platform": "", "project_url": "https://pypi.org/project/Flask-Pydantic/", "project_urls": {"Homepage": "https://github.com/bauerji/flask_pydantic.git"}, "release_url": "https://pypi.org/project/Flask-Pydantic/0.0.5/", "requires_dist": ["Flask (~=1.1.1)", "pydantic (~=1.3)"], "requires_python": ">=3.7", "summary": "Flask extension for integration with Pydantic library", "version": "0.0.5"}, "last_serial": 6457638, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "de911823f068be655464c605d406b90a", "sha256": "4b55ebe701c453f34fb6a2c633d9387bf67c03a680ad60acb5d3b6328e947e87"}, "downloads": -1, "filename": "Flask_Pydantic-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "de911823f068be655464c605d406b90a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 5707, "upload_time": "2020-01-07T16:21:53", "upload_time_iso_8601": "2020-01-07T16:21:53.939943Z", "url": "https://files.pythonhosted.org/packages/0d/2c/a400169af0ee22509b8ddb0eaf1412024ff33f5b8f31220fd572155f1e28/Flask_Pydantic-0.0.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "d96c1e73198395eee76b49b518b93ec4", "sha256": "49c64c824de9ee8754c907719848ec6706b3761d11b0bd37d9933a5c9e870711"}, "downloads": -1, "filename": "Flask-Pydantic-0.0.1.tar.gz", "has_sig": false, "md5_digest": "d96c1e73198395eee76b49b518b93ec4", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 6403, "upload_time": "2020-01-07T16:21:56", "upload_time_iso_8601": "2020-01-07T16:21:56.507695Z", "url": "https://files.pythonhosted.org/packages/8d/3b/88e68f2901489abd09efbd24b9c2604e00c8867761e948f82db8f52c60f2/Flask-Pydantic-0.0.1.tar.gz"}], "0.0.2": [{"comment_text": "", "digests": {"md5": "09a213e835429b6d8f5d1300d8849753", "sha256": "04c68ae775f1eea5ba3747f49aaa5cdfd3fb8fbc67152622c2b0f9a55495aac2"}, "downloads": -1, "filename": "Flask_Pydantic-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "09a213e835429b6d8f5d1300d8849753", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 6067, "upload_time": "2020-01-08T10:21:41", "upload_time_iso_8601": "2020-01-08T10:21:41.213853Z", "url": "https://files.pythonhosted.org/packages/48/8c/9460bef7d0a0044b3cb5c5e04e6756e6e3f3738a6273d23e8f4b2f599597/Flask_Pydantic-0.0.2-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "c44939c843e75cd814e075e878c57750", "sha256": "e1a28dafb2c6912ebbfb38b107b8c544349da3b8ea04e28e3829232d5e8e270f"}, "downloads": -1, "filename": "Flask-Pydantic-0.0.2.tar.gz", "has_sig": false, "md5_digest": "c44939c843e75cd814e075e878c57750", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 6857, "upload_time": "2020-01-08T10:21:43", "upload_time_iso_8601": "2020-01-08T10:21:43.625790Z", "url": "https://files.pythonhosted.org/packages/14/80/3a266757b6e6560847dd77a0b0ff0c870e9aa845fa3e1c068e935a753a80/Flask-Pydantic-0.0.2.tar.gz"}], "0.0.3": [{"comment_text": "", "digests": {"md5": "f5f1d9a0052aa92a9e5e04b9fa76fc84", "sha256": "07b1078ac2ed63b85bb0b7d1c1e48e4fbcd980d85be3f451aa7e88cad503c53d"}, "downloads": -1, "filename": "Flask_Pydantic-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "f5f1d9a0052aa92a9e5e04b9fa76fc84", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 6287, "upload_time": "2020-01-08T11:07:32", "upload_time_iso_8601": "2020-01-08T11:07:32.343946Z", "url": "https://files.pythonhosted.org/packages/72/84/7c259d326fcc693e35c4d83685ded66d1ebb21acd3970e92bb78ce7403f4/Flask_Pydantic-0.0.3-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "e171aeaaef079119f90581f60e90409d", "sha256": "9675ab8b59406186e19abe03630f1174eb013a1effec2ff4f5934a33846ce12e"}, "downloads": -1, "filename": "Flask-Pydantic-0.0.3.tar.gz", "has_sig": false, "md5_digest": "e171aeaaef079119f90581f60e90409d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7147, "upload_time": "2020-01-08T11:07:35", "upload_time_iso_8601": "2020-01-08T11:07:35.497825Z", "url": "https://files.pythonhosted.org/packages/b3/2a/b8cd9bd103fbcdd4ce78a3f7e350e4c634c8ec0b5c033648bba4161010f5/Flask-Pydantic-0.0.3.tar.gz"}], "0.0.4": [{"comment_text": "", "digests": {"md5": "19519295ede84181442dd5284c4d67e9", "sha256": "456462de943a7b54726f0de51043328aed8a3fa87d70ad988eae49761a946a24"}, "downloads": -1, "filename": "Flask_Pydantic-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "19519295ede84181442dd5284c4d67e9", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 6779, "upload_time": "2020-01-09T13:11:39", "upload_time_iso_8601": "2020-01-09T13:11:39.989130Z", "url": "https://files.pythonhosted.org/packages/58/dc/6191830268e5389d0e87cbb98ff678cde11012cc1f2c34155374a1b020a4/Flask_Pydantic-0.0.4-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "d52485c19ce0e8d6e973a903917805ed", "sha256": "b4925f7842139bc335cb6ad8680c4f5df0d107e3e2a28af0ed6f1f955a60e73c"}, "downloads": -1, "filename": "Flask-Pydantic-0.0.4.tar.gz", "has_sig": false, "md5_digest": "d52485c19ce0e8d6e973a903917805ed", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7803, "upload_time": "2020-01-09T13:11:43", "upload_time_iso_8601": "2020-01-09T13:11:43.933838Z", "url": "https://files.pythonhosted.org/packages/27/a9/c83be21e89ac373cace91cf84ee837fbaa82ef69367360a5a5966dbebc79/Flask-Pydantic-0.0.4.tar.gz"}], "0.0.5": [{"comment_text": "", "digests": {"md5": "375f2abcacfd70d5ec535cbcc50c8a58", "sha256": "407022728103a560e121d6970a23a63ba632d831a0da2948c81bbfcb4d5fe341"}, "downloads": -1, "filename": "Flask_Pydantic-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "375f2abcacfd70d5ec535cbcc50c8a58", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 6798, "upload_time": "2020-01-15T10:05:59", "upload_time_iso_8601": "2020-01-15T10:05:59.635606Z", "url": "https://files.pythonhosted.org/packages/4e/ab/aa61e999b29bb11095aafc820803b512f1b9285bc359ceb9a565d8745caf/Flask_Pydantic-0.0.5-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "d60f4f84002bc6cee569dc4333e64a52", "sha256": "cd09ab9e4a30e4fd514bfce3cdf207981016f74fcdb89b2e4a51212046d8cad4"}, "downloads": -1, "filename": "Flask-Pydantic-0.0.5.tar.gz", "has_sig": false, "md5_digest": "d60f4f84002bc6cee569dc4333e64a52", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7835, "upload_time": "2020-01-15T10:06:03", "upload_time_iso_8601": "2020-01-15T10:06:03.641051Z", "url": "https://files.pythonhosted.org/packages/ed/6b/4c783bd3ed2260fd9d4c248350f758ec44252d5f5e72b27d1a6138db8cee/Flask-Pydantic-0.0.5.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "375f2abcacfd70d5ec535cbcc50c8a58", "sha256": "407022728103a560e121d6970a23a63ba632d831a0da2948c81bbfcb4d5fe341"}, "downloads": -1, "filename": "Flask_Pydantic-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "375f2abcacfd70d5ec535cbcc50c8a58", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 6798, "upload_time": "2020-01-15T10:05:59", "upload_time_iso_8601": "2020-01-15T10:05:59.635606Z", "url": "https://files.pythonhosted.org/packages/4e/ab/aa61e999b29bb11095aafc820803b512f1b9285bc359ceb9a565d8745caf/Flask_Pydantic-0.0.5-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "d60f4f84002bc6cee569dc4333e64a52", "sha256": "cd09ab9e4a30e4fd514bfce3cdf207981016f74fcdb89b2e4a51212046d8cad4"}, "downloads": -1, "filename": "Flask-Pydantic-0.0.5.tar.gz", "has_sig": false, "md5_digest": "d60f4f84002bc6cee569dc4333e64a52", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7835, "upload_time": "2020-01-15T10:06:03", "upload_time_iso_8601": "2020-01-15T10:06:03.641051Z", "url": "https://files.pythonhosted.org/packages/ed/6b/4c783bd3ed2260fd9d4c248350f758ec44252d5f5e72b27d1a6138db8cee/Flask-Pydantic-0.0.5.tar.gz"}]}