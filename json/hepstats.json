{"info": {"author": "Matthieu Marinangeli", "author_email": "matthieu.marinangeli@cern.ch", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "Intended Audience :: Science/Research", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Scientific/Engineering"], "description": "<img src=\"https://raw.githubusercontent.com/scikit-hep/hepstats/master/docs/source/logo.png\" width=\"450\">\n\n# Scikit-HEP project `hepstats` package: statistics tools and utilities\n\n[![Scikit-HEP][sk-badge]](https://scikit-hep.org/)\n\n[![PyPI](https://img.shields.io/pypi/v/hepstats)](https://pypi.org/project/hepstats/)\n[![PyPI - Python Version](https://img.shields.io/pypi/pyversions/hepstats)](https://pypi.org/project/hepstats/)\n[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.3519200.svg)](https://doi.org/10.5281/zenodo.3519200)\n[![Build Status](https://dev.azure.com/matthieumarinangeli/matthieumarinangeli/_apis/build/status/scikit-hep.hepstats?branchName=master)](https://dev.azure.com/matthieumarinangeli/matthieumarinangeli/_build/latest?definitionId=4&branchName=master)\n![Azure DevOps coverage](https://img.shields.io/azure-devops/coverage/matthieumarinangeli/matthieumarinangeli/4)\n![Azure DevOps tests](https://img.shields.io/azure-devops/tests/matthieumarinangeli/matthieumarinangeli/4)\n[![Binder](https://mybinder.org/badge_logo.svg)](https://mybinder.org/v2/gh/scikit-hep/hepstats/master)\n[![Documentation Status](https://readthedocs.org/projects/hepstats/badge/?version=latest)](https://hepstats.readthedocs.io/en/latest/?badge=latest)\n\n## Installation\n\nInstall `hepstats` like any other Python package:\n\n```\npip install hepstats\n```\n\nor similar (use e.g. `virtualenv` if you wish).\n\n## Getting Started\n\nThe `hepstats` module includes `modeling`, `hypotests` and `splot` submodules. This a quick user guide to each submodule. The [binder](https://mybinder.org/v2/gh/scikit-hep/hepstats/master) examples are also a good way to get started.\n\n### modeling\n\nThe modeling submodule includes the [Bayesian Block algorithm](https://arxiv.org/pdf/1207.5578.pdf) that can be used to improve the binning of histograms. The visual improvement can be dramatic, and more importantly, this algorithm produces histograms that accurately represent the underlying distribution while being robust to statistical fluctuations. Here is a small example of the algorithm applied on Laplacian sampled data, compared to a histogram of this sample with a fine binning.\n\n```python\n>>> import numpy as np\n>>> import matplotlib.pyplot as plt\n>>> from hepstats.modeling import bayesian_blocks\n\n>>> data = np.random.laplace(size=10000)\n>>> blocks = bayesian_blocks(data)\n\n>>> plt.hist(data, bins=1000, label='Fine Binning', density=True, alpha=0.6)\n>>> plt.hist(data, bins=blocks, label='Bayesian Blocks', histtype='step', density=True, linewidth=2)\n>>> plt.legend(loc=2)\n```\n\n![bayesian blocks example](https://raw.githubusercontent.com/scikit-hep/hepstats/master/notebooks/modeling/bayesian_blocks_example.png)\n\n### hypotests\n\nThis submodule provides tools to do hypothesis tests such as discovery test and computations of upper limits or confidence intervals. hepstats needs a fitting backend to perform computations such as [zfit](https://github.com/zfit/zfit). Any fitting library can be used if their API is compatible  with hepstats (see [api checks](https://github.com/scikit-hep/hepstats/blob/master/hepstats/hypotests/utils/fit/api_check.py)).\n\nWe give here a simple example of an upper limit calculation of the yield of a Gaussian signal with known mean and sigma over an exponential background. The fitting backend used is the [zfit](https://github.com/zfit/zfit) package.\n\n```python\n>>> import zfit\n>>> from zfit.loss import ExtendedUnbinnedNLL\n>>> from zfit.minimize import Minuit\n\n>>> bounds = (0.1, 3.0)\n>>> obs = zfit.Space('x', limits=bounds)\n\n>>> bkg = np.random.exponential(0.5, 300)\n>>> peak = np.random.normal(1.2, 0.1, 10)\n>>> data = np.concatenate((bkg, peak))\n>>> data = data[(data > bounds[0]) & (data < bounds[1])]\n>>> N = data.size\n>>> data = zfit.Data.from_numpy(obs=obs, array=data)\n\n>>> lambda_ = zfit.Parameter(\"lambda\", -2.0, -4.0, -1.0)\n>>> Nsig = zfit.Parameter(\"Nsig\", 1., -20., N)\n>>> Nbkg = zfit.Parameter(\"Nbkg\", N, 0., N*1.1)\n>>> signal = Nsig * zfit.pdf.Gauss(obs=obs, mu=1.2, sigma=0.1)\n>>> background = Nbkg * zfit.pdf.Exponential(obs=obs, lambda_=lambda_)\n>>> loss = ExtendedUnbinnedNLL(model=signal + background, data=data)\n\n>>> from hepstats.hypotests.calculators import AsymptoticCalculator\n>>> from hepstats.hypotests import UpperLimit\n>>> from hepstats.hypotests.parameters import POI, POIarray\n\n>>> calculator = AsymptoticCalculator(loss, Minuit(), asimov_bins=100)\n>>> poinull = POIarray(Nsig, np.linspace(0.0, 25, 20))\n>>> poialt = POI(Nsig, 0)\n>>> ul = UpperLimit(calculator, poinull, poialt)\n>>> ul.upperlimit(alpha=0.05, CLs=True)\n\nObserved upper limit: Nsig = 15.725784747406346\nExpected upper limit: Nsig = 11.927442041887158\nExpected upper limit +1 sigma: Nsig = 16.596396280677116\nExpected upper limit -1 sigma: Nsig = 8.592750403611896\nExpected upper limit +2 sigma: Nsig = 22.24864429383046\nExpected upper limit -2 sigma: Nsig = 6.400549971360598\n```\n\n![upper limit example](https://raw.githubusercontent.com/scikit-hep/hepstats/master/notebooks/hypotests/asy_ul.png)\n\n### splots\n\nA full example using the **sPlot** algorithm can be found [here](https://github.com/scikit-hep/hepstats/tree/master/notebooks/splots/splot_example.ipynb). **sWeights** for different components in a data sample, modeled with a sum of extended probability density functions, are derived using the `compute_sweights` function:\n\n```python\nfrom hepstats.splot import compute_sweights\n\n# using same model as above for illustration\nsweights = compute_sweights(signal + background, data)\n\nbkg_sweights = sweights[Nbkg]\nsig_sweights = sweights[Nsig]\n```\n\nThe model needs to be fitted to the data for the computation of the **sWeights**, if not an error is raised.\n\n[sk-badge]: https://img.shields.io/badge/Scikit--HEP-Project-blue?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAcCAYAAAB/E6/TAAAACXBIWXMAAAEZAAABGQHyCY1sAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA6dJREFUSImdlktonFUUx/930kQ0nYo2JX5NUqSghSq2oIgvcCFaC0EEH2AXUh9FEV1UUaGIC924qY8igo+FQi26sWp8gDS24qOgCOIiKCVomLlnZpxk7Dh2GjMz389F7tgv4zfNJGdzh/M/5/zuud/ch9MKDFgnaUjSnHOu2kuOmb0h6brMMoVHgceBY8ApSVVJ05JOAnXga+BJ4OK0fO/9PZL2AL91AwwBLwLz9GYLwKvAcLtGLpcbMbM5MyuXy+UoDXI14BNFcsABYBy4DLgojDvDZH5PxJaAG4CM937SzCgUCnemQcaB0yFpDngMGFhmefuBh4E/Qt4/tVrtoJlhZq+nJWwHaiH4F2DL2QAp+SPA9wBxHDM7O5svl8vZzqBzgOkAOQGsXwmkbbVabUOj0Wh/1xIw+J+Yy+UuBJ4O4jywdTUQSSoUCgdKpRJxHC+Ees8mxVKr1WoGYf9qId77m80sNrNvgedDvb+A8yQpMzg4OJHJZPoAVavVQ6uBmNmQc+4dSfVWq7Vb0n5JC5KyknZIUiabzdYlqdFoqF6vTxSLxctXwXpNUuSce3RsbOyEc+6kpKNBG5ekjKRLguMTSUNxHE/m8/ntvRK89w9IukvS4SiK3k5Ix8N4aRu0UZIGBgaOAHdIWpfJZI56769fDlIqlTY7515yzlkcx3s65xDGjW1Qf3A0R0ZGJpxzOyX1Oee+MLMd3SDAmjiOD0paK+nB0dHRuY6QhTD2t0EWHJEkRVF0zDl3k6TTkj5OPUIkmdkzwLWSXomi6POUkNFkZxlJM8GxrR0RRdEPzrkbnXOzwHve+/s7IFc55/ZJmmq1Wvu6NH1FGGfaS3B3YrMuOTJKpdJmM5sO+2OvJBWLxUEz+9XM5vP5/DalWDhpqqHu7rYzmzhI96Ys0aZQmEKh8IKZvRV+P9GlEwEPhXoNYCgpvByE2SXCmc6GzeyncCLjvZ8EUi9N4HygEOq92SmuB/4M4pdAf2eBmZmZC7z3lQDb1AXSB3wW6vwNpF54twOtEPQBsLYzplgsfmhmpHUDnAscCvkxsCttMu3gpzhjPwNLNq2ZHU4DsXgr/5jIfa4rJJF0H0vfCp8C9wLDSRCwAdgFfBQ6gMW3wyPLQhKwK4Gv+L81m80mwKkU7Tvgmp4hHcBbgXcTf5ROqwLvA7cBblWQDmA/sLVSqXxTqVQAbmHxJXTWh0vS1vQS5JxrSJoys3JwHXHOxSuZbE+ghE1J2rJSiCT9CxJT5EBIY81lAAAAAElFTkSuQmCC\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/scikit-hep/hepstats", "keywords": "HEP,statistics", "license": "BSD 3-Clause License", "maintainer": "The Scikit-HEP admins", "maintainer_email": "scikit-hep-admins@googlegroups.com", "name": "hepstats", "package_url": "https://pypi.org/project/hepstats/", "platform": "Any", "project_url": "https://pypi.org/project/hepstats/", "project_urls": {"Homepage": "https://github.com/scikit-hep/hepstats"}, "release_url": "https://pypi.org/project/hepstats/0.2.2/", "requires_dist": ["scipy", "numpy", "pandas", "asdf"], "requires_python": "!=2.*, >=3.6", "summary": "statistics tools and utilities", "version": "0.2.2"}, "last_serial": 6776354, "releases": {"0.1.2": [{"comment_text": "", "digests": {"md5": "510b92dbf165dffae30059b304027398", "sha256": "dce96e9b864861b00f27a8ae2ad79b6310c49989c716ee0ba027017540e9b429"}, "downloads": -1, "filename": "hepstats-0.1.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "510b92dbf165dffae30059b304027398", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": "!=2.*, >=3.6", "size": 24617, "upload_time": "2019-11-21T13:17:28", "upload_time_iso_8601": "2019-11-21T13:17:28.897080Z", "url": "https://files.pythonhosted.org/packages/da/41/08a8c7028fdc578aa36fe42789f242ba25a91b4f9ce769c2d8a33ef46b1b/hepstats-0.1.2-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "3513fba6411af34b2e2154deea3460c2", "sha256": "3fcbf80b0d04c997b6ae9019039b7b6b8be531f2acece54b2e7ab44e83c2f67d"}, "downloads": -1, "filename": "hepstats-0.1.2.tar.gz", "has_sig": false, "md5_digest": "3513fba6411af34b2e2154deea3460c2", "packagetype": "sdist", "python_version": "source", "requires_python": "!=2.*, >=3.6", "size": 18250, "upload_time": "2019-11-21T13:17:31", "upload_time_iso_8601": "2019-11-21T13:17:31.047347Z", "url": "https://files.pythonhosted.org/packages/a1/ba/ec32e695d0299f9b5d721aa7465de0b78b253fd87daa57e8fe8a041affff/hepstats-0.1.2.tar.gz"}], "0.1.3": [{"comment_text": "", "digests": {"md5": "ce72324ac6d7eaf52e4ce78d5d914ab0", "sha256": "a1bd605bc558cec879c1076c7cb4781d7e66d564ddbb2784e7c20d67973d3655"}, "downloads": -1, "filename": "hepstats-0.1.3-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "ce72324ac6d7eaf52e4ce78d5d914ab0", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": "!=2.*, >=3.6", "size": 24618, "upload_time": "2019-11-21T13:30:05", "upload_time_iso_8601": "2019-11-21T13:30:05.280142Z", "url": "https://files.pythonhosted.org/packages/23/5f/c08b7fd122f352411d1c360600ebb88d8d68ba16b3f3e2cdf04a17876156/hepstats-0.1.3-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "2be733c8ccfe9c05e4ee81ea93492e91", "sha256": "b71c8ac3791ee35d0506c0f5e691a483d3b07a08dc5be60d8c9c2c20fc8233ea"}, "downloads": -1, "filename": "hepstats-0.1.3.tar.gz", "has_sig": false, "md5_digest": "2be733c8ccfe9c05e4ee81ea93492e91", "packagetype": "sdist", "python_version": "source", "requires_python": "!=2.*, >=3.6", "size": 18269, "upload_time": "2019-11-21T13:30:06", "upload_time_iso_8601": "2019-11-21T13:30:06.554606Z", "url": "https://files.pythonhosted.org/packages/16/60/489e3ea45a968079a05920c0326690b2453e304626296413035535b4eea3/hepstats-0.1.3.tar.gz"}], "0.2.0": [{"comment_text": "", "digests": {"md5": "9161dbaab19545881ada83ae79fef3a6", "sha256": "139c695e81b6371f985ca1e43874649e25ac31215958b3cc356cc5246a041f00"}, "downloads": -1, "filename": "hepstats-0.2.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "9161dbaab19545881ada83ae79fef3a6", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": "!=2.*, >=3.6", "size": 24619, "upload_time": "2019-11-21T15:56:49", "upload_time_iso_8601": "2019-11-21T15:56:49.850344Z", "url": "https://files.pythonhosted.org/packages/fa/ff/5969be7b5462b65f038538ef9d593f413c321fcbb7cbc1b74a71d628f8b5/hepstats-0.2.0-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "73c6880135258cfe819b373f3903e33a", "sha256": "242c94e971a8c1638ad2f8dca786ebb237476abd05485a7c90061fc94591c5a6"}, "downloads": -1, "filename": "hepstats-0.2.0.tar.gz", "has_sig": false, "md5_digest": "73c6880135258cfe819b373f3903e33a", "packagetype": "sdist", "python_version": "source", "requires_python": "!=2.*, >=3.6", "size": 18267, "upload_time": "2019-11-21T15:56:51", "upload_time_iso_8601": "2019-11-21T15:56:51.574070Z", "url": "https://files.pythonhosted.org/packages/9c/94/ca9e822379636f8390c20cc7a74f30265b7beff68e199f391b128c3e2d6d/hepstats-0.2.0.tar.gz"}], "0.2.1": [{"comment_text": "", "digests": {"md5": "d1e71a109a03bfde21a5c10b8e24b956", "sha256": "48572dfac2999dd8126b3f2aca38f2100075faecc88426e48f069c6404e85c8c"}, "downloads": -1, "filename": "hepstats-0.2.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "d1e71a109a03bfde21a5c10b8e24b956", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": "!=2.*, >=3.6", "size": 34885, "upload_time": "2020-02-17T11:01:34", "upload_time_iso_8601": "2020-02-17T11:01:34.783763Z", "url": "https://files.pythonhosted.org/packages/af/3b/bdb6be3132a0d4affc2b9c86c4e2fde8f5ce0d5dd9bced503c2e3854d55f/hepstats-0.2.1-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "646525daba75652147854dc31185f978", "sha256": "ae700e320b1a5d6c45cc28967d9b920117182a118e48bb18fea9073e62a26b7e"}, "downloads": -1, "filename": "hepstats-0.2.1.tar.gz", "has_sig": false, "md5_digest": "646525daba75652147854dc31185f978", "packagetype": "sdist", "python_version": "source", "requires_python": "!=2.*, >=3.6", "size": 27645, "upload_time": "2020-02-17T11:01:36", "upload_time_iso_8601": "2020-02-17T11:01:36.419252Z", "url": "https://files.pythonhosted.org/packages/63/0b/8623b5f5e4fc4fd75e564f6115dac2358092f3d82f5be08a2b9720f5749e/hepstats-0.2.1.tar.gz"}], "0.2.2": [{"comment_text": "", "digests": {"md5": "5e825e07b419a3e9fa17ef2a22c0ce02", "sha256": "f9c709a83786ea5982500bfc06b41d2330f73db3197d0ebf4b8e5cbff1779021"}, "downloads": -1, "filename": "hepstats-0.2.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "5e825e07b419a3e9fa17ef2a22c0ce02", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": "!=2.*, >=3.6", "size": 37553, "upload_time": "2020-03-09T11:14:48", "upload_time_iso_8601": "2020-03-09T11:14:48.352238Z", "url": "https://files.pythonhosted.org/packages/5f/33/f54f183385c63f9b3f677f116159b3c91596e19659ca2c795f7b45422d4b/hepstats-0.2.2-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "64d6b217c07ab8cbe7a824c7473c17cf", "sha256": "c5a474a0b5cb4fa5d1dc06f5b2b3c47a636b6023e1c555b76cc51cde8ed50f68"}, "downloads": -1, "filename": "hepstats-0.2.2.tar.gz", "has_sig": false, "md5_digest": "64d6b217c07ab8cbe7a824c7473c17cf", "packagetype": "sdist", "python_version": "source", "requires_python": "!=2.*, >=3.6", "size": 29619, "upload_time": "2020-03-09T11:14:50", "upload_time_iso_8601": "2020-03-09T11:14:50.094603Z", "url": "https://files.pythonhosted.org/packages/78/d4/bfea7c2651e1392689e0c36a60af56952e1251985adfe625f848e399095b/hepstats-0.2.2.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "5e825e07b419a3e9fa17ef2a22c0ce02", "sha256": "f9c709a83786ea5982500bfc06b41d2330f73db3197d0ebf4b8e5cbff1779021"}, "downloads": -1, "filename": "hepstats-0.2.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "5e825e07b419a3e9fa17ef2a22c0ce02", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": "!=2.*, >=3.6", "size": 37553, "upload_time": "2020-03-09T11:14:48", "upload_time_iso_8601": "2020-03-09T11:14:48.352238Z", "url": "https://files.pythonhosted.org/packages/5f/33/f54f183385c63f9b3f677f116159b3c91596e19659ca2c795f7b45422d4b/hepstats-0.2.2-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "64d6b217c07ab8cbe7a824c7473c17cf", "sha256": "c5a474a0b5cb4fa5d1dc06f5b2b3c47a636b6023e1c555b76cc51cde8ed50f68"}, "downloads": -1, "filename": "hepstats-0.2.2.tar.gz", "has_sig": false, "md5_digest": "64d6b217c07ab8cbe7a824c7473c17cf", "packagetype": "sdist", "python_version": "source", "requires_python": "!=2.*, >=3.6", "size": 29619, "upload_time": "2020-03-09T11:14:50", "upload_time_iso_8601": "2020-03-09T11:14:50.094603Z", "url": "https://files.pythonhosted.org/packages/78/d4/bfea7c2651e1392689e0c36a60af56952e1251985adfe625f848e399095b/hepstats-0.2.2.tar.gz"}]}