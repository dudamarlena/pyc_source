{"info": {"author": "Md Nazrul Islam", "author_email": "email2nazru@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Web Environment", "Framework :: Plone", "Framework :: Plone :: 5.2", "Framework :: Plone :: 5.3", "Framework :: Plone :: Addon", "License :: OSI Approved :: GNU General Public License v2 (GPLv2)", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": ".. image:: https://img.shields.io/pypi/status/plone.app.fhirfield.svg\n    :target: https://pypi.python.org/pypi/plone.app.fhirfield/\n    :alt: Egg Status\n\n.. image:: https://img.shields.io/travis/nazrulworld/collective.fhirpath/master.svg\n    :target: http://travis-ci.org/nazrulworld/collective.fhirpath\n    :alt: Travis Build Status\n\n.. image:: https://coveralls.io/repos/github/nazrulworld/collective.fhirpath/badge.svg?branch=master\n    :target: https://coveralls.io/github/nazrulworld/collective.fhirpath?branch=master\n    :alt: Test Coverage\n\n.. image:: https://img.shields.io/pypi/pyversions/collective.fhirpath.svg\n    :target: https://pypi.python.org/pypi/collective.fhirpath/\n    :alt: Python Versions\n\n.. image:: https://img.shields.io/pypi/v/collective.fhirpath.svg\n    :target: https://pypi.python.org/pypi/collective.fhirpath/\n    :alt: Latest Version\n\n.. image:: https://img.shields.io/pypi/l/collective.fhirpath.svg\n    :target: https://pypi.python.org/pypi/collective.fhirpath/\n    :alt: License\n\n.. image:: https://img.shields.io/badge/code%20style-black-000000.svg\n    :target: https://github.com/ambv/black\n\n\nBackground (collective.fhirpath)\n================================\n\n`fhirpath`_ implementation in Plone, essential battery included, ready to use.\n\n\nInstallation\n------------\n\nInstall collective.fhirpath by adding it to your buildout::\n\n    [buildout]\n    ...\n    eggs +=\n        collective.fhirpath\n\n\nand then running ``bin/buildout``\n\nFrom Plone controlpanel in the addon settings, install ``collective.fhirpath``.\n\nHow It Works\n------------\n\n**``FhirResource`` the fhirfield**\n\nMake sure this specialized field is used properly according to `plone.app.fhirfield`_ documentation.\n\n**Make field indexable**\n\nA specilized Catalog PluginIndexes is named ``FhirFieldIndex`` is available, you will use it as like other catalog indexes.\n\nExample::\n\n    <?xml version=\"1.0\"?>\n    <object name=\"portal_catalog\" meta_type=\"Plone Catalog Tool\">\n        <index name=\"organization_resource\" meta_type=\"FhirFieldIndex\">\n            <indexed_attr value=\"organization_resource\"/>\n        </index>\n    </object>\n\n**Elasticsearch settings**\n\nMake sure elasticsearch has been configured accourding to `collective.elasticsearch`_ docs.\n\n\nUsages\n~~~~~~\n\nFHIR Search::\n    >>> from fhirpath.enums import FHIR_VERSION\n    >>> from fhirpath.interfaces import IElasticsearchEngineFactory\n    >>> from fhirpath.interfaces import IFhirSearch\n    >>> from fhirpath.interfaces import ISearchContextFactory\n    >>> from plone import api\n    >>> from collective.elasticsearch.es import ElasticSearchCatalog\n    >>> from zope.component import queryMultiAdapter\n\n    >>> es_catalog = ElasticSearchCatalog(api.portal.get_tool(\"portal_catalog\"))\n    >>> factory = queryMultiAdapter(\n    ....        (es_catalog,), IElasticsearchEngineFactory\n    .... )\n    >>> engine = factory(fhir_version=FHIR_VERSION.STU3)\n    >>> search_context = queryMultiAdapter((engine,), ISearchContextFactory)(\n    .... resource_type, unrestricted=False)\n    >>> search_factory = queryMultiAdapter((search_context,), IFhirSearch)\n\n    >>> params = (\n    ....        (\"_profile\", \"http://hl7.org/fhir/Organization\"),\n    ....        (\"identifier\", \"urn:oid:2.16.528.1|91654\"),\n    ....        (\"type\", \"http://hl7.org/fhir/organization-type|prov\"),\n    ....        (\"address-postalcode\", \"9100 AA\"),\n    ....        (\"address\", \"Den Burg\"),\n    ....    )\n    >>> bundle = search_factory(params)\n    >>> len(bundle.entry)\n    2\n    >>> # with query string.\n    >>> # query_string = self.request[\"QUERY_STRING]\n    >>> query_string = \"_profile=http://hl7.org/fhir/Organization&identifier=urn:oid:2.16.528.1|91654&type=http://hl7.org/fhir/organization-type|prov&address-postalcode=9100+AA\"\n    >>> bundle = search_factory(query_string=query_string)\n    >>> len(bundle.entry)\n    2\n\nZCatlog FHIR Search::\n    >>> from collective.fhirpath.interfaces import IZCatalogFhirSearch\n    >>> zcatalog_factory = queryMultiAdapter((search_context,), IZCatalogFhirSearch)\n\n    >>> # with query string.\n    >>> # query_string = self.request[\"QUERY_STRING]\n    >>> query_string = \"_profile=http://hl7.org/fhir/Organization&identifier=urn:oid:2.16.528.1|91654&type=http://hl7.org/fhir/organization-type|prov&address-postalcode=9100+AA\"\n    >>> brains = zcatalog_factory(query_string=query_string)\n    >>> len(brains)\n    2\n\nFHIR Query::\n    >>> from fhirpath.enums import FHIR_VERSION\n    >>> from fhirpath.interfaces import IElasticsearchEngineFactory\n    >>> from fhirpath.interfaces import IFhirSearch\n    >>> from fhirpath.interfaces import ISearchContextFactory\n    >>> from plone import api\n    >>> from collective.elasticsearch.es import ElasticSearchCatalog\n    >>> from zope.component import queryMultiAdapter\n    >>> from fhirpath.query import Q_\n    >>> from fhirpath.fql import T_\n    >>> from fhirpath.fql import sort_\n    >>> from fhirpath.enums import SortOrderType\n\n    >>> es_catalog = ElasticSearchCatalog(api.portal.get_tool(\"portal_catalog\"))\n    >>> factory = queryMultiAdapter(\n    ....        (es_catalog,), IElasticsearchEngineFactory\n    .... )\n    >>> engine = factory(fhir_version=FHIR_VERSION.STU3)\n    >>> query_builder = Q_(resource=\"Organization\", engine=engine)\n    ....    query_builder = query_builder.where(\n    ....        T_(\"Organization.meta.profile\", \"http://hl7.org/fhir/Organization\")\n    ....    ).sort(sort_(\"Organization.meta.lastUpdated\", SortOrderType.DESC))\n\n    >>> result = query_builder(async_result=False, unrestricted=True).fetchall()\n    >>> result.header.total\n    2\n    >>> query_result = query_builder(async_result=False, unrestricted=True)\n    >>> for resource in query_result:\n    ....        count += 1\n    ....        assert resource.__class__.__name__ == \"OrganizationModel\"\n\n    >>> query_builder = Q_(resource=\"Organization\", engine=engine)\n    >>> query_builder = query_builder.where(T_(\"Organization.id\", \"f001\"))\n    >>> result_query = query_builder(async_result=False, unrestricted=True)\n    >>> resource = result_query.single()\n    >>> resource is not None\n    True\n\n    >>> query_builder = Q_(resource=\"Organization\", engine=engine)\n    >>> query_builder = query_builder.where(\n    ....        T_(\"Organization.meta.profile\", \"http://hl7.org/fhir/Organization\")\n    ....    )\n    >>> result_query = builder(async_result=False, unrestricted=True)\n    >>> result = result_query.first()\n    >>> isinstance(result, result_query._query.get_from()[0][1])\n    True\n\n\nDocumentation\n-------------\n\nFull documentation for end users can be found in the \"docs\" folder,\nand is also available online at https://collective-fhirpath.readthedocs.io/\n\n\n\nContribute\n----------\n\n- Issue Tracker: https://github.com/nazrulworld/collective.fhirpath/issues\n- Source Code: https://github.com/nazrulworld/collective.fhirpath\n- Documentation: https://collective-fhirpath.readthedocs.io/\n\n\nSupport\n-------\n\nIf you are having issues, please let us know at: Md Nazrul Islam<email2nazrul@gmail.com>\n\n\nLicense\n-------\n\nThe project is licensed under the GPLv2.\n\n.. _`elasticsearch`: https://www.elastic.co/products/elasticsearch\n.. _`fhirpath`: https://pypi.org/project/fhirpath/\n.. _`PostgreSQL`: https://www.postgresql.org/\n.. _`plone.app.fhirfield`: https://pypi.org/project/plone.app.fhirfield/\n.. _`collective.elasticsearch`: https://pypi.org/project/collective.elasticsearch/\n\n\n.. _restapi_examples_doctest:\n\nREST Client Examples\n--------------------\n\nGetting single resource, here we are getting Patient resource by ID.\n\nExample(1)::\n\n    >>> response = admin_session.get('/@fhir/Patient/19c5245f-89a8-49f8-b244-666b32adb92e')\n    >>> response.status_code\n    200\n    <BLANKLINE>\n    >>> response.json()['resourceType'] == 'Patient'\n    True\n    <BLANKLINE>\n    >>> response = admin_session.get('/@fhir/Patient/19c5245f-fake-id')\n    >>> response.status_code\n    404\n    <BLANKLINE>\n\n\nSearch Observation by Patient reference with status condition. Any observation until December 2017 and earlier than January 2017.\n\nExample(2)::\n\n    >>> response = admin_session.get('/@fhir/Observation?patient=Patient/19c5245f-89a8-49f8-b244-666b32adb92e&status=final&_lastUpdated=lt2017-12-31T00%3A00%3A00%2B00%3A00&_lastUpdated=gt2017-01-01T00%3A00%3A00%2B00%3A00')\n    >>> response.status_code\n    200\n    >>> response.json()[\"total\"]\n    1\n    <BLANKLINE>\n\n\nAdd FHIR Resource through REST API\n\nExample(3)::\n\n    >>> import os\n    >>> import json\n    >>> import uuid\n    >>> import DateTime\n    >>> import time\n\n    >>> with open(os.path.join(FIXTURE_PATH, 'Patient.json'), 'r') as f:\n    ...     fhir_json = json.load(f)\n\n    >>> fhir_json['id'] = str(uuid.uuid4())\n    >>> fhir_json['name'][0]['text'] = 'Another Patient'\n    >>> response = admin_session.post('/@fhir/Patient', json=fhir_json)\n    >>> response.status_code\n    201\n    >>> time.sleep(1)\n    >>> response = admin_session.get('/@fhir/Patient?active=true')\n    >>> response.json()[\"total\"]\n    2\n\n\nUpdate (PATCH) FHIR Resource the Patient is currently activated, we will deactive.\n\nExample(4)::\n\n    >>> patch = [{'op': 'replace', 'path': '/active', 'value': False}]\n    >>> response = admin_session.patch('/@fhir/Patient/19c5245f-89a8-49f8-b244-666b32adb92e', json={'patch': patch})\n    >>> response.status_code\n    204\n    <BLANKLINE>\n\n\nContributors\n============\n\n- Md Nazrul Islam, email2nazrul@gmail.com (author)\n\n\nChangelog\n=========\n\n\n0.3.0 (2019-11-10)\n------------------\n\nImprovements\n\n- ZCatalog featured fhir search added, from which you will get ZCatalog\u00b4s brain feature.\n\n- ``FhirFieldIndex`` named PluginIndex is now available.\n\n- FHIR ``STU3``and ``R4`` search mapping is now available.\n\n- Others improvements that make able to use in production project (of course without guarantee.)\n\n\n0.2.0 (2019-09-16)\n------------------\n\n- first working versions, with lots of improvements.\n\n\n0.1.0 (2019-09-06)\n------------------\n\n- Initial release.\n  [nazrulworld]\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/collective/collective.fhirpath", "keywords": "Python Plone FHIR Healthcare HL7", "license": "GPL version 2", "maintainer": "", "maintainer_email": "", "name": "collective.fhirpath", "package_url": "https://pypi.org/project/collective.fhirpath/", "platform": "", "project_url": "https://pypi.org/project/collective.fhirpath/", "project_urls": {"Documentation": "https://collective-fhirpath.readthedocs.io/en/latest/", "Homepage": "https://github.com/collective/collective.fhirpath", "PyPI": "https://pypi.python.org/pypi/collective.fhirpath", "Source": "https://github.com/collective/collective.fhirpath", "Tracker": "https://github.com/collective/collective.fhirpath/issues"}, "release_url": "https://pypi.org/project/collective.fhirpath/0.3.0/", "requires_dist": ["setuptools", "z3c.jbot", "plone.api (>=1.8.4)", "plone.restapi", "plone.app.dexterity", "collective.elasticsearch", "plone.app.fhirfield", "fhirpath (>=0.4.1)", "sphinx ; extra == 'docs'", "sphinx-rtd-theme ; extra == 'docs'", "sphinxcontrib-httpdomain ; extra == 'docs'", "sphinxcontrib-httpexample ; extra == 'docs'", "plone.app.testing ; extra == 'test'", "plone.testing (>=7.0.1) ; extra == 'test'", "plone.app.contenttypes ; extra == 'test'", "plone.app.robotframework[debug] ; extra == 'test'", "collective.MockMailHost ; extra == 'test'", "sphinx ; extra == 'test'", "sphinx-rtd-theme ; extra == 'test'", "sphinxcontrib-httpdomain ; extra == 'test'", "sphinxcontrib-httpexample ; extra == 'test'"], "requires_python": ">=3.6", "summary": "Plone powered provider for fhirpath", "version": "0.3.0"}, "last_serial": 6110901, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "f1bb91c2d77d72bbb85c8e4f4c862c99", "sha256": "6022976508f37cdfe546056d6f65be5badd118e7f4e2874b7642125cca4bca8b"}, "downloads": -1, "filename": "collective.fhirpath-0.1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "f1bb91c2d77d72bbb85c8e4f4c862c99", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.6", "size": 29482, "upload_time": "2019-09-06T17:34:01", "upload_time_iso_8601": "2019-09-06T17:34:01.230777Z", "url": "https://files.pythonhosted.org/packages/37/a1/8b0296435597945b550ddd01e95ba4f89b5525e2dbccb3c46e9404467a75/collective.fhirpath-0.1.0-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "02da40068e9f6446b6fa015f040db6af", "sha256": "8779f416f29f68c87043e33d2dbc0abbd6814ae614608a126cb2c085defeb3e1"}, "downloads": -1, "filename": "collective.fhirpath-0.1.0.tar.gz", "has_sig": false, "md5_digest": "02da40068e9f6446b6fa015f040db6af", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 23109, "upload_time": "2019-09-06T17:34:16", "upload_time_iso_8601": "2019-09-06T17:34:16.278839Z", "url": "https://files.pythonhosted.org/packages/41/cc/8aa91aab1b049165306821da20f22b2474889be56d9338edb77b9c286820/collective.fhirpath-0.1.0.tar.gz"}], "0.2.0": [{"comment_text": "", "digests": {"md5": "68dacb2f18bd0adf189ea6402a3565a3", "sha256": "ec63e18ee468bb611ae3bbbd93f4903cb6dbb342af6970db9083135b8101aea9"}, "downloads": -1, "filename": "collective.fhirpath-0.2.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "68dacb2f18bd0adf189ea6402a3565a3", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.6", "size": 30909, "upload_time": "2019-09-16T17:43:16", "upload_time_iso_8601": "2019-09-16T17:43:16.970494Z", "url": "https://files.pythonhosted.org/packages/e5/47/29cc0714f1e799dad8455651fee51d20c508dd335307c5717945dc46460c/collective.fhirpath-0.2.0-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "d6922f327592b3c4439a3cee193a82c3", "sha256": "0aab12a7b067d670d35b9129129238e19cce8134903dc239a0248bf518f45d9b"}, "downloads": -1, "filename": "collective.fhirpath-0.2.0.tar.gz", "has_sig": false, "md5_digest": "d6922f327592b3c4439a3cee193a82c3", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 25576, "upload_time": "2019-09-16T17:43:19", "upload_time_iso_8601": "2019-09-16T17:43:19.228260Z", "url": "https://files.pythonhosted.org/packages/23/39/8e667c3f89fcfacf40dd14b55a53274a918c630972516870b2f68ac44d2a/collective.fhirpath-0.2.0.tar.gz"}], "0.3.0": [{"comment_text": "", "digests": {"md5": "ffa1b145a7092eea1865299a513e73f0", "sha256": "525bfec708770b60b0f65ac2658fbc4d5a2f7638f2ee512920d9b49d6ce092a2"}, "downloads": -1, "filename": "collective.fhirpath-0.3.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "ffa1b145a7092eea1865299a513e73f0", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.6", "size": 323744, "upload_time": "2019-11-10T07:53:59", "upload_time_iso_8601": "2019-11-10T07:53:59.322586Z", "url": "https://files.pythonhosted.org/packages/9f/1f/fc8523b2d83ef0e876618c9d494619a86ab9050084e720d18ce941e8c99c/collective.fhirpath-0.3.0-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "fd676a1e80b75d14614e5952cd0ee288", "sha256": "4a9b36beb3dd7197d58e29075dd94f479bf66e8714eb91a122723e25aaecab1a"}, "downloads": -1, "filename": "collective.fhirpath-0.3.0.tar.gz", "has_sig": false, "md5_digest": "fd676a1e80b75d14614e5952cd0ee288", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 140945, "upload_time": "2019-11-10T07:54:01", "upload_time_iso_8601": "2019-11-10T07:54:01.414918Z", "url": "https://files.pythonhosted.org/packages/ae/33/84c7efd22ba12aa0ca11438d9eeb93680ec801c2e4a370c81a8c256e11b1/collective.fhirpath-0.3.0.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "ffa1b145a7092eea1865299a513e73f0", "sha256": "525bfec708770b60b0f65ac2658fbc4d5a2f7638f2ee512920d9b49d6ce092a2"}, "downloads": -1, "filename": "collective.fhirpath-0.3.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "ffa1b145a7092eea1865299a513e73f0", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.6", "size": 323744, "upload_time": "2019-11-10T07:53:59", "upload_time_iso_8601": "2019-11-10T07:53:59.322586Z", "url": "https://files.pythonhosted.org/packages/9f/1f/fc8523b2d83ef0e876618c9d494619a86ab9050084e720d18ce941e8c99c/collective.fhirpath-0.3.0-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "fd676a1e80b75d14614e5952cd0ee288", "sha256": "4a9b36beb3dd7197d58e29075dd94f479bf66e8714eb91a122723e25aaecab1a"}, "downloads": -1, "filename": "collective.fhirpath-0.3.0.tar.gz", "has_sig": false, "md5_digest": "fd676a1e80b75d14614e5952cd0ee288", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 140945, "upload_time": "2019-11-10T07:54:01", "upload_time_iso_8601": "2019-11-10T07:54:01.414918Z", "url": "https://files.pythonhosted.org/packages/ae/33/84c7efd22ba12aa0ca11438d9eeb93680ec801c2e4a370c81a8c256e11b1/collective.fhirpath-0.3.0.tar.gz"}]}