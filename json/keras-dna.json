{"info": {"author": "Etienne Routhier", "author_email": "etienne.routhier@upmc.fr", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6"], "description": "# Keras_dna: simplifying deep genomics\n\n![Keras_dna logo](/docs/favicon.ico)\n\n[![license](https://img.shields.io/github/license/mashape/apistatus.svg?maxAge=2592000)](https://github.com/etirouthier/keras_dna/LICENSE)\n\n## Description:\n\nKeras_dna is an API that helps quick experimentation in applying deep learning to genomics. It enables to quickly feed a keras model (tensorflow) with genomic data without the need of laborious file convertion and storing tremendous amount of converted data. It reads the most commun bioinformatics file types and create a generator adapted to a keras model.\n\nUse Keras_dna if you need a library that:\n\n- Allows fast usage of standard bioinformatics data to feed a keras model (nowaday standard for tensorflow).\n- Is able to adapt to the needed format of data.\n- Facilitates the standard evaluation of a model with genomics data (correlation, AUPRC, AUROC)\n\nRead the documentation at [keras_dna](https://keras-dna.readthedocs.io).\n\nKeras is compatible with: __Python 3.6__.\n\n\n------------------\n\n## Guiding principles:\n\n- Fournishing a simplified API to create generator of genomical data.\n\n- Reading the DNA sequence directly and effectively in fasta file to discard the need of storing huge amounts of data.\n\n- Generating the DNA sequence corresponding to the desired annotation (can be sparse annotation or continuous), passed with standard bioinformatic files (gff, bed, bigWig, bedGraph).\n\n- Easily adapt to the type of annotation, their number, the number of different cell type or species.\n\n------------------\n\n\n## Getting started:\n\nThe core data structures of Keras_dna are a __generator__, to feed the keras model with genomical data, and a __modelwrapper__ to attach a keras model to its keras_dna generator.\n\n`Generator` is able to create batch of DNA sequence corresponding to the desired annotation.\n\nFirst example, a `Generator` that will return DNA subsequences corresponding to a given function (here binding site) as positive class and subsequences far away as negative class. The DNA sequence is fournished through a fasta file and the annotation is fournished with a gff file (could have been a bed), the DNA is one-hot-encoded, the function names that we want to target need to be passed in a list.\n\n```python\nfrom keras_dna import Generator\n\ngenerator = Generator(batch_size=64,\n                      fasta_file='species.fa',\n                      annotation_files=['annotation.gff'],\n                      annotation_list=['binding site'])\n```\n\nSecond example, a `Generator` for continuous annotation, this time the file is a bigWig file (it can also be passed with a wig or a bedGraph, but then a file containing the size of chromosome need to be passed as size), the length of desired window need to be passed. This generator will generate all the window of length 100 in the DNA and will label it with the coverage at the center nucleotid.\n\n```python\nfrom keras_dna import Generator\n\ngenerator = Generator(batch_size=64,\n                      fasta_file='species.fa',\n                      annotation_files=['annotation.bw'],\n                      window=100)\n```\n`Generator` owns a lot of keywords to adapt the format of the data both to the keras model and to our task (predicting the sequence function in different cellular type, choosing between several different functions, adding a secondary input, adding a secondary target...)\n\n\n`ModelWrapper` is a class designed to unify a keras model to its generator  in order to simplify further usage of the model (prediction, evaluation). \n\n```python\nfrom keras_dna import ModelWrapper, Generator\nfrom tensorflow.keras.models import Sequential()\n\ngenerator = Generator(batch_size=64,\n                      fasta_file='species.fa',\n                      annotation_files=['annotation.bw'],\n                      window=100)\n\nmodel = Sequential()\n### the model need to be compiled\nmodel.compile(loss='mse', optimizer='adam')\n\nwrapper = ModelWrapper(model=model,\n                       generator_train=generator)\n```\n\nTrain the model with `.train()`\n```python\nwrapper.train(epochs=10)\n```\n\nEvaluate the model on a chromosome with `.evaluate()`\n```python\nwrapper.evaluate(incl_chromosomes=['chr1'])\n```\n\nPredict on a chromosome with `.predict()`\n```python\nwrapper.predict(incl_chromosomes=['chr1'], chrom_size='species.chrom.sizes')\n```\n\nSave the wrapper in hdf5 with `.save()`\n```python\nwrapper.save(path='./path/to/wrapper', save_model=True)\n```\n\n------------------\n\n\n## Installation:\n\n\n**Dependencies**:\n\n- pandas\n- numpy\n- pybedtools\n- pyBigWig\n- kipoi\n- kipoiseq\n- tensorflow 2\n\n We also strongly advice to install [genomelake](https://github.com/kundajelab/genomelake) for fast reading in fasta file. \n\n - **Install Keras_dna from PyPI:**\n\nNote: These installation steps assume that you are on a Linux or Mac environment.\nIf you are on Windows, you will need to remove `sudo` to run the commands below.\n\n```sh\nsudo pip install keras_dna\n```\n\nIf you are using a virtualenv, you may want to avoid using sudo:\n\n```sh\npip install keras_dna\n```\n\nNote that libcurl (and the `curl-config` command) are required for installation. This is typically already installed on many Linux and OSX systems (this is also available easily if using a conda env).\n\n\n- **Alternatively: install Keras_dna from the GitHub source:**\n\nFirst, clone Keras using `git`:\n\n```sh\ngit clone https://github.com/etirouthier/keras_dna.git\n```\n\n Then, `cd` to the Keras_dna folder and run the install command:\n```sh\ncd keras_dna\nsudo python setup.py install\n```\n\n------------------\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/etirouthier/keras_dna", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "keras-dna", "package_url": "https://pypi.org/project/keras-dna/", "platform": "", "project_url": "https://pypi.org/project/keras-dna/", "project_urls": {"Homepage": "https://github.com/etirouthier/keras_dna"}, "release_url": "https://pypi.org/project/keras-dna/0.0.3/", "requires_dist": ["tensorflow (>=2.1.0)", "numpy", "pandas", "kipoi", "kipoiseq", "pyBigWig", "pybedtools"], "requires_python": "", "summary": "Build keras generator for genomic application", "version": "0.0.3"}, "last_serial": 6975981, "releases": {"0.0.3": [{"comment_text": "", "digests": {"md5": "6e2433002484bc21e946c25ea5f4ca6e", "sha256": "3dfc6cc060b81226040838f04dee79b9f4762369ee26bcafedc35256d4a0ab57"}, "downloads": -1, "filename": "keras_dna-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "6e2433002484bc21e946c25ea5f4ca6e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 34362, "upload_time": "2020-04-08T08:33:39", "upload_time_iso_8601": "2020-04-08T08:33:39.073031Z", "url": "https://files.pythonhosted.org/packages/6c/4c/90cce5eced3fa24d2a8bbea9f7fa81c5b821bb658ee6310fd92ff649aef2/keras_dna-0.0.3-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "ee44fbee50ce93795a708612c5dd45f7", "sha256": "321241381ef1a96096f3156045c8318f15ab555ebf6ba8a01dfc829e701737d2"}, "downloads": -1, "filename": "keras_dna-0.0.3.tar.gz", "has_sig": false, "md5_digest": "ee44fbee50ce93795a708612c5dd45f7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 29595, "upload_time": "2020-04-08T08:33:41", "upload_time_iso_8601": "2020-04-08T08:33:41.273263Z", "url": "https://files.pythonhosted.org/packages/23/56/560713f7ec0d6435a62cf7272f636f6860400e9e48f511a8a1eb5b516380/keras_dna-0.0.3.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "6e2433002484bc21e946c25ea5f4ca6e", "sha256": "3dfc6cc060b81226040838f04dee79b9f4762369ee26bcafedc35256d4a0ab57"}, "downloads": -1, "filename": "keras_dna-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "6e2433002484bc21e946c25ea5f4ca6e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 34362, "upload_time": "2020-04-08T08:33:39", "upload_time_iso_8601": "2020-04-08T08:33:39.073031Z", "url": "https://files.pythonhosted.org/packages/6c/4c/90cce5eced3fa24d2a8bbea9f7fa81c5b821bb658ee6310fd92ff649aef2/keras_dna-0.0.3-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "ee44fbee50ce93795a708612c5dd45f7", "sha256": "321241381ef1a96096f3156045c8318f15ab555ebf6ba8a01dfc829e701737d2"}, "downloads": -1, "filename": "keras_dna-0.0.3.tar.gz", "has_sig": false, "md5_digest": "ee44fbee50ce93795a708612c5dd45f7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 29595, "upload_time": "2020-04-08T08:33:41", "upload_time_iso_8601": "2020-04-08T08:33:41.273263Z", "url": "https://files.pythonhosted.org/packages/23/56/560713f7ec0d6435a62cf7272f636f6860400e9e48f511a8a1eb5b516380/keras_dna-0.0.3.tar.gz"}]}