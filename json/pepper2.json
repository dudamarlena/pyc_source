{"info": {"author": "Dan Trickey", "author_email": "dan@trickey.io", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Software Development :: Libraries :: Python Modules", "Typing :: Typed"], "description": "# pepper2\n\n[![CircleCI](https://circleci.com/gh/trickeydan/pepper2.svg?style=svg)](https://circleci.com/gh/trickeydan/pepper2)\n[![Test Coverage](https://api.codeclimate.com/v1/badges/c99dfbefd260764d8875/test_coverage)](https://codeclimate.com/github/trickeydan/pepper2/test_coverage)\n[![Maintainability](https://api.codeclimate.com/v1/badges/c99dfbefd260764d8875/maintainability)](https://codeclimate.com/github/trickeydan/pepper2/maintainability)\n[![MIT license](https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat)](https://opensource.org/licenses/MIT)\n![Bees](https://img.shields.io/badge/bees-110%25-yellow.svg)\n\nRobot Management Daemon\n\n## Dependencies\n\nSome of the dependencies for pepper2 are not available on PyPI.\n\n- D-Bus\n  - Tested on 1.12.16+\n- [GLib](https://developer.gnome.org/glib/) 2.46+\n- [girepository](https://wiki.gnome.org/Projects/GObjectIntrospection) 1.46+\n- Python 3.6+\n- UDisks2\n  - Tested on 2.8.1+\n- udiskie or similar automounting daemon that uses udisks2.\n  - Tested on 1.7.7\n\nThese packages can usually be found on systems with a desktop interface anyway.\n\n[Instructions for setting up a Debian 10 system](docs/DEBIAN.md) are included in this repo.\n\n## Running\n\nThere are two programs in this repo, with shared code between them.\n\n- `pepperctl`\n    - CLI tool that talks to pepperd over D-Bus.\n- `pepperd`\n    - Daemon that sits on the System Bus\n    - Listens for mount and cleanup events from UDisks\n    - Registers the USBs.\n    - Triggers run and stop events for USBs, based on a set of conditions.\n    \nIn order to run `pepperd`, we need to tell D-Bus that we have permission to create a service on the System Bus.\nThis can be done by placing a config file in `/etc/dbus-1/uk.org.j5.pepper2.conf`.\nAn example config file is included in this repository: [uk.org.j5.pepper2.conf](uk.org.j5.pepper2.conf).\n\n## Usage\n\n`pepperd` should be run in the background as a daemon using systemd.\n\nUSB drives should be automounted, and pepper2 will detect the new drive via Udisks.\n\nUsercode `main.py` on the drive will begin execution, `stdout` and `stderr` will be logged to `log.txt`.\n\n- View daemon status: `pepperctl status`\n- View usercode status: `pepperctl usercode status`\n- Kill usercode: `pepperctl usercode kill`\n- Start usercode on already inserted drive: `pepperctl usercode start`\n- View live log of usercode: `journalctl -ft pepper2-usercode`\n\n## Future Development\n\n![pepper2 Entity Diagram](docs/pepper2.svg)\n\nThe above diagram shows how a typical system using `pepper2` would work.\n\n### Core Components\n\nCore Components are essential to use `pepper2`. They are all included in this repo.\n\n- `pepper2`\n    - Python library to interact with `pepper2-daemon`\n    - Abstracts D-Bus from the user.\n- `pepper2-daemon`\n    - Daemon that listens for events from UDisks2.\n    - Performs actions based on conditions defined in a config.\n        - Manages a usercode process\n    - Provides \"metadata\" that can be accessed.\n        - e.g `USERCODE_DIR`, `ARENA`, `START_TRIGGER_STATE`\n- `pepper2-cli`\n    - Simple wrapper around `pepper2`\n    - Allows control of daemon from CLI for debugging and bash scripts.\n\n## Additional Components\n\n- `pepper2-usercode`\n    - Common components that may be useful for usercode processes to interact with `pepper2`\n    - For example, wait for start.\n- `pepper2-leds`\n    - Listens to signal events from `pepper2-daemon` and manipulates GPIO pins according to a config.\n- `pepper2-servohack`\n    - Listens to signal events from `pepper2-daemon` and resets the USB bus. Workaround for [bug in SR SBv4](https://github.com/srobo/servo-v4-fw/issues/7)\n\n## Development Resources\n\nThis program makes heavy use of D-Bus, which is not the simplest thing in the world to understand.\n\n- [DBus Overview](https://pythonhosted.org/txdbus/dbus_overview.html)\n- [D-Feet](https://github.com/GNOME/d-feet)\n\n## Contributions\n\nThis project is released under the MIT Licence. For more information, please see LICENSE.\n\nThe CONTRIBUTORS file can be generated by executing CONTRIBUTORS.gen. This generated file contains a list of people who have contributed to Pepper2.\n\n## Etymology\n\nNo, it's not version 2.\n\nSpelling is `pepper2`, much like `j5`. No capitals necessary.\n\n![Wouldn't you like to be a pepper too?](https://i.imgur.com/B2BBwz1.gif)\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "pepper2", "package_url": "https://pypi.org/project/pepper2/", "platform": "", "project_url": "https://pypi.org/project/pepper2/", "project_urls": {"Documentation": "https://readthedocs.io", "Homepage": "https://github.com/", "Repository": "https://github.com/"}, "release_url": "https://pypi.org/project/pepper2/0.1.0a2/", "requires_dist": ["click (>=7.0,<8.0)", "systemd-python (>=234.0,<235.0)", "pydbus (>=0.6.0,<0.7.0)", "pygobject (>=3.32,<4.0)"], "requires_python": ">=3.6,<4.0", "summary": "Robot Management Daemon", "version": "0.1.0a2"}, "last_serial": 6479195, "releases": {"0.1.0a1": [{"comment_text": "", "digests": {"md5": "0620eddf207bf8520944f4229227e956", "sha256": "94a5f86af48e0e8bf7bb7c0b89c7130690c200b09091241dd15a1e75d0dcd908"}, "downloads": -1, "filename": "pepper2-0.1.0a1-py3-none-any.whl", "has_sig": false, "md5_digest": "0620eddf207bf8520944f4229227e956", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 19833, "upload_time": "2020-01-07T18:24:07", "upload_time_iso_8601": "2020-01-07T18:24:07.112975Z", "url": "https://files.pythonhosted.org/packages/5f/f6/7f38220b434b6b5250c4812d63346a070d5f852514ac535ac068e5343e70/pepper2-0.1.0a1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "227cc287e8b5c0c5318471adcc0b6e71", "sha256": "b7255ac9b4f5554665bc7aa87e12984aee18b02c7a282850dd10d3a16d72fbda"}, "downloads": -1, "filename": "pepper2-0.1.0a1.tar.gz", "has_sig": false, "md5_digest": "227cc287e8b5c0c5318471adcc0b6e71", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 15292, "upload_time": "2020-01-07T18:24:09", "upload_time_iso_8601": "2020-01-07T18:24:09.062185Z", "url": "https://files.pythonhosted.org/packages/67/30/8a50db257e7fba353182fa2a79fb77093c7833d80896bc193c062949e387/pepper2-0.1.0a1.tar.gz"}], "0.1.0a2": [{"comment_text": "", "digests": {"md5": "d175508b288144e061e39024f0b66bda", "sha256": "a2d7b7b585ee00097e1e867f6e1038fb43afeacdbd24d6b8101fe72f9b111fa7"}, "downloads": -1, "filename": "pepper2-0.1.0a2-py3-none-any.whl", "has_sig": false, "md5_digest": "d175508b288144e061e39024f0b66bda", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 25909, "upload_time": "2020-01-18T19:04:28", "upload_time_iso_8601": "2020-01-18T19:04:28.299513Z", "url": "https://files.pythonhosted.org/packages/37/75/acd4058d96710ab033694068c399556c521703c0c20eeb95de4fc1b4422b/pepper2-0.1.0a2-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "66f243f8de8d9b4a1486d166aa6fa1a6", "sha256": "94ebe14ccfb578a99b2210aeee7f3ad0645149a2737823cb6cdd853cad4b8bf8"}, "downloads": -1, "filename": "pepper2-0.1.0a2.tar.gz", "has_sig": false, "md5_digest": "66f243f8de8d9b4a1486d166aa6fa1a6", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 18647, "upload_time": "2020-01-18T19:04:30", "upload_time_iso_8601": "2020-01-18T19:04:30.162426Z", "url": "https://files.pythonhosted.org/packages/5f/0c/3570e228b041fc5b69e67053a29a8922d8da033fd648c417c9f23e9ccc26/pepper2-0.1.0a2.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "d175508b288144e061e39024f0b66bda", "sha256": "a2d7b7b585ee00097e1e867f6e1038fb43afeacdbd24d6b8101fe72f9b111fa7"}, "downloads": -1, "filename": "pepper2-0.1.0a2-py3-none-any.whl", "has_sig": false, "md5_digest": "d175508b288144e061e39024f0b66bda", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 25909, "upload_time": "2020-01-18T19:04:28", "upload_time_iso_8601": "2020-01-18T19:04:28.299513Z", "url": "https://files.pythonhosted.org/packages/37/75/acd4058d96710ab033694068c399556c521703c0c20eeb95de4fc1b4422b/pepper2-0.1.0a2-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "66f243f8de8d9b4a1486d166aa6fa1a6", "sha256": "94ebe14ccfb578a99b2210aeee7f3ad0645149a2737823cb6cdd853cad4b8bf8"}, "downloads": -1, "filename": "pepper2-0.1.0a2.tar.gz", "has_sig": false, "md5_digest": "66f243f8de8d9b4a1486d166aa6fa1a6", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 18647, "upload_time": "2020-01-18T19:04:30", "upload_time_iso_8601": "2020-01-18T19:04:30.162426Z", "url": "https://files.pythonhosted.org/packages/5f/0c/3570e228b041fc5b69e67053a29a8922d8da033fd648c417c9f23e9ccc26/pepper2-0.1.0a2.tar.gz"}]}