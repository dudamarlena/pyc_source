{"info": {"author": "Mercadona", "author_email": "sofware.online@mercadona.es", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django :: 2.0", "Framework :: Django :: 2.1", "Framework :: Django :: 2.2", "Framework :: Django :: 3.0", "Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Natural Language :: English", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# Post office django client\n\n[![image](https://circleci.com/gh/mercadona/postoffice_django/tree/master.svg?style=svg)](https://circleci.com/gh/mercadona/postoffice_django/tree/master) [![image](https://badge.fury.io/py/postoffice-django.svg)](https://badge.fury.io/py/postoffice-django)\n\n## What is postoffice django\n\n`postoffice_django` is a django app to communicate with [postoffice](<https://github.com/lonamiaec/postoffice/>).\n\n## Features\n\n- Set up server via django commands:\n  - Create necessary `topics` in `postoffice` with `configure_postoffice_publishers` to be able to publish a message\n  - Create necessary `publishers` in `postoffice` with `configure_postoffice_topics` to be able to consume messages\n- Easily send messages to `postoffice server`\n\n## How to install it\n\n### Prerequisites\n\nTo be able to run the application, you must have\n\n  - django\n  - requests\n\nObviously, you need a django project up and running\n\n### Installing postoffice_django\n\nAt the moment there are two ways to install the app:\n\n```bash\n$ pip install postoffice-django\n```\n\nor add\n\n```txt\npostoffice-django\n```\n\nto your requirements file\n\nAdd it to your Django installed apps:\n\n\n```python\nINSTALLED_APPS = [\n    ...\n    'postoffice_django'\n]\n```\n\nThen, you need to set the required settings for your app:\n\n```python\nPOSTOFFICE = {\n    'URL': 'http://fake.service',\n    'CONSUMERS': [{\n            'topic': 'some_topic',\n            'target': 'http://www.some_url.com',\n            'type': 'http',\n            'from_now': True\n        },\n        {\n            'topic': 'another_topic',\n            'target': 'http://www.another_url.com',\n            'type': 'pubsub',\n            'from_now': False\n        }],\n    'TIMEOUT': 0.3,\n    'ORIGIN_HOST': 'example.com',\n    'TOPICS': ['topic_to_create', 'another_topic_to_create']\n}\n```\n- `URL`: Is the `url` where the Postoffice server is hosted.\n\n- `CONSUMERS`: Are the consumers which must been configured as publishers in Postoffice server. With that, we create the necessary topics and publishers on Postoffice.\n\n    - `topic`: Topic name to the consumer\n\n    - `target`: Url or pub/sub topic name\n\n    - `type`: http/pubsub\n\n- `TIMEOUT`: Specific timeout to use in every communication with Postoffice. If not specified, the default value is 0.5 seconds.\n\n- `ORIGIN_HOST`: The host from where the topic is created (your host).  It is necessary in order to `postoffice` know where the topic come from.\n\n- `TOPICS`: Topics to be created in order to send messages to `postoffice`\n\n## How to setup Postoffice via django commands\n\nNow we are ready to start sending messages to `postoffice`. But first, we must generate `topics` and/or `publishers` in postoffice depending on the purpose of the project with postoffice.\n\nIf we need to create the topics to be able to publish, we should execute:\n\n```bash\n$ ./manage.py configure_postoffice_topics\n```\n\nand, if we need to create the publishers, we should execute:\n\n```bash\n$ ./manage.py configure_postoffice_publishers\n```\n\n## Sending messages to postoffice\n\nWe have the `publish` method from the `publishing` module\n\n```python\nfrom postoffice_django.publishing import publish\n\npublish(topic: str, message: dict, **attributes: dict) -> None\n```\n\n- `topic`: Topic name. This topic **must** exist on postoffice to manage the message.\n\n- `message`: Message to be sent. This **must** be a dict.\n\n- `attributes`: Additional attr. All attributes are cast to string when publishing a message.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/mercadona/postoffice_django/", "keywords": "", "license": "APACHE License", "maintainer": "", "maintainer_email": "", "name": "postoffice-django", "package_url": "https://pypi.org/project/postoffice-django/", "platform": "", "project_url": "https://pypi.org/project/postoffice-django/", "project_urls": {"Homepage": "https://github.com/mercadona/postoffice_django/"}, "release_url": "https://pypi.org/project/postoffice-django/0.5.3/", "requires_dist": null, "requires_python": "", "summary": "A simple Django app to comunicate with postoffice", "version": "0.5.3"}, "last_serial": 6784512, "releases": {"0.2.0": [{"comment_text": "", "digests": {"md5": "174f4d1a7f127fe29b056031a67c5a94", "sha256": "32dd35ba67cbd5d12133fc8ab5857a00e413ec704a9a0f44cb8c85d73c63ea10"}, "downloads": -1, "filename": "postoffice_django-0.2.0.tar.gz", "has_sig": false, "md5_digest": "174f4d1a7f127fe29b056031a67c5a94", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4649, "upload_time": "2020-01-29T15:08:56", "upload_time_iso_8601": "2020-01-29T15:08:56.629408Z", "url": "https://files.pythonhosted.org/packages/2a/6a/958260fdb9af4d86af961bdc29b376a74b217e52aceaa89b689629fc3252/postoffice_django-0.2.0.tar.gz"}], "0.3.0": [{"comment_text": "", "digests": {"md5": "8d07f7a47ad5fdd5b3cbedde1167f4b9", "sha256": "fff82bba8e5cf658842a6fa58b81b54039f323a41f37e1c644deb63911b4c1ce"}, "downloads": -1, "filename": "postoffice_django-0.3.0.tar.gz", "has_sig": false, "md5_digest": "8d07f7a47ad5fdd5b3cbedde1167f4b9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4645, "upload_time": "2020-01-29T15:15:24", "upload_time_iso_8601": "2020-01-29T15:15:24.158450Z", "url": "https://files.pythonhosted.org/packages/08/93/5daebe88fc40e1ba1e7f2545ce28a92474d076dee35c4a118225cb7b9812/postoffice_django-0.3.0.tar.gz"}], "0.4.0": [{"comment_text": "", "digests": {"md5": "38d685c782a5b6a166c1f9853100d1a0", "sha256": "f91760e512cb94c9dfbee8b88ecbaab0cc6fc6bb731052e4d8859b40d84c64f5"}, "downloads": -1, "filename": "postoffice_django-0.4.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "38d685c782a5b6a166c1f9853100d1a0", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 11757, "upload_time": "2020-02-06T11:56:01", "upload_time_iso_8601": "2020-02-06T11:56:01.718700Z", "url": "https://files.pythonhosted.org/packages/5a/8f/8a5245c41f594b79c6db4553f0dd2ff8d96aea5b2f4c03ebcd5a60c55ba9/postoffice_django-0.4.0-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "33b26e617af340e2bea70e3baa1720f3", "sha256": "f16ab232fc9cba9d3518ecd88bbbc564ef0827d03bccfb1fe9db7a2fda7a321e"}, "downloads": -1, "filename": "postoffice_django-0.4.0.tar.gz", "has_sig": false, "md5_digest": "33b26e617af340e2bea70e3baa1720f3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7066, "upload_time": "2020-02-06T11:56:03", "upload_time_iso_8601": "2020-02-06T11:56:03.266052Z", "url": "https://files.pythonhosted.org/packages/4b/f6/1ac7031a7e9fdb8f32c8adc5d4b6f68cba981e3d5d1e208c544ffb95eb6a/postoffice_django-0.4.0.tar.gz"}], "0.5.0": [{"comment_text": "", "digests": {"md5": "ddadcdb81f7aa5160f5c51c7a7c0fee2", "sha256": "52fdffd0bd7487a0b94fcd3a9d574b98117fbcbcc9b0ea89dca531ec9fb7746b"}, "downloads": -1, "filename": "postoffice_django-0.5.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "ddadcdb81f7aa5160f5c51c7a7c0fee2", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 12891, "upload_time": "2020-02-12T10:48:23", "upload_time_iso_8601": "2020-02-12T10:48:23.606143Z", "url": "https://files.pythonhosted.org/packages/87/ac/cbb6e8401be3ff319b458e46ea230bd6960b9ee2e606bff5f0449ac7efff/postoffice_django-0.5.0-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "beb0121b34e82ec800acc541ca31a980", "sha256": "442d76be7508d0b658da0c29fe2305cd9a81fbda74aca9b5f4bbcf4bb138b581"}, "downloads": -1, "filename": "postoffice_django-0.5.0.tar.gz", "has_sig": false, "md5_digest": "beb0121b34e82ec800acc541ca31a980", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7744, "upload_time": "2020-02-12T10:48:24", "upload_time_iso_8601": "2020-02-12T10:48:24.951908Z", "url": "https://files.pythonhosted.org/packages/de/b8/f39f30ee51043072d439959c8effbdfae5bc4a34a5af1305a15e5ed6f1c5/postoffice_django-0.5.0.tar.gz"}], "0.5.1": [{"comment_text": "", "digests": {"md5": "66f6dfa8a8caaa2474f13c6881456024", "sha256": "0f0a4bca0937392aa7a733b2c1f040c80eaf78577340e33f413cf9e1ed6595bd"}, "downloads": -1, "filename": "postoffice_django-0.5.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "66f6dfa8a8caaa2474f13c6881456024", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 15244, "upload_time": "2020-02-17T15:01:13", "upload_time_iso_8601": "2020-02-17T15:01:13.823678Z", "url": "https://files.pythonhosted.org/packages/ea/54/ffe0991b477a90a1dbb1cbf2ab690f57956c845f03713e9cda368f342b94/postoffice_django-0.5.1-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "4a5dad9d8070f21d8c8744bcf4875ead", "sha256": "de6115a36079464478430ab2fc901fda75d155ca273c8ac63edf69c553aa5c60"}, "downloads": -1, "filename": "postoffice_django-0.5.1.tar.gz", "has_sig": false, "md5_digest": "4a5dad9d8070f21d8c8744bcf4875ead", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9112, "upload_time": "2020-02-17T15:01:15", "upload_time_iso_8601": "2020-02-17T15:01:15.272564Z", "url": "https://files.pythonhosted.org/packages/2c/c3/730c929e13fec76e44d6f77b018de3e3d5d3afc5915ec1a6ba3961227841/postoffice_django-0.5.1.tar.gz"}], "0.5.2": [{"comment_text": "", "digests": {"md5": "c1df5482222b9787f4e2da676649c0dc", "sha256": "a0cd939d8141988a84b2b401306e28e83e09aaa25ecaf358e719809aaa5adf79"}, "downloads": -1, "filename": "postoffice_django-0.5.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "c1df5482222b9787f4e2da676649c0dc", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 15353, "upload_time": "2020-03-03T17:05:18", "upload_time_iso_8601": "2020-03-03T17:05:18.782975Z", "url": "https://files.pythonhosted.org/packages/4b/83/5c4e1f7d1066550b38787cde1b08b77764afbadf3e6906a6dbb1b36246d5/postoffice_django-0.5.2-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "7ab740a625b767261fd5bdaf5ee837f4", "sha256": "71d9508518149e3b5be20ec540c49b0eb0745c293c449ae3b511d8fc8a357572"}, "downloads": -1, "filename": "postoffice_django-0.5.2.tar.gz", "has_sig": false, "md5_digest": "7ab740a625b767261fd5bdaf5ee837f4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9219, "upload_time": "2020-03-03T17:05:20", "upload_time_iso_8601": "2020-03-03T17:05:20.168374Z", "url": "https://files.pythonhosted.org/packages/ac/04/c055e47a4347030ee418b89404c13707f91d95de61703c9b2b31e1a55019/postoffice_django-0.5.2.tar.gz"}], "0.5.3": [{"comment_text": "", "digests": {"md5": "8b0ab1e4445c611d763c2552219caaf9", "sha256": "bf006bc8d6489aa49be052fab1b691798ae37af8e403edaeb44d1c65a99c16d9"}, "downloads": -1, "filename": "postoffice_django-0.5.3-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "8b0ab1e4445c611d763c2552219caaf9", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 15410, "upload_time": "2020-03-10T11:51:57", "upload_time_iso_8601": "2020-03-10T11:51:57.326111Z", "url": "https://files.pythonhosted.org/packages/7a/36/b881c242567d6b0ea54fea9d66d2a9dd5133e2dc7d257612432d64920bc6/postoffice_django-0.5.3-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "2c4c7fb369a8d4d292c418be1f09ae4d", "sha256": "bc12e96e242ab9290a0ce13f0ff80ccd84d2a761d4967adab07942a122bad09a"}, "downloads": -1, "filename": "postoffice_django-0.5.3.tar.gz", "has_sig": false, "md5_digest": "2c4c7fb369a8d4d292c418be1f09ae4d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9253, "upload_time": "2020-03-10T11:51:58", "upload_time_iso_8601": "2020-03-10T11:51:58.398792Z", "url": "https://files.pythonhosted.org/packages/b2/84/cd43484026fc655ae69f1dc6a66b1f6794224f106ec3955a5702056655bc/postoffice_django-0.5.3.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "8b0ab1e4445c611d763c2552219caaf9", "sha256": "bf006bc8d6489aa49be052fab1b691798ae37af8e403edaeb44d1c65a99c16d9"}, "downloads": -1, "filename": "postoffice_django-0.5.3-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "8b0ab1e4445c611d763c2552219caaf9", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 15410, "upload_time": "2020-03-10T11:51:57", "upload_time_iso_8601": "2020-03-10T11:51:57.326111Z", "url": "https://files.pythonhosted.org/packages/7a/36/b881c242567d6b0ea54fea9d66d2a9dd5133e2dc7d257612432d64920bc6/postoffice_django-0.5.3-py2.py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "2c4c7fb369a8d4d292c418be1f09ae4d", "sha256": "bc12e96e242ab9290a0ce13f0ff80ccd84d2a761d4967adab07942a122bad09a"}, "downloads": -1, "filename": "postoffice_django-0.5.3.tar.gz", "has_sig": false, "md5_digest": "2c4c7fb369a8d4d292c418be1f09ae4d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9253, "upload_time": "2020-03-10T11:51:58", "upload_time_iso_8601": "2020-03-10T11:51:58.398792Z", "url": "https://files.pythonhosted.org/packages/b2/84/cd43484026fc655ae69f1dc6a66b1f6794224f106ec3955a5702056655bc/postoffice_django-0.5.3.tar.gz"}]}