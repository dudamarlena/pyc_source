{"info": {"author": "Vadim Iskuchekov @egregors", "author_email": "egregors@pm.me", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3.7"], "description": "# Logux Django\nDjango Logux integration engine https://logux.io/\n\n**Do not use this package until first stable version will be released!**\n\n## Installation\n\nInstall from PyPI\n```shell script\npip install logux-django\n```\n\nInstall dev version from current master.\n```shell script\npip install -e git://github.com/logux/django.git#egg=logux_django\n```\n\nAdd `path(r'logux/', include('logux.urls')),` into your `urls.py`\n\nSets Logux settings in your `settings.py`:\n```python\n# Logux settings: https://logux.io/guide/starting/proxy-server/\nLOGUX_CONTROL_SECRET = \"secret\"\nLOGUX_URL = \"http://localhost:31338\"\nLOGUX_AUTH_FUNC = your_auth_function #  your_auth_function(user_id, token: str) -> bool\n```\n\n_Storing passwords or secrets in `settings.py` is bad practice. Use ENV._\n\nFor urls and settings examples, please checkout `test_app` \n[settings](https://github.com/logux/django/blob/master/tests/test_project/settings.py)\n\nKeep in mind: the path in your `urls.py` (`logux/`) and the `LOGUX_CONTROL_SECRET` from the settings should be passed \ninto [Logux Server](https://logux.io/guide/starting/proxy-server/#creating-the-project) by ENV as \n`LOGUX_BACKEND` and `LOGUX_CONTROL_SECRET` respectively. \n\nFor example: \n```shell script\nLOGUX_BACKEND=http://localhost:8000/logux/\nLOGUX_CONTROL_SECRET=secret\n```\n\n## Usage\n\n### Actions\n\nFor `action` handling add `logux_actions.py` file in your app, add `ActionCommand` inheritors and implement all his\nabstract methods. \n\nActions classes requirements:\n\n* Set `action_type: str`\n* Implement all `ActionCommand` abstracts methods\n* Implement `resend` and `process` methods if you need (optional)\n* import `logux` dispatcher: `from logux.dispatchers import logux`\n* Register all your action handlers: `logux.actions.register(YourAction)`\n\nFor example \u2013 User rename action handler:\n```python\nfrom typing import Optional, NoReturn, Dict\n\nfrom django.contrib.auth.models import User\n\nfrom logux.core import ActionCommand, Meta, Action\nfrom logux.dispatchers import logux\n\n\nclass RenameUserAction(ActionCommand):\n    \"\"\" Action Handler for example from https://logux.io/protocols/backend/examples/ \"\"\"\n\n    action_type = 'user/rename'\n\n        def resend(self, action: Action, meta: Optional[Meta]) -> Dict:\n            return {'channels': [f'users/{action[\"user\"]}']}\n\n        def access(self, action: Action, meta: Meta) -> bool:\n            # user can rename only himself\n            return action['user'] == int(meta.user_id)\n\n        def process(self, action: Action, meta: Optional[Meta]) -> NoReturn:\n            user = User.objects.get(pk=action['user'])\n            user.first_name = action['name']\n            user.save()\n\n\nlogux.actions.register(RenameUserAction)\n\n```\n\n### Channels (Subscription)\n\nFor `subsription` handling add `logux_subsriptions.py` file in your app, and `ChannelCommand` inheritors \nand implement all his abstract methods. \n\nSubscription classes requirements:\n\n* Set `channel_pattern: str` \u2013 this is a regexp like Django's url's patters in `urls.py`\n* Implement all `ChannelCommand` abstracts methods\n* import `logux` dispatcher: `from logux.dispatchers import logux`\n* Register all your subscription handlers: `logux.channels.register(YourChannelCommand)`\n\nFor example:\n```python\nfrom django.contrib.auth.models import User\n\nfrom logux.core import ChannelCommand, Action, Meta\nfrom logux.dispatchers import logux\n\n\nclass UserChannel(ChannelCommand):\n    channel_pattern = r'^user/(?P<user_id>\\w+)$'\n\n    def access(self, action: Action, meta: Meta) -> bool:\n        return self.params['user_id'] == meta.user_id\n\n    def load(self, action: Action, meta: Meta):\n        user = User.objects.get(pk=self.params['user_id'])\n        self.send_back(\n            {'type': 'user/name', 'user': 38, 'name': user.first_name}\n        )\n\n\nlogux.channels.register(UserChannel)\n\n```\n\nFor more examples, please checkout `test app` (tests/test_app)\n\n### Utils\n\n#### logux.core.logux_add\n`logux_add(action: Action, raw_meta: Optional[Dict] = None) -> NoReturn` is low level API function to send any actions and meta into Logux server.\n\nIf `raw_meta` is `None` just empty Dict will be passed to Logux server.\n\nKeep in mind, in the current version `logux_add` is sync.\n\nFor more information: https://logux.io/node-api/#log-add\n\n## Development\n\nCreate dev environment\n```shell script\nmake venv\nmake install\nmake run\n```\n\nType checking and linting:\n```shell script\nmake lint\n```\n\nTest:\n```shell script\nmake test\n```\n\n## License\n\nThe package is available as open source under the terms of the [MIT License](https://opensource.org/licenses/MIT).\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/logux/django/", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "logux-django", "package_url": "https://pypi.org/project/logux-django/", "platform": "", "project_url": "https://pypi.org/project/logux-django/", "project_urls": {"Homepage": "https://github.com/logux/django/"}, "release_url": "https://pypi.org/project/logux-django/0.1.1/", "requires_dist": ["django (<3,>=2.2.11)", "requests (>=2.22.0)"], "requires_python": ">=3.7", "summary": "Django Logux integration engine https://logux.io/", "version": "0.1.1"}, "last_serial": 7046817, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "55459decb4ba315ebf1bd31c0c96efa7", "sha256": "b26a2e7e71f12ceefb4b7e373541b7a14ff3edc37fc6925ffc8686a148ee4f40"}, "downloads": -1, "filename": "logux_django-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "55459decb4ba315ebf1bd31c0c96efa7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 13149, "upload_time": "2020-04-18T09:54:15", "upload_time_iso_8601": "2020-04-18T09:54:15.476021Z", "url": "https://files.pythonhosted.org/packages/bb/64/af82500f2c26b2d1ea66335934a096c80e3fdb7aa1e5b95ee2f38f096f9b/logux_django-0.1.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "06f77840e26e4865a65b1198e4c1a285", "sha256": "0b0ca23b4d07f520e25520666e8bf54c318aceaa5c19cc4bd0e6a8bdf907c22e"}, "downloads": -1, "filename": "logux_django-0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "06f77840e26e4865a65b1198e4c1a285", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 12689, "upload_time": "2020-04-16T14:20:13", "upload_time_iso_8601": "2020-04-16T14:20:13.152384Z", "url": "https://files.pythonhosted.org/packages/56/43/300cfc4d57f37439f1e7b90ede976488f089646957716d22ebb44e882db1/logux_django-0.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "46716cba1dbefc4aae70f0f6db1cb080", "sha256": "40b9d8e4601b1c67f1b1a98d1c31fb0dbcea99947de3cd3bae1ad411d394cf77"}, "downloads": -1, "filename": "logux_django-0.1.tar.gz", "has_sig": false, "md5_digest": "46716cba1dbefc4aae70f0f6db1cb080", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 12218, "upload_time": "2020-04-16T14:20:16", "upload_time_iso_8601": "2020-04-16T14:20:16.257983Z", "url": "https://files.pythonhosted.org/packages/a8/d5/d779edad27bb7bea42d8546963386dd11953f15e5d419ec731e4cb560595/logux_django-0.1.tar.gz"}], "0.1.1": [{"comment_text": "", "digests": {"md5": "6aa7eb1012c575996be3579506d2d84c", "sha256": "ec4d3419f6863d67ad1cab581f9acd4ea5fd0405786f885bcb1c8d45b54eae46"}, "downloads": -1, "filename": "logux_django-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "6aa7eb1012c575996be3579506d2d84c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 13151, "upload_time": "2020-04-18T10:07:43", "upload_time_iso_8601": "2020-04-18T10:07:43.912102Z", "url": "https://files.pythonhosted.org/packages/9b/c1/eeafac1a441313ca82b2b0f41f66eaf345f43a759c094e3142baaf43c831/logux_django-0.1.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "6c98b9550061f1b31510ba86ced58079", "sha256": "5df11c28ab1ec7acc9017ade99f6d5d0a30a81cb9b0629f07587d806f897e488"}, "downloads": -1, "filename": "logux_django-0.1.1.tar.gz", "has_sig": false, "md5_digest": "6c98b9550061f1b31510ba86ced58079", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 12552, "upload_time": "2020-04-18T10:07:46", "upload_time_iso_8601": "2020-04-18T10:07:46.410801Z", "url": "https://files.pythonhosted.org/packages/7c/c6/545e9ed1108ea22f9774492f9ccc628c8ab064c65da81c99ac7715d55acd/logux_django-0.1.1.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "6aa7eb1012c575996be3579506d2d84c", "sha256": "ec4d3419f6863d67ad1cab581f9acd4ea5fd0405786f885bcb1c8d45b54eae46"}, "downloads": -1, "filename": "logux_django-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "6aa7eb1012c575996be3579506d2d84c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 13151, "upload_time": "2020-04-18T10:07:43", "upload_time_iso_8601": "2020-04-18T10:07:43.912102Z", "url": "https://files.pythonhosted.org/packages/9b/c1/eeafac1a441313ca82b2b0f41f66eaf345f43a759c094e3142baaf43c831/logux_django-0.1.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "6c98b9550061f1b31510ba86ced58079", "sha256": "5df11c28ab1ec7acc9017ade99f6d5d0a30a81cb9b0629f07587d806f897e488"}, "downloads": -1, "filename": "logux_django-0.1.1.tar.gz", "has_sig": false, "md5_digest": "6c98b9550061f1b31510ba86ced58079", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 12552, "upload_time": "2020-04-18T10:07:46", "upload_time_iso_8601": "2020-04-18T10:07:46.410801Z", "url": "https://files.pythonhosted.org/packages/7c/c6/545e9ed1108ea22f9774492f9ccc628c8ab064c65da81c99ac7715d55acd/logux_django-0.1.1.tar.gz"}]}