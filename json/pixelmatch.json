{"info": {"author": "Wu Haotian", "author_email": "whtsky@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# pixelmatch-py\n\nPython port of https://github.com/mapbox/pixelmatch.\n\nA fast pixel-level image comparison library, originally created to compare screenshots in tests.\n\nFeatures accurate **anti-aliased pixels detection**\nand **perceptual color difference metrics**.\n\n```python\nfrom pixelmatch import pixelmatch\n\nnum_diff_pixels = pixelmatch(img1, img2, 800, 600, diff, {\n  'threshold': 0.1\n})\n```\n\nImplements ideas from the following papers:\n\n- [Measuring perceived color difference using YIQ NTSC transmission color space in mobile applications](http://www.progmat.uaem.mx:8080/artVol2Num2/Articulo3Vol2Num2.pdf) (2010, Yuriy Kotsarenko, Fernando Ramos)\n- [Anti-aliased pixel and intensity slope detector](https://www.researchgate.net/publication/234126755_Anti-aliased_Pixel_and_Intensity_Slope_Detector) (2009, Vytautas Vy\u0161niauskas)\n\n## Install\n\n```bash\npip install pixelmatch\n```\n\n## API\n\n### pixelmatch(img1, img2, width, height[output, options])\n\n- `img1`, `img2` \u2014 RGBA Image data of the images to compare. **Note:** image dimensions must be equal.\n- `width`, `height` \u2014 Width and height of the images.\n- `output` \u2014 Image data to write the diff to, or `None` if don't need a diff image. Note that _all three images_ need to have the same dimensions.\n  `options` is a dict with the following properties:\n\n- `threshold` \u2014 Matching threshold, ranges from `0` to `1`. Smaller values make the comparison more sensitive. `0.1` by default.\n- `includeAA` \u2014 If `true`, disables detecting and ignoring anti-aliased pixels. `false` by default.\n- `alpha` \u2014 Blending factor of unchanged pixels in the diff output. Ranges from `0` for pure white to `1` for original brightness. `0.1` by default.\n- `aa_color` \u2014 The color of anti-aliased pixels in the diff output in `[R, G, B]` format. `[255, 255, 0]` by default.\n- `diff_color` \u2014 The color of differing pixels in the diff output in `[R, G, B]` format. `[255, 0, 0]` by default.\n- `diff_mask` \u2014 Draw the diff over a transparent background (a mask), rather than over the original image. Will not draw anti-aliased pixels (if detected).\n\nCompares two images, writes the output diff and returns the number of mismatched pixels.\n\n## Example usage\n\n### PIL\n\n```python\nfrom PIL import Image\n\nfrom pixelmatch import pixelmatch\n\n\ndef pil_to_flatten_data(img):\n    \"\"\"\n    Convert data from [(R1, G1, B1, A1), (R2, G2, B2, A2)] to [R1, G1, B1, A1, R2, G2, B2, A2]\n    \"\"\"\n    return [x for p in img.convert(\"RGBA\").getdata() for x in p]\n\nimg_a = Image.open(\"a.png\")\nimg_b = Image.open(\"b.png\")\nwidth, height = img_a.size\n\ndata_a = pil_to_flatten_data(img_a)\ndata_b = pil_to_flatten_data(img_b)\ndata_diff = [0] * len(data_a)\n\nmismatch = pixelmatch(data_a, data_b, width, height, data_diff, {\n    \"includeAA\": True\n})\n\nimg_diff = Image.new(\"RGBA\", img_a.size)\n\ndef flatten_data_to_pil(data):\n    return list(zip(data[::4], data[1::4], data[2::4], data[3::4]))\n\nimg_diff.putdata(flatten_data_to_pil(data_diff))\nimg_diff.save(\"diff.png\")\n```\n\n## Example output\n\n| expected             | actual               | diff                         |\n| -------------------- | -------------------- | ---------------------------- |\n| ![](fixtures/4a.png) | ![](fixtures/4b.png) | ![1diff](fixtures/4diff.png) |\n| ![](fixtures/3a.png) | ![](fixtures/3b.png) | ![1diff](fixtures/3diff.png) |\n| ![](fixtures/6a.png) | ![](fixtures/6b.png) | ![1diff](fixtures/6diff.png) |\n| ![](fixtures/7a.png) | ![](fixtures/7b.png) | ![1diff](fixtures/7diff.png) |\n\n## Changelog\n\n### v0.1.1\n\n- fix: fix bug in fast path [#18](https://github.com/whtsky/pixelmatch-py/pull/18)\n\n### v0.1.0\n\n- Initial release\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/whtsky/pixelmatch-py", "keywords": "", "license": "ISC", "maintainer": "", "maintainer_email": "", "name": "pixelmatch", "package_url": "https://pypi.org/project/pixelmatch/", "platform": "", "project_url": "https://pypi.org/project/pixelmatch/", "project_urls": {"Homepage": "https://github.com/whtsky/pixelmatch-py", "Repository": "https://github.com/whtsky/pixelmatch-py"}, "release_url": "https://pypi.org/project/pixelmatch/0.1.1/", "requires_dist": null, "requires_python": ">=3.6,<4.0", "summary": "A pixel-level image comparison library. Python port of https://github.com/mapbox/pixelmatch", "version": "0.1.1"}, "last_serial": 6800844, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "ee9573c076ca7bc04fccf8878890dd9d", "sha256": "436da5944e6f5468b3c5372d4ce0acfa33e0a820c042c4f1acaaab1e7b393463"}, "downloads": -1, "filename": "pixelmatch-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ee9573c076ca7bc04fccf8878890dd9d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 4151, "upload_time": "2019-10-31T10:15:12", "upload_time_iso_8601": "2019-10-31T10:15:12.373136Z", "url": "https://files.pythonhosted.org/packages/98/5a/f591fe38574b921e74b084a80b59efeeb6117781112945cd58243cc46298/pixelmatch-0.1.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "d2fd3305b57b3f344110ea151b951139", "sha256": "e486aac0db8364113ac9da32b4e7f453cf0ca1a3a4aba8702a08f6bec1ea2629"}, "downloads": -1, "filename": "pixelmatch-0.1.0.tar.gz", "has_sig": false, "md5_digest": "d2fd3305b57b3f344110ea151b951139", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 3837, "upload_time": "2019-10-31T10:15:21", "upload_time_iso_8601": "2019-10-31T10:15:21.036248Z", "url": "https://files.pythonhosted.org/packages/4c/8d/ad7cb406167721bb81b135b36b8c9c893e0a3a395714433a7ae8b288fd7a/pixelmatch-0.1.0.tar.gz"}], "0.1.1": [{"comment_text": "", "digests": {"md5": "76425bc54dd7f8af59f6b8019b718e1f", "sha256": "cf02670dda2a74c761656f8abb7b4ecbb08e97136e35b9f1adb47123cd145f65"}, "downloads": -1, "filename": "pixelmatch-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "76425bc54dd7f8af59f6b8019b718e1f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 5663, "upload_time": "2020-03-12T17:58:08", "upload_time_iso_8601": "2020-03-12T17:58:08.624507Z", "url": "https://files.pythonhosted.org/packages/78/44/a39b581641e7a1a9240450b173b0955048b130b4942823ef337bd269d8b5/pixelmatch-0.1.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "d705fe7ce9f110d673851fdd80b9cb08", "sha256": "e35a5a4563ddd9ceea1fe9e22d628e9d47ec30d64b602691cc6a8ca17e5ec830"}, "downloads": -1, "filename": "pixelmatch-0.1.1.tar.gz", "has_sig": false, "md5_digest": "d705fe7ce9f110d673851fdd80b9cb08", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 5699, "upload_time": "2020-03-12T17:58:10", "upload_time_iso_8601": "2020-03-12T17:58:10.206541Z", "url": "https://files.pythonhosted.org/packages/3f/d8/f3790bc1f2bf4f5acb391e9db1cfd591124b6e1ce3e989e5b8871703aa22/pixelmatch-0.1.1.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "76425bc54dd7f8af59f6b8019b718e1f", "sha256": "cf02670dda2a74c761656f8abb7b4ecbb08e97136e35b9f1adb47123cd145f65"}, "downloads": -1, "filename": "pixelmatch-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "76425bc54dd7f8af59f6b8019b718e1f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 5663, "upload_time": "2020-03-12T17:58:08", "upload_time_iso_8601": "2020-03-12T17:58:08.624507Z", "url": "https://files.pythonhosted.org/packages/78/44/a39b581641e7a1a9240450b173b0955048b130b4942823ef337bd269d8b5/pixelmatch-0.1.1-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "d705fe7ce9f110d673851fdd80b9cb08", "sha256": "e35a5a4563ddd9ceea1fe9e22d628e9d47ec30d64b602691cc6a8ca17e5ec830"}, "downloads": -1, "filename": "pixelmatch-0.1.1.tar.gz", "has_sig": false, "md5_digest": "d705fe7ce9f110d673851fdd80b9cb08", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 5699, "upload_time": "2020-03-12T17:58:10", "upload_time_iso_8601": "2020-03-12T17:58:10.206541Z", "url": "https://files.pythonhosted.org/packages/3f/d8/f3790bc1f2bf4f5acb391e9db1cfd591124b6e1ce3e989e5b8871703aa22/pixelmatch-0.1.1.tar.gz"}]}