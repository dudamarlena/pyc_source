{"info": {"author": "Thomas Gamauf", "author_email": "thomas.gamauf@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Console", "Intended Audience :: Developers", "Intended Audience :: System Administrators", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Software Development", "Topic :: Software Development :: Version Control", "Topic :: Software Development :: Version Control :: Git", "Topic :: System :: Software Distribution"], "description": "[![PyPI version](https://badge.fury.io/py/gitsup.svg)](https://badge.fury.io/py/gitsup)\n[![Build Status](https://travis-ci.org/tgamauf/gitsup.svg?branch=master)](https://travis-ci.org/tgamauf/gitsup)\n\n\n# gitsup\nGitsup allows automatic update of the [Git submodules](https://git-scm.com/book/en/v2/Git-Tools-Submodules) of a project to the latest commit. The intended purpose is to\ndeploy the tool so execution can be triggered automatically by a [Github webhook](https://developer.github.com/webhooks/) \non update of the projects underlying the git submodules.\n\nIf the tool is executed, it will fetch the latest commit from the configured submodules and commit these changes to the \nparent repository. Git submodules that aren't configured, won't be updated.\n\nThis code is adapted from this [stackoverflow post](https://stackoverflow.com/a/51751697/3927228).\n\n\n## Quickstart\n- Installation: `pip install gitsup`\n- Create a parent project, e.g. [tgamauf/gitsup-demo](https://github.com/tgamauf/gitsup-demo) that contains two \nsubmodules [tgamauf/gitsup-demo-submodule](https://github.com/tgamauf/gitsup-demo-submodule) and [jezen/is-thirteen](\nhttps://github.com/jezen/is-thirteen) (replace the owner of the first two with your own username)\n- Set the following environment variables\n    - `export GITSUP_OWNER=tgamauf`\n    - `export GITSUP_REPOSITORY=gitsup-demo`\n    - `export GITSUP_SUBMODULES=gitsup-demo-submodule`\n    - `export GITSUP_SUBMODULE_gitsup-demo-submodule_OWNER=tgamauf`\n- Update `README.md` in `tgamauf/gitsup-demo-submodule`\n- Execute `gitsup --token <Github personal access token>`\n\nGitsup will notify you that it updated `tgamauf/gitsup-demo-submodule` in `tgamauf/gitsup-demo` and you will see a new \ncommit on `tgamauf/gitsup-demo` that indicates that the submodule has been updated. The tool will also let you know \nthat the submodule `is-thirteen` hasn't been updated as it isn't configured.\n\nThe `--token` parameter is optional. If it isn't provided first the environment and subsequently a provided config file \nis checked for the token. A config file can be provided to Gitsup by parameter `--config`.\n\nPlease check the usage information for more info: `gitsup --help`\n\n\n### Configuration\nConfiguration of gitsub can be done either by environment variables or by a yaml/json configuration file. In both cases \na [Github personal access token](https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line#creating-a-token), \nthe parent repository and the submodules that should be auto-updated must be configured. The personal access token \nrequires \"repo\" permissions for the parent project and all submodule projects in order to update the parent project. If \nthe submodule projects are public repositories no specific permissions are required here. In any case write permissions \nfor the parent repository must be granted.\n\nThe following global configuration options are available:\n- token: Github access token\n- owner: the owner of the parent repository\n- repository: the name of the parent repository\n- branch: the branch of the parent repository to update (optional; default: `master`)\n\nFor each submodule at least the repository has to be configured, for all other values sensible defaults are used if no \nvalue is supplied. The following configuration options exist per submodule:\n- repository: the name of the submodule repository\n- owner: the owner of the submodule repository (optional; default: owner of the parent project)\n- branch: the branch of the submodule repository to use (optional; default: `master`)\n- path: the path of the submodule in the parent repository (optional; default: repository name)\n\n\n#### Environment Variables\n- `GITSUP_TOKEN=<Github personal access token>`\n- `GITSUP_OWNER=<parent repository owner>`\n- `GITSUP_REPOSITORY=<parent repository name>`\n- `GITSUP_BRANCH=<parent repository branch>`\n- `GITSUP_SUBMODULES=<comma separated list of submodules>`\n\nThe following environment variables can exist multiple times for any of the submodules defined by `GITSUP_SUBMODULES`:\n- `GITSUP_SUBMODULE_<submodule>_OWNER=<submodule repository owner>`\n- `GITSUP_SUBMODULE_<submodule>_BRANCH=<submodule repository branch>`\n- `GITSUP_SUBMODULE_<submodule>_PATH=<submodule path in parent repository>`\n\nMinimal config:\n- `GITSUP_TOKEN=<Github personal access token>`\n- `GITSUP_OWNER=<parent repository owner>`\n- `GITSUP_REPOSITORY=<parent repository name>`\n- `GITSUP_SUBMODULES=<single submodule>`\n\n\n#### YAML Config File\n```\ntoken: <Github personal access token>\nowner: <parent repository owner>\nrepository: <parent repository name>\nbranch: <parent repository branch>\n\nsubmodules:\n  # One dict per submodule\n  <submodule>:\n      owner: <submodule repository owner>\n      branch: <submodule repository branch>\n      path: <submodule path in parent repository>\n```\n\nMinimal config:\n```\ntoken: <Github personal access token>\nowner: <parent repository owner>\nrepository: <parent repository name>\nsubmodules: <single submodule>\n```\n\n\n#### JSON Config File\n```\n{\n  \"token\": \"<Github personal access token>\",\n  \"owner\": \"<parent repository owner>\",\n  \"repository\": <parent repository name>,\n  \"branch: <parent repository branch>\n  \"submodules\": {\n    \"<submodule>: {\n      \"owner\": \"<submodule repository owner>\",\n      \"branch\": \"<submodule repository branch>\",\n      \"path\": \"<submodule path in parent repository>\"\n    }\n  }\n}\n```\n\nMinimal config:\n```\n{\n  \"token\": \"<Github personal access token>\",\n  \"owner\": \"<parent repository owner>\",\n  \"repository\": <parent repository name>,\n  \"submodules\": <single submodule>\n}\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/tgamauf/gitsup", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "gitsup", "package_url": "https://pypi.org/project/gitsup/", "platform": "", "project_url": "https://pypi.org/project/gitsup/", "project_urls": {"Homepage": "https://github.com/tgamauf/gitsup"}, "release_url": "https://pypi.org/project/gitsup/0.3.0/", "requires_dist": ["PyYAML", "requests", "black ; extra == 'dev'", "pre-commit ; extra == 'dev'", "pip-tools ; extra == 'dev'", "pytest ; extra == 'dev'", "requests-mock ; extra == 'dev'"], "requires_python": ">=3.6", "summary": "Git submodule updater", "version": "0.3.0"}, "last_serial": 6150892, "releases": {"0.2.3": [{"comment_text": "", "digests": {"md5": "9dc89999970056c1bb3900e4c471da7a", "sha256": "99e6861eb585c8adc0782404eee77962aadc0db61e1f25fb37223f49296c49a6"}, "downloads": -1, "filename": "gitsup-0.2.3-py3-none-any.whl", "has_sig": false, "md5_digest": "9dc89999970056c1bb3900e4c471da7a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10615, "upload_time": "2019-11-16T21:59:19", "upload_time_iso_8601": "2019-11-16T21:59:19.812215Z", "url": "https://files.pythonhosted.org/packages/21/32/ee03ebc8707f323e300fe80b4b737c4bc0e026a4fdacd865a5c5c49f36f1/gitsup-0.2.3-py3-none-any.whl"}], "0.2.4": [{"comment_text": "", "digests": {"md5": "46be155e6f53488d42ffc998fead026e", "sha256": "8ef4fb8226c7ad015e6d7e1acb7fbb68843ac60691cb2a49d38f38787e7095cf"}, "downloads": -1, "filename": "gitsup-0.2.4-py3-none-any.whl", "has_sig": false, "md5_digest": "46be155e6f53488d42ffc998fead026e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10655, "upload_time": "2019-11-16T23:56:19", "upload_time_iso_8601": "2019-11-16T23:56:19.273046Z", "url": "https://files.pythonhosted.org/packages/f0/5a/a66f0ea3f3100e841cf88f38c05433cd23cda11d5f98c8275dc4aa50a6e7/gitsup-0.2.4-py3-none-any.whl"}], "0.3.0": [{"comment_text": "", "digests": {"md5": "8141d07658b43bc51cca7b1912151e9a", "sha256": "e8647012b51847d270e841a477bf72b1f9b3512ed235fc9e8f882ef2b45cf503"}, "downloads": -1, "filename": "gitsup-0.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "8141d07658b43bc51cca7b1912151e9a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11018, "upload_time": "2019-11-17T16:19:14", "upload_time_iso_8601": "2019-11-17T16:19:14.412857Z", "url": "https://files.pythonhosted.org/packages/23/3e/ed5f594be5be5e7a78d821fb67cd04c14bdb21bc8f23fcbfba4b97011780/gitsup-0.3.0-py3-none-any.whl"}]}, "urls": [{"comment_text": "", "digests": {"md5": "8141d07658b43bc51cca7b1912151e9a", "sha256": "e8647012b51847d270e841a477bf72b1f9b3512ed235fc9e8f882ef2b45cf503"}, "downloads": -1, "filename": "gitsup-0.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "8141d07658b43bc51cca7b1912151e9a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11018, "upload_time": "2019-11-17T16:19:14", "upload_time_iso_8601": "2019-11-17T16:19:14.412857Z", "url": "https://files.pythonhosted.org/packages/23/3e/ed5f594be5be5e7a78d821fb67cd04c14bdb21bc8f23fcbfba4b97011780/gitsup-0.3.0-py3-none-any.whl"}]}