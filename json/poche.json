{"info": {"author": "etienne-napoleone", "author_email": "etienne.napoleone@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Database", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: Utilities", "Typing :: Typed"], "description": "# poche\n\n[![Build Status](https://travis-ci.org/etienne-napoleone/poche.svg?branch=develop)](https://travis-ci.org/etienne-napoleone/poche)\n[![Codecov](https://codecov.io/gh/etienne-napoleone/poche/branch/develop/graph/badge.svg)](https://codecov.io/gh/etienne-napoleone/poche)\n[![Checked with mypy](http://www.mypy-lang.org/static/mypy_badge.svg)](http://mypy-lang.org/)\n[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)\n\nSimple and fast Python in-memory caching.\n\nMeant to speed up using dictionaries as cache backend for simple usecases.\n\nNo external dependencies, 100% code coverage and static type checked.\n\n## Installation\n\nRequires Python 3.6+.\n\n```bash\npip install poche\n```\n\n## Roadmap\n\nv1:\n\n- [x] K/V cache system\n- [x] Basic TTL\n- [x] TTL methods (get, bump, remove, etc)\n- [ ] Memoizing decorator\n- [ ] (Lower required Python version)\n\nv2:\n\n- [ ] Optional per cache stats\n\n## Usage\n\nInstantiate a Poche cache object:\n\n```python\n>>> import poche\n>>> c = poche.Cache()\n# or you can set a default TTL\n>>> c = poche.Cache(default_ttl=5)\n```\n\n**Warning:** When using TTLs, The only call removing a value with expired TTL is `get()`!\n\n### Basic operations\n\nSet a value in cache:\n\n```python\ndef set(key: Hashable, value: Any, Optional: Optional[Union[int, datetime]] = None) -> None\n```\n\nGet a value in cache:\n\n```python\ndef get(key: Hashable) -> Any\n```\n\nGet or set a value in cache if not present:\n\n```python\ndef gos(key: Hashable, value: Any, ttl: Optional[int] = None) -> Any\n```\n\nDelete a value in cache:\n\n```python\ndef delete(key: Hashable) -> None\n```\n\nFlush all cache content:\n\n```python\ndef flush() -> None\n```\n\nExamples:\n\n```python\n>>> c.set(\"un\", 1)\n>>> c.get(\"un\")\n1\n>>> c.delete(\"un\")\n\n>>> c.get(\"deux\")\nKeyError\n>>> c.gos(\"deux\", 2) \n2\n>>> c.gos(\"deux\", 3)\n2\n>>> c.get(\"deux\")\n2\n>>> c.flush()\n```\n\n### TTLs\n\nSet the TTL of a cache item:\n\n```python\ndef set_ttl(key: Hashable, ttl: Optional[Union[int, datetime]],) -> None\n```\n\nGet the TTL of a cache item:\n\n```python\ndef get_ttl(key: Hashable) -> Optional[datetime]\n```\n\nAdd seconds to the current TTL:\n\n```python\ndef bump(key: str, ttl: int) -> None:\n```\nExamples:\n\n```python\n>>> c.set(\"un\", 1, ttl=2)\n>>> c.get(\"un\")\n1\n>>> time.sleep(3)\n>>> c.get(\"un\")\nKeyError\n\n>>> c.set(\"deux\", 2, ttl=datetime(2025, 20, 1)) \n>>> c.get_ttl(\"deux\")\ndatetime(2025, 20, 1)\n>>> c.set_ttl(\"deux\", 2)\n>>> time.sleep(3)\n>>> c.get(\"deux\")\nKeyError\n\n>>> c.set(\"trois\", 3, ttl=2)\n>>> c.set_ttl(None)\n>>> time.sleep(3)\n>>> c.get(\"trois\")\n3\n\n# The only call removing a value with expired TTL is `get()`!\n>>> c.set(\"quatre\", 4, ttl=2)\n>>> time.sleep(3)\n>>> \"quatre\" in c.keys()\nTrue\n>>> c.get(\"quatre\")\nKeyError\n>>> \"quatre\" in c.keys()\nFalse\n```\n\n### Dictionary like methods\n\nGet the cache keys:\n\n```python\ndef keys() -> KeysView[Hashable]\n```\n\nGet de cache values:\n\n```python\ndef values() -> ValuesView[Any]\n```\n\nGet the cache values:\n\n```python\ndef items() -> ItemsView[Hashable, Cacheitem]\n```\nExamples:\n\n```python\n>>> c.set(\"un\", 1)\n>>> c.set(\"deux\", 2)\n>>> c.keys()\n[\"un\", \"deux\"]\n>>> c.values()\n[1, 2]\n>>> for item in c.items():\n...     print(f\"{item[0]} -> {item[1].value}\")\n\"1 -> un\"\n\"2 -> deux\"\n```\n\n### Access raw objects\n\nExamples:\n\n```Python\n>>> c.set(\"un\", 1)\n>>> c[\"un\"]\nCacheitem(expiration=None, value=1)\n>>> c[\"un\"] == 1\nTrue\n>>> 1 in c\nTrue\n>>> c[\"un\"] < 2\nTrue\n>>> c[\"deux\"] = 2\nTypeError\n>>> c[\"deux\"] = Cacheitem(expiration=None, value=2)\n>>> len(c)\n2\n>>> c[\"un\"] < c[\"deux\"]\nTrue\n>>> del c[\"deux\"]\n```\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/etienne-napoleone/poche", "keywords": "cache,in-memory,simple,fast", "license": "GPL-3.0+", "maintainer": "", "maintainer_email": "", "name": "poche", "package_url": "https://pypi.org/project/poche/", "platform": "", "project_url": "https://pypi.org/project/poche/", "project_urls": {"Homepage": "https://github.com/etienne-napoleone/poche", "Repository": "https://github.com/etienne-napoleone/poche"}, "release_url": "https://pypi.org/project/poche/0.3.0/", "requires_dist": null, "requires_python": ">=3.6,<4.0", "summary": "Simple and fast Python in-memory caching library", "version": "0.3.0"}, "last_serial": 6382400, "releases": {"0.2.0": [{"comment_text": "", "digests": {"md5": "8f8cc6ff3b0dea8e2f2776bd18b05902", "sha256": "c69e9cb80f79618fa4531d88ae6eb88b4a2b2f9ec47370f5b782eb28e6798008"}, "downloads": -1, "filename": "poche-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "8f8cc6ff3b0dea8e2f2776bd18b05902", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 14508, "upload_time": "2020-01-01T09:49:29", "upload_time_iso_8601": "2020-01-01T09:49:29.660341Z", "url": "https://files.pythonhosted.org/packages/f8/d6/c6597070a45618bc721f87eda7ef2bca5102b4dd54a14e3048805929417f/poche-0.2.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "f7ad9150c260a17ac248194ec883f618", "sha256": "36700664cbd4641266f5ebbe9cc22f3a937384b0286191a1d0c710729526c50e"}, "downloads": -1, "filename": "poche-0.2.0.tar.gz", "has_sig": false, "md5_digest": "f7ad9150c260a17ac248194ec883f618", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 14038, "upload_time": "2020-01-01T09:49:32", "upload_time_iso_8601": "2020-01-01T09:49:32.011084Z", "url": "https://files.pythonhosted.org/packages/2f/4b/7cf46fad510e4ffa24f216288aba5d4591b1c9760557632e13781a2e284d/poche-0.2.0.tar.gz"}], "0.3.0": [{"comment_text": "", "digests": {"md5": "b8f502be151dd22a1cdace4d09603d6d", "sha256": "18df4706203bb71d10c0cac021b02540e271c4f87f4779a1b7222ea7a7f3ec83"}, "downloads": -1, "filename": "poche-0.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "b8f502be151dd22a1cdace4d09603d6d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 16155, "upload_time": "2020-01-01T14:06:55", "upload_time_iso_8601": "2020-01-01T14:06:55.388616Z", "url": "https://files.pythonhosted.org/packages/c6/6c/54e5e045b146893475bf624b9ffe48dd564db704aa392dc9dcf38ecf1a99/poche-0.3.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "4d0a78b01ff6b5b7607b20eb37d95f34", "sha256": "c1780b64e6c03933c7b96bd50608a43689da4547d5c0a81bd36f75e30fcb52f5"}, "downloads": -1, "filename": "poche-0.3.0.tar.gz", "has_sig": false, "md5_digest": "4d0a78b01ff6b5b7607b20eb37d95f34", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 16194, "upload_time": "2020-01-01T14:06:57", "upload_time_iso_8601": "2020-01-01T14:06:57.012960Z", "url": "https://files.pythonhosted.org/packages/b6/bb/a8b30ce6dcc37d588ad8ed8e6756827eeb93150558ab14cf9ff194627542/poche-0.3.0.tar.gz"}]}, "urls": [{"comment_text": "", "digests": {"md5": "b8f502be151dd22a1cdace4d09603d6d", "sha256": "18df4706203bb71d10c0cac021b02540e271c4f87f4779a1b7222ea7a7f3ec83"}, "downloads": -1, "filename": "poche-0.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "b8f502be151dd22a1cdace4d09603d6d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 16155, "upload_time": "2020-01-01T14:06:55", "upload_time_iso_8601": "2020-01-01T14:06:55.388616Z", "url": "https://files.pythonhosted.org/packages/c6/6c/54e5e045b146893475bf624b9ffe48dd564db704aa392dc9dcf38ecf1a99/poche-0.3.0-py3-none-any.whl"}, {"comment_text": "", "digests": {"md5": "4d0a78b01ff6b5b7607b20eb37d95f34", "sha256": "c1780b64e6c03933c7b96bd50608a43689da4547d5c0a81bd36f75e30fcb52f5"}, "downloads": -1, "filename": "poche-0.3.0.tar.gz", "has_sig": false, "md5_digest": "4d0a78b01ff6b5b7607b20eb37d95f34", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 16194, "upload_time": "2020-01-01T14:06:57", "upload_time_iso_8601": "2020-01-01T14:06:57.012960Z", "url": "https://files.pythonhosted.org/packages/b6/bb/a8b30ce6dcc37d588ad8ed8e6756827eeb93150558ab14cf9ff194627542/poche-0.3.0.tar.gz"}]}