# uncompyle6 version 3.7.4
# Python bytecode 2.7 (62211)
# Decompiled from: Python 3.6.9 (default, Apr 18 2020, 01:56:04) 
# [GCC 8.4.0]
# Embedded file name: build\bdist.win32\egg\b3\tools\debug\runsnakerun\dumbprofile.py
# Compiled at: 2016-03-08 18:42:10
import pdb, sys, time, thread, threading

class CodeInfo(object):
    """Code-object information for multiple calls of code"""

    def __init__(self, code):
        """Open the frame"""
        self.local = 0
        self.cummulative = 0
        self.callcount = 0
        self.children = {}
        self.lines = {}
        if isinstance(code, (str, unicode)):
            self.filename = '~'
            self.firstline = 0
            self.name = code
        else:
            self.filename = code.co_filename
            self.firstline = code.co_firstlineno
            self.name = code.co_name
        self.code = code

    def add_line(self, lineno, delta):
        """Add line-number delta for line-profiling operations"""
        self.lines[lineno] = self.lines.get(lineno, 0) + delta

    def add_local(self, delta):
        """Add local time to our counters"""
        self.local += delta
        self.callcount += 1

    def add_cummulative(self, delta, subframe):
        """Add cummulative time to our counters"""
        self.cummulative += delta
        if subframe:
            current = self.children.get(subframe.code_info, 0)
            self.children[subframe.code_info] = current + delta

    def __repr__(self):
        return '%s -> %s %s' % (
         (
          self.filename, self.firstline, self.name),
         (
          self.local, self.cummulative, self.callcount),
         self.lines)


class FrameInfo(object):
    """Storage of frame information for a single frame"""

    def __init__(self, frame, profiler, current_time):
        """Open the frame"""
        self.local = 0
        self.cummulative = 0
        self.code_info = profiler.code_info_for(frame.f_code)
        self.start_time = current_time
        self.lines = {}
        self.open_line = None
        return

    def add_local(self, delta):
        """Add local time to our counters"""
        self.code_info.add_local(delta)

    def add_cummulative(self, delta, subframe):
        """Add cummulative time to our counters"""
        self.code_info.add_cummulative(delta, subframe)

    def start_line(self, lineno, start_time):
        self.lines[lineno] = start_time
        self.open_line = lineno

    def add_line(self, lineno, stop_time):
        """Add per-line timing to our counters"""
        if self.lines.has_key(lineno):
            delta = stop_time - self.lines[lineno]
            print 'delta for lineno:', lineno, delta
            self.code_info.add_line(lineno, delta)


class SimpleProfiler(object):

    def __init__(self):
        self.frame_info = [
         None] * sys.getrecursionlimit()
        self.code_info = {}
        self.frame_depth = -1
        self.internal_time = 0
        self.last_time = None
        return

    def describe(self, frame):
        return (
         frame.f_lineno, (frame.f_code.co_name, frame.f_code.co_firstlineno))

    def __call__(self, frame, event, arg):
        t = time.time()
        if self.last_time:
            delta = t - self.last_time
        else:
            delta = 0
        self.internal_time += delta
        if event in ('call', 'c_call'):
            self.frame_depth += 1
            frame_info = FrameInfo(frame, self, self.internal_time)
            self.frame_info[self.frame_depth] = frame_info
        elif event in ('return', 'exception', 'c_return', 'c_exception'):
            frame_info = self.frame_info[self.frame_depth]
            if frame_info:
                if frame_info.open_line is not None:
                    frame_info.add_line(frame_info.open_line, self.internal_time)
                frame_delta = self.internal_time - frame_info.start_time
                for i in range(self.frame_depth):
                    info = self.frame_info[i]
                    if i < len(self.frame_info):
                        other = self.frame_info[(i + 1)]
                    else:
                        other = None
                    if info is None:
                        print i, self.frame_info[:i + 1]
                    info.add_cummulative(frame_delta, other)

                frame_info.add_local(frame_delta)
            self.frame_info[self.frame_depth] = None
            self.frame_depth -= 1
            if self.frame_depth >= 0:
                frame_info = self.frame_info[self.frame_depth]
                if frame_info.open_line:
                    frame_info.add_line(frame_info.open_line, self.internal_time)
        elif event in ('line', ):
            frame_info = self.frame_info[self.frame_depth]
            if frame_info:
                if frame_info.open_line is not None:
                    frame_info.add_line(frame_info.open_line, self.internal_time)
                frame_info.start_line(frame.f_lineno, self.internal_time)
        self.last_time = time.time()
        return self

    def do_line_time(self, frame):
        frame_info.add_line(frame.f_lineno, line_delta)

    def code_info_for(self, code):
        current = self.code_info.get(code)
        if current is None:
            self.code_info[code] = current = CodeInfo(code)
        return current


def test():
    1898279579645829638701484865526871884928454262052339102022307807499314507663411388863797912987057395831176327234296650750597645942647764315173120682637255845436349635618721100534364606794987374359500465715215710298184913314320704805172532129419382566686213634179993692036470665089070699288920962276232148342962710105731267361868753034656745722769169486554281427752722953308733578341802187106296584457589386507430106600840702244779000423632973830138573682036123337604658450980378330250392837080657911043107455878377496027046222500155586863802853153746990404792029405339938968366306788338090651053724430966107396280487758395856769662858849670943629570541695570481475708683229710977668594254940394173753870428026444170608669593441281963558145324523126630550490058320370978395122448143972575592967353334843471782048904186786067756657665192254577046992191235569113466647963753212128885158647832587377094386080592715515395406764380941687471137244480718980078535010119509770895926208850245755454679726925695335498881268959706225866393599875683751339560269122560469737129454448097279361916882613980274215725956005087836551832790826870304389006174430279376788479212843202404513815180507972847585031694203887306744324301860741287847515044569979730165084407284921067355659727513335157663706043739338261934016686164472588028475405845653983560103699924150159774961938587334523477066243631718653991193621379121275436374450377455387867285531274388816255009238381000886156992870696365300467055643291912911305973394334573539607462397209974761531369150531150799537108102026853035494185231725831020789922710803060419987004083858326313501402047778348802421210994298614142415223332592459207046986370939013400233922270937310472734303213672545637348341573512246671125466450122853856476899641850662300401763808190293953127292407167636649837425901429581342015901310122080442062124156586512461801020661852777691576841258512092580801031419650564208355846048134979481699434274866815507970627549640680158760075278927924565106837112784418801408334548782422010850669796714992671976309077562148325396614053417297411014803222599046168282321581381645024635899385572064171770081397396479621422290320449303459685007501241790008734797670737875241226990182924188227627566648567052254158875220601020292582595970897891255376806506469809805616266457282824077632675543307412458905875379356681187188455452345497805053685358374565501131797279668467933844670409367163471000001140821762821234381227412338656417235355238856190370329387749851068496141998299583878771243394865153905457215319931834413591151578061390975607452702449509986269144126360894200956604236823984780556305594030659429076660305413991931001537920630301784412009247639531816933185315959524205325296893771534018925703685231747535947778041027982964602933965837313000944473161822787224063383005271531981306681644517822027295498709176824127010752857619365933232862339482612916683746129422770175815714529149998985509457737171633803006864904466722455267834095786456254898206071722717610267173416923024539940026092675548846577051888491074226397885504630976202700619002838094799522132194425805638939912233390789551228762335129730822622069282529739441135581375554444514292508108257342054693225678652286621784905739347206392898028258137300189994789528119121717186697322112619968727980856702982664460495022949588611954557467543689386546690165439904074286489715290016493334483908235881551185789993070128071146085819787795832878439652046276182049406135076655050485020822159344155730657314951817255575711536306305784088154354949294703999485272087815736499899665632041994359600106044202031262795495465926388622987179077783560986733042725749394689286726553332995711405149313311680190296691507694195371347063989238317404198300899340897707217118994537124836557217849389552786047030097752591227184289463920355892439264663862842690709273899718154722298685717086621467343402260829219683807430942583000994970883677811003304008419381223421602405145819361772220177079134973971227786568085561103883810109560406193906569295754885681749211084485707116302864884268102270099731548989551509092434268624368506126577804050342596367908356091848235679785396054741377941423876640052367558028630335323526503049183009042209383041947164480130875148420322541634662497714497560769451231671004434054211440599854134594219993562637059851209119239555553026802464429265641285077988322138144121012166210075699388041234050441689627533089696802514222633578917882979288174195376848304749963164185847358259344330562875791381341240588915738626376243981930750147731804981840724354059063140850571525427972460656740221268922413747895006306908021215086145739586788521306798177199084324449315562677673311424180915824458671050505351789875820136357384749173368453161377781304576994261061707572136507632174264739008023825286949565463326524407067168631944637960840758261285284306494184965303494239382901171147056231155771510731045188324586572286539165999013338213462040302992330708634059594053271786232491849537227592780659203667260797212150521938879758492716789507105174874190080166443076987720388019697309211375432702213474631094818602755946053354672544789165854226295383617652437198716036150849503664532452331952779779949844539064685538651772302561925922757948116943033882284198115979595699413623438379760228830142165023401297277494364945005272396017869978212523472653413192453068251323464214858981962707422328267966392946122506682896299161512848673598739667966447680658256796429385421180370589309566285303465796080493409198803483683398914513884945065858690855867746537869891330416355689861282024237167205696782722120502344060854650643021058616282672100869139535986940340620341088828036219861897932928591365669478926672193110008791187984473744310103981870305845554505935943338911207074252413200208543985704927345082210522935103022562564560012909841582901793782493790745104950648224543894395698453535707593729053074692977960917538606887385347884297463151057942505392967641759097721791542806135618330659606639520498599943374148394374987805620320538593408499720630335677046644083908182557650989605014273214415826674374038158331122770131758652207536241397354006638028851595110789211183568885665065051885235668299082336893935133403551202039654723909474683167256084126864493623170949026270038093129312097445217343273367592269075062200800792147479858467254987068824837574597354989772008761745449023927473047925697961712943563336430963971303967218671747121671561061082827861120100565004115257583633177060171675360809863960728298617035481549831189577070366831053649134995456308248898629931036044446961538083264119924319760972411654414837116217811950822246665778408626320143812481929299031026788128482830179958825218612525606036389714074706027518658961871243174970940387260737439007349446394242861098488208135158401893209588298929810944681472945458574053681688823042421144481955375200181453659999460121185019539462237816854741343108323152276434543895522344003360289255951850112560638787973058462959808646960951565156186026202239205253643154377338212070274336578969212630716143956885186472000115879443156327737929607182845719147667502253552352023229714826405138048096796075755215321093596843677907200385668402011919057000098087857352785072262998700064225681637861433342639128870712752424249707850958643922475970895086267146357454301769328844586631318723004641916747294314734726663709146305602470914442738238982127906017097014645816643290470744132763645031686485066775166709031477556967457036074904719078417732894570937386403600406666353322845888420865029930103188127003691062352756375456471949640505995432439650103258457633305612014767926824945703098360411149429197409792090872227274856221360666127741221518389977002081210337157238090965717988174991076448857271008248469619518571931017393036191965683896711872857104613817492839801524232423939785522243734282255800778337659826276026553543614726929929750240883176230287757506365020817441662767851070966395328143928289873362865316789437808895268425686192749393621878414467878322753947794157009990451069295425193485983049624143350144880273287070665189745102140745084047804412918639210103884899706287538527978933538431102829153331956443966447088595675229569918178451578142835799985523055101703431878102221742084608164493769051626945832899855239921681211150092513045383553410635664550008785618329865344854024640459452744602948970949735897155210246129007126801863486211179920802082082632997710218983634937064087409047170901790320711915337253469455231057633112004603659192925274583647788420727153740086474464935897025455365193434671932910523621511905514905242907166989020064878292414940074902481094873780640531444974427302318555587271163379096865740523260315919388922592550844929028907975990599634542443729791490146295635294377661975954802628771795780861705890686057285804148765318248376054899391181588248804726448301844973312815885931026674854785115197651495281640334799882219534766389806028866450717698554746760480482381164944293583557179851505036159782297014265738835369586479065800732465857902440822535951840999966270963589200178600625023188532755849377215567727534558140392585067535370946566955542434549197134750422139452198772022933768912070389229265190150897284099458020640109113729915375666110672376060522637339655478801290854969418163182254717474830118677992890749759005018674795704367550424447747888528175877646431218288791574964066495038396733349877809973571465293898214392643106092271180333549619049265860197988976613959755284018980749912234545859620343229015527052129692607985058774970529691756954095218752653729940399777303691926265824295511492958715093760919241326041642148389264734688762111558192795234607507724377652201942267297507580971847742133224055533268225097478862958418462237340925815512253907687001847257832679526368420786743173144304212802170938053989028252407493631806024424664184040143403257962977067135794076398507902124128380039228138735311805338739819483376197895880177927793617263160075919100707319224873927093657045301278903218512239283620445831563582910202440535114746161289361031552213406505377907865225696911642556981330250097492542626657791943644999499451735345230460251009578033990081897476205059994090655117780187938324889149743368039578156633331640838576145252592783022138405872462209648389672709467742342705396017538159250440496825900182206441337359880704151235435847171602924175174759639661994238899741226863480167173857257546079548800704584405978014909996279944002104075256295025485366392853983953309949301855477768042278159968921136727032885369958097008565752877233256635279497747199381312986737783351141915841441797053529627970958467429706211234073061950980468094944761388989110028479451567645655419451895058821908665099122548555954577545535103519109700168292902107934775054778455195978247473063127407158938630978104987397981303064245212216740690060508963166857119700408836105416822026673961756652265243276746960536285070456084717107532513997458725054769323106344380393589766876415268332209088251521333854454814723883392460287455526209175449754548263623378135226298392058321443897242637295237276072175453518112194544617615111415469713828955664222170710254749462322375848972896157445626024432718593481806389285211794631844409023175468615512576656299394546010933770128413081548879724968914998666123964328228022211475834861703486025711608007450659398451458040336591305858723560558688951069759267516215875058727117335319287443400719728542360953867657209060090844310668548228035813481816391205264922384916408319959767570150840243509368621230269087426445046127161603814947386709822706276412214998332485249578070709357620032145713159835373977942502442732704220418999325017210021656071014319135196549009471243478653385121208480960754298218050542964312604758039631054916652341953080766729564807748021013481593157207359614273493417664629662006613894972117631944231642740147123742591859668126609353550099697459307843093967767924635928978599291142018805614499641442799130541001058634829024615255550707281571909285128751417153670474769879565028967300401871787630043379467349890279709925791486535744449608408825985396933219141062157253157336863996873689592160325837927542596809322341327412131702730448742201175874696996044377137587008370002381244201917101589159103426919717598355737767708291173814094581426248147795634139921367635783048116476661263412918859638086868491066639286370435938755897374382967844753049728730136567098405221355469984839156985762705334430566779877858095827475133471900308011250373389683359300743971099337997765545282885596411993642725418944874372364634769676699642946855669462632778917540304984899751331022675819529951620136152201321376434868498068583292914553775016838338073838395034230241249243990559513087307686337979850165354521272420315288347210169162386927723507844130933509448880906901566874312367899644584501053202677192995466653042675099804760735029352577942630764785678080658636207758091089499857898716430722360125924012423563699417618959752282151273993295166835992734856893375649631947668953476263469005181468299955364559380228593420113987430900299065332193101770206997123491997998183277870094078789801369139387690390636068054734603012713044718745506890294141037812895662930071799568676644166235270621717420876726442167947737425609298293347657302739016590913729310761771247321793169016417794832526862261737380109057336100707371244148847259096376077791661939550703461290194268699665378292952642592689570892053756473567102944816567217136962120040881611044439072581976681531774086509584878935839780598785688724087685678878222369985314693714642031510198050109771432818778327910884899173792947541783613549967758086434791673752182415770016182169481769564187600001
    time.sleep(3.0)
    r()


def r(depth=5):
    if depth < 0:
        return
    else:
        z = '22344' * 100000
        time.sleep(0.5)
        return r(depth - 1)
        return


if __name__ == '__main__':
    s = SimpleProfiler()
    sys.settrace(s)
    test()
    sys.settrace(None)
    for value in s.code_info.values():
        print value