# uncompyle6 version 3.7.4
# Python bytecode 3.6 (3379)
# Decompiled from: Python 3.6.9 (default, Apr 18 2020, 01:56:04) 
# [GCC 8.4.0]
# Embedded file name: build/bdist.linux-x86_64/egg/malwarescan/app.py
# Compiled at: 2018-12-08 08:56:56
# Size of source mod 2**32: 1403 bytes
from flask_appfactory.app import load_config, load_application

def create_app(load=True, **kwargs_config):
    import logging, logging.config
    from libs import encoder
    from flask import Flask
    from libs.helpers import ReverseProxied, fltr_elapsedTime, fltr_elapsedTime_secs
    flask_app = Flask(__name__,
      static_folder='static',
      static_url_path='/static',
      template_folder='templates')
    flask_app.json_encoder = encoder.JSONEncoder
    load_config(flask_app, 'malwarescan.config', **kwargs_config)
    logging.config.dictConfig(flask_app.config['APP_LOG'])
    flask_app.wsgi_app = ReverseProxied(flask_app.wsgi_app)
    flask_app.jinja_env.trim_blocks = True
    flask_app.jinja_env.lstrip_blocks = True
    flask_app.jinja_env.filters['elapsedTime'] = fltr_elapsedTime
    flask_app.jinja_env.filters['elapsedTimeSecs'] = fltr_elapsedTime_secs
    if load is True:
        load_application(flask_app)
    if 'mods.admin' in flask_app.config['PACKAGES']:
        from mods.admin.views import admin
        admin.init_app(flask_app)
    return flask_app


def run_apis():
    flsk_app = create_app()
    flsk_app.run((flsk_app.config['FLASK_HOST']),
      port=(flsk_app.config['FLASK_PORT']))


if __name__ == '__main__':
    run_apis()