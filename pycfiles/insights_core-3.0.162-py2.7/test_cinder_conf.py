# uncompyle6 version 3.7.4
# Python bytecode 2.7 (62211)
# Decompiled from: Python 3.6.9 (default, Apr 18 2020, 01:56:04) 
# [GCC 8.4.0]
# Embedded file name: build/bdist.linux-x86_64/egg/insights/parsers/tests/test_cinder_conf.py
# Compiled at: 2019-05-16 13:41:33
from insights.core.context import OSP
from insights.parsers.cinder_conf import CinderConf
from insights.tests import context_wrap
cinder_content = '\n[DEFAULT]\n\n#\n# Options defined in oslo.messaging\n#\n\n# ZeroMQ bind address. Should be a wildcard (*), an ethernet\n# interface, or IP. The "host" option should point or resolve\n# to this address. (string value)\n#rpc_zmq_bind_address=*\n\n# MatchMaker driver. (string value)\n#rpc_zmq_matchmaker=local\n\n# ZeroMQ receiver listening port. (integer value)\n#rpc_zmq_port=9501\n\n# Number of ZeroMQ contexts, defaults to 1. (integer value)\n#rpc_zmq_contexts=1\n\n# Maximum number of ingress messages to locally buffer per\n# topic. Default is unlimited. (integer value)\n#rpc_zmq_topic_backlog=<None>\n\n# Directory for holding IPC sockets. (string value)\n#rpc_zmq_ipc_dir=/var/run/openstack\n\n# Name of this node. Must be a valid hostname, FQDN, or IP\n# address. Must match "host" option, if running Nova. (string\n# value)\n#rpc_zmq_host=cinder\n\n# Seconds to wait before a cast expires (TTL). Only supported\n# by impl_zmq. (integer value)\n#rpc_cast_timeout=30\n\n# Heartbeat frequency. (integer value)\n#matchmaker_heartbeat_freq=300\n\n# Heartbeat time-to-live. (integer value)\n#matchmaker_heartbeat_ttl=600\n\n# Size of RPC thread pool. (integer value)\n#rpc_thread_pool_size=64\n\n# Driver or drivers to handle sending notifications. (multi\n# valued)\n#notification_driver=\n\n# AMQP topic used for OpenStack notifications. (list value)\n# Deprecated group/name - [rpc_notifier2]/topics\n#notification_topics=notifications\n\n# Seconds to wait for a response from a call. (integer value)\n#rpc_response_timeout=60\n\n# A URL representing the messaging driver to use and its full\n# configuration. If not set, we fall back to the rpc_backend\n# option and driver specific configuration. (string value)\n#transport_url=<None>\n\n# The messaging driver to use, defaults to rabbit. Other\n# drivers include qpid and zmq. (string value)\n#rpc_backend=rabbit\nrpc_backend=cinder.openstack.common.rpc.impl_kombu\n\n# The default exchange under which topics are scoped. May be\n# overridden by an exchange name specified in the\n# transport_url option. (string value)\n#control_exchange=openstack\ncontrol_exchange=openstack\n\n\n#\n# Options defined in cinder.exception\n#\n\n# Make exception message format errors fatal. (boolean value)\n#fatal_exception_format_errors=false\n\n\n#\n# Options defined in cinder.quota\n#\n\n# Number of volumes allowed per project (integer value)\n#quota_volumes=10\n\n# Number of volume snapshots allowed per project (integer\n# value)\n#quota_snapshots=10\n\n# Number of consistencygroups allowed per project (integer\n# value)\n#quota_consistencygroups=10\n\n# Total amount of storage, in gigabytes, allowed for volumes\n# and snapshots per project (integer value)\n#quota_gigabytes=1000\n\n# Number of volume backups allowed per project (integer value)\n#quota_backups=10\n\n# Total amount of storage, in gigabytes, allowed for backups\n# per project (integer value)\n#quota_backup_gigabytes=1000\n\n# Number of seconds until a reservation expires (integer\n# value)\n#reservation_expire=86400\n\n# Count of reservations until usage is refreshed (integer\n# value)\n#until_refresh=0\n\n# Number of seconds between subsequent usage refreshes\n# (integer value)\n#max_age=0\n\n# Default driver to use for quota checks (string value)\n#quota_driver=cinder.quota.DbQuotaDriver\n\n# Enables or disables use of default quota class with default\n# quota. (boolean value)\n#use_default_quota_class=true\n\n\n#\n# Options defined in cinder.service\n#\n\n# Interval, in seconds, between nodes reporting state to\n# datastore (integer value)\n#report_interval=10\n\n# Interval, in seconds, between running periodic tasks\n# (integer value)\n#periodic_interval=60\n\n# Range, in seconds, to randomly delay when starting the\n# periodic task scheduler to reduce stampeding. (Disable by\n# setting to 0) (integer value)\n#periodic_fuzzy_delay=60\n\n# IP address on which OpenStack Volume API listens (string\n# value)\n#osapi_volume_listen=0.0.0.0\nosapi_volume_listen=10.22.100.58\n\n# Port on which OpenStack Volume API listens (integer value)\n#osapi_volume_listen_port=8776\n\n# Number of workers for OpenStack Volume API service. The\n# default is equal to the number of CPUs available. (integer\n# value)\n#osapi_volume_workers=<None>\nosapi_volume_workers=32\n\n\n#\n# Options defined in cinder.ssh_utils\n#\n\n# Option to enable strict host key checking.  When set to\n# "True" Cinder will only connect to systems with a host key\n# present in the configured "ssh_hosts_key_file".  When set to\n# "False" the host key will be saved upon first connection and\n# used for subsequent connections.  Default=False (boolean\n# value)\n#strict_ssh_host_key_policy=false\n\n# File containing SSH host keys for the systems with which\n# Cinder needs to communicate.  OPTIONAL:\n# Default=$state_path/ssh_known_hosts (string value)\n#ssh_hosts_key_file=$state_path/ssh_known_hosts\n#\n# Options defined in cinder.test\n#\n\n# File name of clean sqlite db (string value)\n#sqlite_clean_db=clean.sqlite\n\n\n#\n# Options defined in cinder.wsgi\n#\n\n# Maximum line size of message headers to be accepted.\n# max_header_line may need to be increased when using large\n# tokens (typically those generated by the Keystone v3 API\n# with big service catalogs). (integer value)\n#max_header_line=16384\n\n# Timeout for client connections\' socket operations. If an\n# incoming connection is idle for this number of seconds it\n# will be closed. A value of \'0\' means wait forever. (integer\n# value)\n#client_socket_timeout=900\n\n# If False, closes the client socket connection explicitly.\n# Setting it to True to maintain backward compatibility.\n# Recommended setting is set it to False. (boolean value)\n#wsgi_keep_alive=true\n\n# Sets the value of TCP_KEEPALIVE (True/False) for each server\n# socket. (boolean value)\n#tcp_keepalive=true\n\n# Sets the value of TCP_KEEPIDLE in seconds for each server\n# socket. Not supported on OS X. (integer value)\n#tcp_keepidle=600\n\n# Sets the value of TCP_KEEPINTVL in seconds for each server\n# socket. Not supported on OS X. (integer value)\n#tcp_keepalive_interval=<None>\n\n# Sets the value of TCP_KEEPCNT for each server socket. Not\n# supported on OS X. (integer value)\n#tcp_keepalive_count=<None>\n\n# CA certificate file to use to verify connecting clients\n# (string value)\n#ssl_ca_file=<None>\n\n# Certificate file to use when starting the server securely\n# (string value)\n#ssl_cert_file=<None>\n\n# Private key file to use when starting the server securely\n# (string value)\n#ssl_key_file=<None>\n\n\n#\n# Options defined in cinder.api.common\n#\n\n# The maximum number of items that a collection resource\n# returns in a single response (integer value)\n#osapi_max_limit=1000\n\n# Base URL that will be presented to users in links to the\n# OpenStack Volume API (string value)\n# Deprecated group/name - [DEFAULT]/osapi_compute_link_prefix\n#osapi_volume_base_URL=<None>\n\n\n#\n# Options defined in cinder.api.middleware.auth\n#\n\n# Treat X-Forwarded-For as the canonical remote address. Only\n# enable this if you have a sanitizing proxy. (boolean value)\n#use_forwarded_for=false\n\n\n#\n# Options defined in cinder.api.middleware.sizelimit\n#\n\n# Max size for body of a request (integer value)\n#osapi_max_request_body_size=114688\n\n\n#\n# Options defined in cinder.api.views.versions\n#\n\n# Public url to use for versions endpoint. The default is\n# None, which will use the request\'s host_url attribute to\n# populate the URL base. If Cinder is operating behind a\n# proxy, you will want to change this to represent the proxy\'s\n# URL. (string value)\n#public_endpoint=<None>\n\n\n#\n# Options defined in cinder.backup.chunkeddriver\n#\n\n# Compression algorithm (None to disable) (string value)\n#backup_compression_algorithm=zlib\n\n\n#\n# Options defined in cinder.backup.driver\n#\n\n# Backup metadata version to be used when backing up volume\n# metadata. If this number is bumped, make sure the service\n# doing the restore supports the new version. (integer value)\n#backup_metadata_version=2\n\n# The number of chunks or objects, for which one Ceilometer\n# notification will be sent (integer value)\n#backup_object_number_per_notification=10\n\n# Interval, in seconds, between two progress notifications\n# reporting the backup status (integer value)\n#backup_timer_interval=120\n\n\n#\n# Options defined in cinder.backup.drivers.ceph\n#\n\n# Ceph configuration file to use. (string value)\n#backup_ceph_conf=/etc/ceph/ceph.conf\n\n# The Ceph user to connect with. Default here is to use the\n# same user as for Cinder volumes. If not using cephx this\n# should be set to None. (string value)\n#backup_ceph_user=cinder\n\n# The chunk size, in bytes, that a backup is broken into\n# before transfer to the Ceph object store. (integer value)\n#backup_ceph_chunk_size=134217728\n\n# The Ceph pool where volume backups are stored. (string\n# value)\n#backup_ceph_pool=backups\n\n# RBD stripe unit to use when creating a backup image.\n# (integer value)\n#backup_ceph_stripe_unit=0\n\n# RBD stripe count to use when creating a backup image.\n# (integer value)\n#backup_ceph_stripe_count=0\n\n# If True, always discard excess bytes when restoring volumes\n# i.e. pad with zeroes. (boolean value)\n#restore_discard_excess_bytes=true\n\n\n#\n# Options defined in cinder.backup.drivers.nfs\n#\n\n# The maximum size in bytes of the files used to hold backups.\n# If the volume being backed up exceeds this size, then it\n# will be backed up into multiple files. (integer value)\n#backup_file_size=1999994880\n\n# The size in bytes that changes are tracked for incremental\n# backups. backup_swift_object_size has to be multiple of\n# backup_swift_block_size. (integer value)\n#backup_sha_block_size_bytes=32768\n\n# Enable or Disable the timer to send the periodic progress\n# notifications to Ceilometer when backing up the volume to\n# the backend storage. The default value is True to enable the\n# timer. (boolean value)\n#backup_enable_progress_timer=true\n\n# Base dir containing mount point for NFS share. (string\n# value)\n#backup_mount_point_base=$state_path/backup_mount\n\n# NFS share in fqdn:path, ipv4addr:path, or "[ipv6addr]:path"\n# format. (string value)\n#backup_share=<None>\n\n# Mount options passed to the NFS client. See NFS man page for\n# details. (string value)\n#backup_mount_options=<None>\n\n# Custom container to use for backups. (string value)\n#backup_container=<None>\n\n\n#\n# Options defined in cinder.backup.drivers.swift\n#\n\n# The URL of the Swift endpoint (string value)\n#backup_swift_url=<None>\n\n# Info to match when looking for swift in the service catalog.\n# Format is: separated values of the form:\n# <service_type>:<service_name>:<endpoint_type> - Only used if\n# backup_swift_url is unset (string value)\n#swift_catalog_info=object-store:swift:publicURL\n\n# Swift authentication mechanism (string value)\n#backup_swift_auth=per_user\n\n# Swift authentication version. Specify "1" for auth 1.0, or\n# "2" for auth 2.0 (string value)\n#backup_swift_auth_version=1\n\n# Swift tenant/account name. Required when connecting to an\n# auth 2.0 system (string value)\n#backup_swift_tenant=<None>\n\n# Swift user name (string value)\n#backup_swift_user=<None>\n\n# Swift key for authentication (string value)\n#backup_swift_key=<None>\n\n# The default Swift container to use (string value)\n#backup_swift_container=volumebackups\n\n# The size in bytes of Swift backup objects (integer value)\n#backup_swift_object_size=52428800\n\n# The size in bytes that changes are tracked for incremental\n# backups. backup_swift_object_size has to be multiple of\n# backup_swift_block_size. (integer value)\n#backup_swift_block_size=32768\n\n# The number of retries to make for Swift operations (integer\n# value)\n#backup_swift_retry_attempts=3\n\n# The backoff time in seconds between Swift retries (integer\n# value)\n#backup_swift_retry_backoff=2\n\n# Enable or Disable the timer to send the periodic progress\n# notifications to Ceilometer when backing up the volume to\n# the Swift backend storage. The default value is True to\n# enable the timer. (boolean value)\n#backup_swift_enable_progress_timer=true\n\n\n#\n# Options defined in cinder.backup.drivers.tsm\n#\n\n# Volume prefix for the backup id when backing up to TSM\n# (string value)\n#backup_tsm_volume_prefix=backup\n\n# TSM password for the running username (string value)\n#backup_tsm_password=password\n\n# Enable or Disable compression for backups (boolean value)\n#backup_tsm_compression=true\n\n\n#\n# Options defined in cinder.backup.manager\n#\n\n# Driver to use for backups. (string value)\n# Deprecated group/name - [DEFAULT]/backup_service\n#backup_driver=cinder.backup.drivers.swift\n\n\n#\n# Options defined in cinder.cmd.volume\n#\n\n# Backend override of host value. (string value)\n# Deprecated group/name - [DEFAULT]/host\n#backend_host=<None>\n\n\n#\n# Options defined in cinder.cmd.volume_usage_audit\n#\n\n# If this option is specified then the start time specified is\n# used instead of the start time of the last completed audit\n# period. (string value)\n#start_time=<None>\n\n# If this option is specified then the end time specified is\n# used instead of the end time of the last completed audit\n# period. (string value)\n#end_time=<None>\n\n# Send the volume and snapshot create and delete notifications\n# generated in the specified period. (boolean value)\n#send_actions=false\n\n\n#\n# Options defined in cinder.common.config\n#\n\n# File name for the paste.deploy config for cinder-api (string\n# value)\n#api_paste_config=api-paste.ini\napi_paste_config=/etc/cinder/api-paste.ini\n\n# Top-level directory for maintaining cinder\'s state (string\n# value)\n# Deprecated group/name - [DEFAULT]/pybasedir\n#state_path=/var/lib/cinder\n\n# IP address of this host (string value)\n#my_ip=10.0.0.1\n\n# Default glance host name or IP (string value)\n#glance_host=$my_ip\n\n# Default glance port (integer value)\n#glance_port=9292\n\n# A list of the glance API servers available to cinder\n# ([hostname|ip]:port) (list value)\n#glance_api_servers=$glance_host:$glance_port\nglance_api_servers=http://10.22.120.50:9292\n\n# Version of the glance API to use (integer value)\n#glance_api_version=1\nglance_api_version=2\n\n# Number retries when downloading an image from glance\n# (integer value)\n#glance_num_retries=0\nglance_num_retries=0\n\n# Allow to perform insecure SSL (https) requests to glance\n# (boolean value)\n#glance_api_insecure=false\nglance_api_insecure=False\n\n# Enables or disables negotiation of SSL layer compression. In\n# some cases disabling compression can improve data\n# throughput, such as when high network bandwidth is available\n# and you use compressed image formats like qcow2. (boolean\n# value)\n#glance_api_ssl_compression=false\nglance_api_ssl_compression=False\n\n# Location of ca certificates file to use for glance client\n# requests. (string value)\n#glance_ca_certificates_file=<None>\n\n# http/https timeout value for glance operations. If no value\n# (None) is supplied here, the glanceclient default value is\n# used. (integer value)\n#glance_request_timeout=<None>\n\n# The topic that scheduler nodes listen on (string value)\n#scheduler_topic=cinder-scheduler\n\n# The topic that volume nodes listen on (string value)\n#volume_topic=cinder-volume\n\n# The topic that volume backup nodes listen on (string value)\n#backup_topic=cinder-backup\n\n# DEPRECATED: Deploy v1 of the Cinder API. (boolean value)\n#enable_v1_api=true\nenable_v1_api=True\n\n# Deploy v2 of the Cinder API. (boolean value)\n#enable_v2_api=true\nenable_v2_api=True\n\n# Enables or disables rate limit of the API. (boolean value)\n#api_rate_limit=true\n\n# Specify list of extensions to load when using\n# osapi_volume_extension option with\n# cinder.api.contrib.select_extensions (list value)\n#osapi_volume_ext_list=\n\n# osapi volume extension to load (multi valued)\n#osapi_volume_extension=cinder.api.contrib.standard_extensions\n\n# Full class name for the Manager for volume (string value)\n#volume_manager=cinder.volume.manager.VolumeManager\n\n# Full class name for the Manager for volume backup (string\n# value)\n#backup_manager=cinder.backup.manager.BackupManager\n\n# Full class name for the Manager for scheduler (string value)\n#scheduler_manager=cinder.scheduler.manager.SchedulerManager\n\n# Name of this node.  This can be an opaque identifier. It is\n# not necessarily a host name, FQDN, or IP address. (string\n# value)\n#host=cinder\n\n# Availability zone of this node (string value)\n#storage_availability_zone=nova\nstorage_availability_zone=nova\n\n# Default availability zone for new volumes. If not set, the\n# storage_availability_zone option value is used as the\n# default for new volumes. (string value)\n#default_availability_zone=<None>\ndefault_availability_zone=nova\n\n# Default volume type to use (string value)\n#default_volume_type=<None>\n\n# Time period for which to generate volume usages. The options\n# are hour, day, month, or year. (string value)\n#volume_usage_audit_period=month\n\n# Path to the rootwrap configuration file to use for running\n# commands as root (string value)\n#rootwrap_config=/etc/cinder/rootwrap.conf\n\n# Enable monkey patching (boolean value)\n#monkey_patch=false\n\n# List of modules/decorators to monkey patch (list value)\n#monkey_patch_modules=\n\n# Maximum time since last check-in for a service to be\n# considered up (integer value)\n#service_down_time=60\n\n# The full class name of the volume API class to use (string\n# value)\n#volume_api_class=cinder.volume.api.API\n\n# The full class name of the volume backup API class (string\n# value)\n#backup_api_class=cinder.backup.api.API\n\n# The strategy to use for auth. Supports noauth, keystone, and\n# deprecated. (string value)\n#auth_strategy=noauth\nauth_strategy=keystone\n\n# A list of backend names to use. These backend names should\n# be backed by a unique [CONFIG] group with its options (list\n# value)\n#enabled_backends=<None>\nenabled_backends=tripleo_ceph\n\n# Whether snapshots count against gigabyte quota (boolean\n# value)\n#no_snapshot_gb_quota=false\n\n# The full class name of the volume transfer API class (string\n# value)\n#transfer_api_class=cinder.transfer.api.API\n\n# The full class name of the volume replication API class\n# (string value)\n#replication_api_class=cinder.replication.api.API\n\n# The full class name of the consistencygroup API class\n# (string value)\n#consistencygroup_api_class=cinder.consistencygroup.api.API\n\n# OpenStack privileged account username. Used for requests to\n# other services (such as Nova) that require an account with\n# special rights. (string value)\n#os_privileged_user_name=<None>\n\n# Password associated with the OpenStack privileged account.\n# (string value)\n#os_privileged_user_password=<None>\n\n# Tenant name associated with the OpenStack privileged\n# account. (string value)\n#os_privileged_user_tenant=<None>\n\n\n#\n# Options defined in cinder.compute\n#\n\n# The full class name of the compute API class to use (string\n# value)\n#compute_api_class=cinder.compute.nova.API\n\n\n#\n# Options defined in cinder.compute.nova\n#\n\n# Match this value when searching for nova in the service\n# catalog. Format is: separated values of the form:\n# <service_type>:<service_name>:<endpoint_type> (string value)\n#nova_catalog_info=compute:Compute Service:publicURL\nnova_catalog_info=compute:Compute Service:publicURL\n\n# Same as nova_catalog_info, but for admin endpoint. (string\n# value)\n#nova_catalog_admin_info=compute:Compute Service:adminURL\nnova_catalog_admin_info=compute:Compute Service:adminURL\n\n# Override service catalog lookup with template for nova\n# endpoint e.g. http://localhost:8774/v2/%(project_id)s\n# (string value)\n#nova_endpoint_template=<None>\n\n# Same as nova_endpoint_template, but for admin endpoint.\n# (string value)\n#nova_endpoint_admin_template=<None>\n\n# Region name of this node (string value)\n#os_region_name=<None>\n\n# Location of ca certificates file to use for nova client\n# requests. (string value)\n#nova_ca_certificates_file=<None>\n\n# Allow to perform insecure SSL requests to nova (boolean\n# value)\n#nova_api_insecure=false\n\n\n#\n# Options defined in cinder.db.api\n#\n\n# Services to be added to the available pool on create\n# (boolean value)\n#enable_new_services=true\n\n# Template string to be used to generate volume names (string\n# value)\n#volume_name_template=volume-%s\n\n# Template string to be used to generate snapshot names\n# (string value)\n#snapshot_name_template=snapshot-%s\n\n# Template string to be used to generate backup names (string\n# value)\n#backup_name_template=backup-%s\n\n\n#\n# Options defined in cinder.db.base\n#\n\n# Driver to use for database access (string value)\n#db_driver=cinder.db\n#\n# Options defined in cinder.openstack.common.periodic_task\n#\n\n# Some periodic tasks can be run in a separate process. Should\n# we run them here? (boolean value)\n#run_external_periodic_tasks=true\n\n\n#\n# Options defined in cinder.openstack.common.policy\n#\n\n# The JSON file that defines policies. (string value)\n#policy_file=policy.json\n\n# Default rule. Enforced when a requested rule is not found.\n# (string value)\n#policy_default_rule=default\n\n# Directories where policy configuration files are stored.\n# They can be relative to any directory in the search path\n# defined by the config_dir option, or absolute paths. The\n# file defined by policy_file must exist for these directories\n# to be searched.  Missing or empty directories are ignored.\n# (multi valued)\n#policy_dirs=policy.d\n# Which filter class names to use for filtering hosts when not\n# specified in the request. (list value)\n#scheduler_default_filters=AvailabilityZoneFilter,CapacityFilter,CapabilitiesFilter\n\n# Which weigher class names to use for weighing hosts. (list\n# value)\n\n# Cache volume availability zones in memory for the provided\n# duration in seconds (integer value)\n#az_cache_duration=3600\n\n# Create volume from snapshot at the host where snapshot\n# resides (boolean value)\n#snapshot_same_host=true\n\n# Ensure that the new volumes are the same AZ as snapshot or\n# source volume (boolean value)\n#cloned_volume_same_az=true\n\n\n#\n# Options defined in cinder.volume.driver\n#\n\n# The maximum number of times to rescan iSER targetto find\n# volume (integer value)\n#num_iser_scan_tries=3\n\n# This option is deprecated and unused. It will be removed in\n# the Liberty release. (integer value)\n#iser_num_targets=<None>\n\n# Prefix for iSER volumes (string value)\n#iser_target_prefix=iqn.2010-10.org.openstack:\n\n# The IP address that the iSER daemon is listening on (string\n# value)\n#iser_ip_address=$my_ip\n\n# Prefix for iSCSI volumes (string value)\n#iscsi_target_prefix=iqn.2010-10.org.openstack:\n\n# The IP address that the iSCSI daemon is listening on (string\n# value)\n#iscsi_ip_address=$my_ip\n\n# The list of secondary IP addresses of the iSCSI daemon (list\n# value)\n#iscsi_secondary_ip_addresses=\n\n# The port that the iSCSI daemon is listening on (integer\n# value)\n#iscsi_port=3260\n\n# The maximum number of times to rescan targets to find volume\n# (integer value)\n# Deprecated group/name - [DEFAULT]/num_iscsi_scan_tries\n#num_volume_device_scan_tries=3\n\n# The backend name for a given driver implementation (string\n# value)\n#volume_backend_name=<None>\n\n# Do we attach/detach volumes in cinder using multipath for\n# volume to image and image to volume transfers? (boolean\n# value)\n#use_multipath_for_image_xfer=false\n\n# If this is set to True, attachment of volumes for image\n# transfer will be aborted when multipathd is not running.\n# Otherwise, it will fallback to single path. (boolean value)\n#enforce_multipath_for_image_xfer=false\n\n# Method used to wipe old volumes (string value)\n#volume_clear=zero\n\n# Size in MiB to wipe at start of old volumes. 0 => all\n# (integer value)\n#volume_clear_size=0\n\n# The flag to pass to ionice to alter the i/o priority of the\n# process used to zero a volume after deletion, for example\n# "-c3" for idle only priority. (string value)\n#volume_clear_ionice=<None>\n\n# iSCSI target user-land tool to use. tgtadm is default, use\n# lioadm for LIO iSCSI support, scstadmin for SCST target\n# support, iseradm for the ISER protocol, ietadm for iSCSI\n# Enterprise Target, iscsictl for Chelsio iSCSI Target or fake\n# for testing. (string value)\n#iscsi_helper=tgtadm\n\n# Volume configuration file storage directory (string value)\n#volumes_dir=$state_path/volumes\n\n# IET configuration file (string value)\n#iet_conf=/etc/iet/ietd.conf\n\n# Chiscsi (CXT) global defaults configuration file (string\n# value)\n#chiscsi_conf=/etc/chelsio-iscsi/chiscsi.conf\n\n# This option is deprecated and unused. It will be removed in\n# the next release. (string value)\n#lio_initiator_iqns=\n\n# Sets the behavior of the iSCSI target to either perform\n# blockio or fileio optionally, auto can be set and Cinder\n# will autodetect type of backing device (string value)\n#iscsi_iotype=fileio\n\n# The default block size used when copying/clearing volumes\n# (string value)\n#volume_dd_blocksize=1M\n\n# The blkio cgroup name to be used to limit bandwidth of\n# volume copy (string value)\n#volume_copy_blkio_cgroup_name=cinder-volume-copy\n\n# The path to the client certificate key for verification, if\n# the driver supports it. (string value)\n#driver_client_cert_key=<None>\n\n# Option to enable/disable CHAP authentication for targets.\n# (boolean value)\n# Deprecated group/name - [DEFAULT]/eqlx_use_chap\n#use_chap_auth=false\n\n# CHAP user name. (string value)\n# Deprecated group/name - [DEFAULT]/eqlx_chap_login\n#chap_username=\n\n# Password for specified CHAP account name. (string value)\n# Deprecated group/name - [DEFAULT]/eqlx_chap_password\n#chap_password=\n\n# Namespace for driver private data values to be saved in.\n# (string value)\n#driver_data_namespace=<None>\n\n# String representation for an equation that will be used to\n# filter hosts. Only used when the driver filter is set to be\n# used by the Cinder scheduler. (string value)\n#filter_function=<None>\n\n# String representation for an equation that will be used to\n# determine the goodness of a host. Only used when using the\n# goodness weigher is set to be used by the Cinder scheduler.\n# (string value)\n#goodness_function=<None>\n\n\n#\n# Options defined in cinder.volume.drivers.block_device\n#\n\n# List of all available devices (list value)\n#available_devices=\n\n\n#\n# Options defined in cinder.volume.drivers.cloudbyte.options\n#\n\n# These values will be used for CloudByte storage\'s addQos API\n# call. (dict value)\n#cb_add_qosgroup=latency:15,iops:10,graceallowed:false,iopscontrol:true,memlimit:0,throughput:0,tpcontrol:false,networkspeed:0\n\n# Driver will use this API key to authenticate against the\n# CloudByte storage\'s management interface. (string value)\n#cb_apikey=None\n\n# CloudByte storage specific account name. This maps to a\n# project name in OpenStack. (string value)\n#cb_account_name=None\n\n# This corresponds to the name of Tenant Storage Machine (TSM)\n# in CloudByte storage. A volume will be created in this TSM.\n# (string value)\n#cb_tsm_name=None\n\n# A retry value in seconds. Will be used by the driver to\n# check if volume creation was successful in CloudByte\n# storage. (integer value)\n#cb_confirm_volume_create_retry_interval=5\n\n# Will confirm a successful volume creation in CloudByte\n# storage by making this many number of attempts. (integer\n# value)\n#cb_confirm_volume_create_retries=3\n\n# These values will be used for CloudByte storage\'s\n# createVolume API call. (dict value)\n\n# VNX authentication scope type. (string value)\n#storage_vnx_authentication_type=global\n\n# Directory path that contains the VNX security file. Make\n# sure the security file is generated first. (string value)\n#storage_vnx_security_file_dir=<None>\n\n# Naviseccli Path. (string value)\n#naviseccli_path=\n\n# Storage pool name. (string value)\n#storage_vnx_pool_name=<None>\n\n# VNX secondary SP IP Address. (string value)\n#san_secondary_ip=<None>\n\n# Default timeout for CLI operations in minutes. For example,\n# LUN migration is a typical long running operation, which\n# depends on the LUN size and the load of the array. An upper\n# bound in the specific deployment can be set to avoid\n# unnecessary long wait. By default, it is 365 days long.\n# (integer value)\n#default_timeout=525600\n\n# Default max number of LUNs in a storage group. By default,\n# the value is 255. (integer value)\n#max_luns_per_storage_group=255\n\n# To destroy storage group when the last LUN is removed from\n# it. By default, the value is False. (boolean value)\n#destroy_empty_storage_group=false\n\n# Mapping between hostname and its iSCSI initiator IP\n# addresses. (string value)\n#iscsi_initiators=\n\n# Automatically register initiators. By default, the value is\n# False. (boolean value)\n#initiator_auto_registration=false\n\n# Automatically deregister initiators after the related\n# storage group is destroyed. By default, the value is False.\n# (boolean value)\n#initiator_auto_deregistration=false\n\n# Report free_capacity_gb as 0 when the limit to maximum\n# number of pool LUNs is reached. By default, the value is\n# False. (boolean value)\n#check_max_pool_luns_threshold=false\n\n# Delete a LUN even if it is in Storage Groups. (boolean\n# value)\n#force_delete_lun_in_storagegroup=false\n#\n# Options defined in cinder.volume.drivers.emc.xtremio\n#\n\n# XMS cluster id in multi-cluster environment (string value)\n#xtremio_cluster_name=\n\n\n#\n# Options defined in cinder.volume.drivers.eqlx\n#\n\n# Group name to use for creating volumes. Defaults to\n# "group-0". (string value)\n#eqlx_group_name=group-0\n\n# Timeout for the Group Manager cli command execution. Default\n# is 30. (integer value)\n#eqlx_cli_timeout=30\n\n# Maximum retry count for reconnection. Default is 5. (integer\n# value)\n#eqlx_cli_max_retries=5\n\n# Use CHAP authentication for targets. Note that this option\n# is deprecated in favour of "use_chap_auth" as specified in\n# cinder/volume/driver.py and will be removed in next release.\n# (boolean value)\neqlx_use_chap=false\n\n# Existing CHAP account name. Note that this option is\n# deprecated in favour of "chap_username" as specified in\n# cinder/volume/driver.py and will be removed in next release.\n# (string value)\n#eqlx_chap_login=admin\n\n# Password for specified CHAP account name. Note that this\n# option is deprecated in favour of "chap_password" as\n# specified in cinder/volume/driver.py and will be removed in\n# the next release (string value)\n#eqlx_chap_password=password\n\n# Pool in which volumes will be created. Defaults to\n# "default". (string value)\n#eqlx_pool=default\n\n\n#\n# Options defined in cinder.volume.drivers.glusterfs\n#\n\n# File with the list of available gluster shares (string\n# value)\n#glusterfs_shares_config=/etc/cinder/glusterfs_shares\n\n# Create volumes as sparsed files which take no space.If set\n# to False volume is created as regular file.In such case\n# volume creation takes a lot of time. (boolean value)\n#glusterfs_sparsed_volumes=true\n\n# Create volumes as QCOW2 files rather than raw files.\n# (boolean value)\n#glusterfs_qcow2_volumes=false\n\n# Base dir containing mount points for gluster shares. (string\n# value)\n#glusterfs_mount_point_base=$state_path/mnt\n\n\n#\n# Options defined in cinder.volume.drivers.hds.hds\n#\n\n# The configuration file for the Cinder HDS driver for HUS\n# (string value)\n#hds_cinder_config_file=/opt/hds/hus/cinder_hus_conf.xml\n\n\n#\n# Options defined in cinder.volume.drivers.hds.iscsi\n#\n\n# Configuration file for HDS iSCSI cinder plugin (string\n# value)\n#hds_hnas_iscsi_config_file=/opt/hds/hnas/cinder_iscsi_conf.xml\n\n\n#\n# Options defined in cinder.volume.drivers.hds.nfs\n#\n# Interval to check copy (integer value)\n#hitachi_copy_check_interval=3\n\n# Interval to check copy asynchronously (integer value)\n#hitachi_async_copy_check_interval=10\n\n# Control port names for HostGroup or iSCSI Target (string\n# value)\n#hitachi_target_ports=<None>\n\n# Range of group number (string value)\n#hitachi_group_range=<None>\n\n# Request for creating HostGroup or iSCSI Target (boolean\n# value)\n#hitachi_group_request=false\n\n\n#\n# Options defined in cinder.volume.drivers.hitachi.hbsd_fc\n#\n\n# Request for FC Zone creating HostGroup (boolean value)\n#hitachi_zoning_request=false\n\n# If False fully disable profiling feature. (boolean value)\n#profiler_enabled=false\n\n# If False doesn\'t trace SQL requests. (boolean value)\n#trace_sqlalchemy=false\n\n[lvm]\niscsi_helper=lioadm\nvolume_group=cinder-volumes\niscsi_ip_address=192.168.88.10\nvolume_driver=cinder.volume.drivers.lvm.LVMVolumeDriver\nvolumes_dir=/var/lib/cinder/volumes\niscsi_protocol=iscsi\nvolume_backend_name=lvm\n\n'
osp = OSP()
osp.role = 'Controller'

def test_match():
    result = CinderConf(context_wrap(cinder_content, osp=osp))
    assert result.data.get('DEFAULT', 'enabled_backends') == 'tripleo_ceph'
    assert result.data.get('DEFAULT', 'glance_api_ssl_compression') == 'False'
    assert result.data.get('DEFAULT', 'eqlx_use_chap') == 'false'
    assert result.data.get('lvm', 'iscsi_helper') == 'lioadm'
    assert result.data.get('lvm', 'volumes_dir') == '/var/lib/cinder/volumes'
    assert result.data.get('lvm', 'volume_backend_name') == 'lvm'